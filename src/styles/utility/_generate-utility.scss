/*
https://raw.githubusercontent.com/twbs/bootstrap/master/scss/_utilities.scss

The MIT License (MIT)

Copyright (c) 2011-2020 Twitter, Inc.
Copyright (c) 2011-2020 The Bootstrap Authors

See THIRD_PARTY_LICENSES
*/

// Utility generator
// Used to generate utilities & print utilities
@mixin generate-utility($utility, $infix) {
    $prefix: 'bdl-u-'; // ADDING THIS PREFIX IS THE ONLY DIFFERENCE FROM THE BOOTSTRAP UTIL

    $values: map-get($utility, values);

    // If the values are a list or string, convert it into a map
    @if type-of($values) == 'string' or type-of(nth($values, 1)) != 'list' {
        $values: zip($values, $values);
    }

    @each $key, $value in $values {
        $properties: map-get($utility, property);

        // Multiple properties are possible, for example with vertical or horizontal margins or paddings
        @if type-of($properties) == 'string' {
            $properties: append((), $properties);
        }

        // Use custom class if present
        $property-class: if(map-has-key($utility, class), map-get($utility, class), nth($properties, 1));
        $property-class: if($property-class == null, '', $property-class);

        $infix: if($property-class == '' and str-slice($infix, 1, 1) == '-', str-slice($infix, 2), $infix);

        // Don't prefix if value key is null (eg. with shadow class)
        $property-class-modifier: if($key, if($property-class == '' and $infix == '', '', '-') + $key, '');

        .#{$prefix + $property-class + $infix + $property-class-modifier} {
            @each $property in $properties {
                // stylelint-disable-next-line declaration-no-important
                #{$property}: $value !important;
            }
        }
    }
}
