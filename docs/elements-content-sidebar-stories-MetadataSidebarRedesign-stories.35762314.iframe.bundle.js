"use strict";(globalThis.webpackChunkbox_ui_elements=globalThis.webpackChunkbox_ui_elements||[]).push([[15300],{"./src/elements/content-sidebar/stories/MetadataSidebarRedesign.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Basic:()=>Basic,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),storybook_test__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("storybook/test"),msw__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/msw/lib/core/http.mjs"),msw__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/msw/lib/core/HttpResponse.mjs"),_ContentSidebar__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/elements/content-sidebar/ContentSidebar.js"),_mocks_MetadataSidebarRedesignedMocks__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/elements/content-sidebar/stories/__mocks__/MetadataSidebarRedesignedMocks.ts");const mockLogger={onReadyMetric:({endMarkName})=>{console.log(`Logger: onReadyMetric called with endMarkName: ${endMarkName}`)}},defaultMetadataSidebarProps={isBoxAiSuggestionsEnabled:!0,isBetaLanguageEnabled:!1,isDeleteConfirmationModalCheckboxEnabled:!1,isMetadataMultiLevelTaxonomyFieldEnabled:!1,isFeatureEnabled:!0,onError:(0,storybook_test__WEBPACK_IMPORTED_MODULE_1__.fn)(),onSuccess:(0,storybook_test__WEBPACK_IMPORTED_MODULE_1__.fn)()},__WEBPACK_DEFAULT_EXPORT__={title:"Elements/ContentSidebar/MetadataSidebarRedesign",component:_ContentSidebar__WEBPACK_IMPORTED_MODULE_2__.A,args:{fileId:_mocks_MetadataSidebarRedesignedMocks__WEBPACK_IMPORTED_MODULE_3__.pT,features:{"metadata.redesign.enabled":!0},logger:mockLogger,hasMetadata:!0,token:__webpack_require__.g.TOKEN,metadataSidebarProps:defaultMetadataSidebarProps},parameters:{msw:{handlers:[msw__WEBPACK_IMPORTED_MODULE_4__.L.get(_mocks_MetadataSidebarRedesignedMocks__WEBPACK_IMPORTED_MODULE_3__.ul.url,(()=>msw__WEBPACK_IMPORTED_MODULE_5__.c.json(_mocks_MetadataSidebarRedesignedMocks__WEBPACK_IMPORTED_MODULE_3__.ul.response))),msw__WEBPACK_IMPORTED_MODULE_4__.L.get(_mocks_MetadataSidebarRedesignedMocks__WEBPACK_IMPORTED_MODULE_3__.Uo.url,(()=>msw__WEBPACK_IMPORTED_MODULE_5__.c.json(_mocks_MetadataSidebarRedesignedMocks__WEBPACK_IMPORTED_MODULE_3__.Uo.response))),msw__WEBPACK_IMPORTED_MODULE_4__.L.get(_mocks_MetadataSidebarRedesignedMocks__WEBPACK_IMPORTED_MODULE_3__.eQ.url,(()=>msw__WEBPACK_IMPORTED_MODULE_5__.c.json(_mocks_MetadataSidebarRedesignedMocks__WEBPACK_IMPORTED_MODULE_3__.eQ.response))),msw__WEBPACK_IMPORTED_MODULE_4__.L.get(_mocks_MetadataSidebarRedesignedMocks__WEBPACK_IMPORTED_MODULE_3__.Wm.url,(()=>msw__WEBPACK_IMPORTED_MODULE_5__.c.json(_mocks_MetadataSidebarRedesignedMocks__WEBPACK_IMPORTED_MODULE_3__.Wm.response)))]}},render:args=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ContentSidebar__WEBPACK_IMPORTED_MODULE_2__.A,args)},Basic={play:async({canvasElement})=>{const canvas=(0,storybook_test__WEBPACK_IMPORTED_MODULE_1__.within)(canvasElement),addTemplateButton=await canvas.findByRole("button",{name:"Add template"},{container:await canvas.findByRole("tabpanel")});await storybook_test__WEBPACK_IMPORTED_MODULE_1__.userEvent.click(addTemplateButton)}},__namedExportsOrder=["Basic"];Basic.parameters={...Basic.parameters,docs:{...Basic.parameters?.docs,source:{originalSource:"{\n  play: async ({\n    canvasElement\n  }) => {\n    const canvas = within(canvasElement);\n    const addTemplateButton = await canvas.findByRole('button', {\n      name: 'Add template'\n    }, {\n      container: await canvas.findByRole('tabpanel')\n    });\n    await userEvent.click(addTemplateButton);\n  }\n}",...Basic.parameters?.docs?.source}}}},"./src/elements/content-sidebar/stories/__mocks__/MetadataSidebarRedesignedMocks.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Fd:()=>fileIdWithoutMetadata,JD:()=>mockEmptyMetadataInstances,Uo:()=>mockMetadataInstances,Wm:()=>mockGlobalMetadataTemplates,YI:()=>aiSuggestionForDateField,b4:()=>aiSuggestionsForMyAttribute,bM:()=>mockFileRequestWithoutMetadata,eQ:()=>mockEnterpriseMetadataTemplates,pT:()=>fileIdWithMetadata,qx:()=>mockErrorDeleteMyTemplateMetadataRequest,ul:()=>mockFileRequest});var _constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/constants.js");const fileIdWithMetadata="415542803939",fileIdWithoutMetadata="416047501580",apiV2Path=`${_constants__WEBPACK_IMPORTED_MODULE_0__.f9u}/2.0`,mockFileRequest={url:`${apiV2Path}/files/${fileIdWithMetadata}`,response:{type:"file",id:fileIdWithMetadata,etag:"3",is_externally_owned:!1,extension:"pdf",permissions:{can_download:!0,can_preview:!0,can_upload:!0,can_comment:!0,can_rename:!1,can_delete:!1,can_share:!1,can_set_share_access:!1,can_invite_collaborator:!1,can_annotate:!1,can_view_annotations_all:!0,can_view_annotations_self:!0,can_create_annotations:!0,can_view_annotations:!0}}},mockFileRequestWithoutMetadata={url:`${apiV2Path}/files/${fileIdWithoutMetadata}`,response:{type:"file",id:fileIdWithoutMetadata,etag:"3",is_externally_owned:!1,permissions:{can_download:!0,can_preview:!0,can_upload:!1,can_comment:!0,can_rename:!1,can_delete:!1,can_share:!1,can_set_share_access:!1,can_invite_collaborator:!1,can_annotate:!1,can_view_annotations_all:!0,can_view_annotations_self:!0,can_create_annotations:!0,can_view_annotations:!0}}},mockGlobalMetadataTemplates={url:`${apiV2Path}/metadata_templates/global`,response:{entries:[]}},mockEmptyMetadataInstances={url:`${apiV2Path}/files/${fileIdWithoutMetadata}/metadata`,response:{entries:[{id:"2cb618ed-f31e-4172-b354-534524246653",$version:1,$type:"Secrets-453ffc2f-bf5a-464c-a004-432342",$parent:"file_415542803939",$typeVersion:1,$template:"secrets",$scope:"enterprise_173733877",myAttribute:"Secrets",$canEdit:!0}]}},mockMetadataInstances={url:`${apiV2Path}/files/${fileIdWithMetadata}/metadata`,response:{entries:[{$id:"776397f2-5d56-4a33-80c1-569614702899",$version:1,$type:"myTemplate-453ffc2f-bf5a-464c-a004-476a4eac20fd",$parent:"file_415542803939",$typeVersion:1,$template:"myTemplate",$scope:"enterprise_173733877",$templateKey:"myTemplate",myAttribute:"My Value",$canEdit:!0},{$id:"8efaaafc-6bbf-4d8a-bb94-6e0ed158d2a8",$version:0,$type:"selectDropdowns-0549abd6-5b7b-48ed-bfa8-34528d33d5b9",$parent:"file_415542803939",$typeVersion:2,$template:"selectDropdowns",$scope:"enterprise_173733877",$canEdit:!0},{$id:"af8eb470-5336-4886-b488-9480526ffa06",$version:1,$type:"properties",$parent:"file_415542803939",$typeVersion:6,$template:"properties",$scope:"global",Test:"Value",Key:"Value",$canEdit:!0}],limit:100}},mockEnterpriseMetadataTemplates={url:`${apiV2Path}/metadata_templates/enterprise`,response:{limit:1e3,entries:[{id:"2f9c5b2b-01a2-4ae6-9197-1ff745effef0",type:"metadata_template",templateKey:"myTemplate",scope:"enterprise_173733877",displayName:"My Template",hidden:!1,copyInstanceOnItemCopy:!1,fields:[{id:"4fc86fb1-43cd-4aa2-a585-5e94ec445d90",type:"string",key:"myAttribute",displayName:"My Attribute",hidden:!1,description:"My Value"}]},{id:"2cb618ed-f31e-4172-b354-6553b425e27c",type:"metadata_template",templateKey:"secrets",scope:"enterprise_173733877",displayName:"Secrets",hidden:!0,copyInstanceOnItemCopy:!1,fields:[{id:"5b4d1801-dee1-4cd5-90b6-5d8b398e5da3",type:"float",key:"secretField",displayName:"Secret Field",hidden:!1,description:"secret value"}]},{id:"90ab141e-285b-43cb-8dc7-a0c32ee19342",type:"metadata_template",templateKey:"securityClassification-6VMVochwUWo",scope:"enterprise_173733877",displayName:"Classification",hidden:!1,copyInstanceOnItemCopy:!1,fields:[{id:"94ce0935-915a-4dbd-87b2-557cac4fb0cb",type:"enum",key:"Box__Security__Classification__Key",displayName:"Classification",hidden:!1,options:[{id:"bab3be2f-050d-4036-ad04-8b776c834cbb",key:"Public",staticConfig:{classification:{classificationDefinition:"Publicly Accessible Information"}}},{id:"bf183996-6671-4f29-a14c-14c995ab8939",key:"Private",staticConfig:{classification:{classificationDefinition:"Contains Sensitive Information"}}}]}]},{id:"bc967b4c-5ec5-4230-a9bb-f1a4b841abf3",type:"metadata_template",templateKey:"selectDropdowns",scope:"enterprise_173733877",displayName:"Select Dropdowns",hidden:!1,copyInstanceOnItemCopy:!1,fields:[{id:"3f17ef73-be16-409f-b574-ba1247f7ce27",type:"enum",key:"breakfastCereal",displayName:"Breakfast Cereal",hidden:!1,options:[{id:"226269a5-7d36-4fb1-b0bd-59ae06dcee19",key:"Froot Loops"},{id:"207da8a8-bb55-49c6-8333-a2dc8c79393a",key:"Trix"},{id:"24a86a4e-bc5b-4416-81bc-276400adb0e6",key:"Frosted Flakes"},{id:"414e0c29-b004-46a7-b3f1-79d5b16f30d9",key:"Cheerios"}]},{id:"d5401569-dd35-427d-b493-016bb87f8702",type:"string",key:"someAttribute1",displayName:"Some Attribute #1",hidden:!1},{id:"ef6f0580-aded-4463-897a-eddf63125e23",type:"string",key:"someAttribute2",displayName:"Some Attribute #2",hidden:!1},{id:"0192363e-2fbd-4899-9355-a38413eb6334",type:"string",key:"someAttribute3",displayName:"Some Attribute #3",hidden:!1},{id:"052afb34-4eba-41ee-b7df-619bd71d6f35",type:"string",key:"someAttribute4",displayName:"Some Attribute #4",hidden:!1},{id:"cb0e30c3-ab19-4fd9-95fc-073aae682af5",type:"string",key:"someAttribute5",displayName:"Some Attribute #5",hidden:!1},{id:"77ea2b1e-27b3-42e8-a794-82a183819455",type:"string",key:"someAttribute6",displayName:"Some Attribute #6",hidden:!1}]},{id:"dc864980-9e7f-45ca-9c8a-88750001da7a",type:"metadata_template",templateKey:"virus_scan_c3Yf7Q56",scope:"enterprise_173733877",displayName:"Virus Scan",hidden:!1,copyInstanceOnItemCopy:!1,fields:[{id:"ffbca749-771b-4399-8c93-7d2610b5fbd3",type:"enum",key:"scan_result",displayName:"Scan result",hidden:!1,options:[{id:"b2876cf5-921f-495d-84a5-7db4ae3890cb",key:"Clean"},{id:"429c03d4-19f4-441a-858d-6d8a9a3c0056",key:"Malicious"},{id:"f65c8ffb-2109-4cfb-aaf1-bb474b15f9fb",key:"Not scanned"},{id:"45c8a35b-657f-40cb-9387-d1ec90d8176d",key:"Suspicious"},{id:"ff6da597-a484-4352-b068-89cc7e218152",key:"Unknown"}]}]},{id:"dc864980-9e7f-45ca-9c8a-454367642fsdf3",type:"metadata_template",templateKey:"date_template",scope:"enterprise_173733877",displayName:"Date Template",hidden:!1,copyInstanceOnItemCopy:!1,fields:[{id:"ffbca749-771b-4399-8c93-4534fsdgs3423",type:"date",key:"dateField",displayName:"Date Field",hidden:!1}]}],next_marker:null,prev_marker:null}},aiSuggestionsForMyAttribute={url:`${apiV2Path}/ai/extract_structured`,response:{myAttribute:"it works fine"}},aiSuggestionForDateField={url:`${apiV2Path}/ai/extract_structured`,response:{dateField:"2024-04-01T00:00:00Z"}},mockErrorDeleteMyTemplateMetadataRequest={url:"https://api.box.com/2.0/files/415542803939/metadata/enterprise_173733877/myTemplate",response:{message:"Instance of 'properties' not found for 'file_416047501580'",code:"instance_not_found",request_id:"fasf6as5fasfas7a"}}}}]);