"use strict";(globalThis.webpackChunkbox_ui_elements=globalThis.webpackChunkbox_ui_elements||[]).push([[8619],{"./src/elements/content-explorer/stories/RenameDialog.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__,renameDialog:()=>renameDialog});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),storybook_preview_api__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("storybook/preview-api"),_box_blueprint_web__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@box/blueprint-web/dist/lib-esm/button/button.js"),_utils_storybook__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/utils/storybook.js"),_RenameDialog__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/elements/content-explorer/RenameDialog.tsx");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const renameDialog={render:args=>{const[,setArgs]=(0,storybook_preview_api__WEBPACK_IMPORTED_MODULE_1__.useArgs)(),{appElement,rootElement}=(0,_utils_storybook__WEBPACK_IMPORTED_MODULE_3__.y)();return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_RenameDialog__WEBPACK_IMPORTED_MODULE_2__.A,_extends({appElement,item:{id:"123456",name:"mockItem"},onCancel:()=>{setArgs({isOpen:!1})},parentElement:rootElement},args)),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_box_blueprint_web__WEBPACK_IMPORTED_MODULE_4__.$,{onClick:()=>setArgs({isOpen:!0}),variant:"primary"},"Launch RenameDialog"))}},__WEBPACK_DEFAULT_EXPORT__={title:"Elements/ContentExplorer",component:_RenameDialog__WEBPACK_IMPORTED_MODULE_2__.A,args:{isLoading:!1,isOpen:!1}},__namedExportsOrder=["renameDialog"];renameDialog.parameters={...renameDialog.parameters,docs:{...renameDialog.parameters?.docs,source:{originalSource:"{\n  render: (args: RenameDialogProps) => {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    const [, setArgs] = useArgs();\n    const handleOpenModal = () => setArgs({\n      isOpen: true\n    });\n    const handleCloseModal = () => {\n      setArgs({\n        isOpen: false\n      });\n    };\n    const {\n      appElement,\n      rootElement\n    } = addRootElement();\n    return <div>\n                <RenameDialog appElement={appElement} item={{\n        id: '123456',\n        name: 'mockItem'\n      }} onCancel={handleCloseModal} parentElement={rootElement} {...args} />\n                <Button onClick={handleOpenModal} variant=\"primary\">\n                    Launch RenameDialog\n                </Button>\n            </div>;\n  }\n}",...renameDialog.parameters?.docs?.source}}}},"./src/utils/storybook.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{k:()=>SLEEP_TIMEOUT,y:()=>addRootElement});const addRootElement=()=>{let appElement=document.getElementById("appElement"),rootElement=document.getElementById("rootElement");return document.body&&null===rootElement&&(rootElement=document.createElement("div"),rootElement.setAttribute("id","rootElement"),document.body.appendChild(rootElement)),null!==rootElement&&null===appElement&&(appElement=document.createElement("div"),appElement.setAttribute("id","appElement"),rootElement.appendChild(appElement)),{appElement,rootElement}},SLEEP_TIMEOUT=500},"./src/elements/content-explorer/RenameDialog.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_modal__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-modal/lib/index.js"),react_modal__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react_modal__WEBPACK_IMPORTED_MODULE_1__),react_intl__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react-intl/lib/src/components/useIntl.js"),_box_blueprint_web__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@box/blueprint-web/dist/lib-esm/modal/modal.js"),_box_blueprint_web__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@box/blueprint-web/dist/lib-esm/text-input/text-input.js"),_constants__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/constants.js"),_common_messages__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/elements/common/messages.js");const RenameDialog=({appElement,errorCode,isOpen,isLoading,item,onCancel,onRename,parentElement})=>{const{formatMessage}=(0,react_intl__WEBPACK_IMPORTED_MODULE_4__.A)();let error,textInput=null;const{name="",extension}=item,ext=extension?`.${extension}`:"",nameWithoutExt=extension?name.replace(ext,""):name,handleRename=()=>{textInput&&textInput.value&&(textInput.value===nameWithoutExt?onCancel():onRename(textInput.value,ext))};switch(errorCode){case _constants__WEBPACK_IMPORTED_MODULE_2__.rY0:error=_common_messages__WEBPACK_IMPORTED_MODULE_3__.A.renameDialogErrorInUse;break;case _constants__WEBPACK_IMPORTED_MODULE_2__.t_A:error=_common_messages__WEBPACK_IMPORTED_MODULE_3__.A.renameDialogErrorTooLong;break;default:error=errorCode?_common_messages__WEBPACK_IMPORTED_MODULE_3__.A.renameDialogErrorInvalid:null}return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_modal__WEBPACK_IMPORTED_MODULE_1___default(),{appElement,className:_constants__WEBPACK_IMPORTED_MODULE_2__.ZTM,contentLabel:formatMessage(_common_messages__WEBPACK_IMPORTED_MODULE_3__.A.renameDialogLabel),isOpen,onRequestClose:onCancel,overlayClassName:_constants__WEBPACK_IMPORTED_MODULE_2__.S$j,parentSelector:()=>parentElement,portalClassName:`${_constants__WEBPACK_IMPORTED_MODULE_2__.XVe} be-modal-rename`},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_box_blueprint_web__WEBPACK_IMPORTED_MODULE_5__.a.Body,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_box_blueprint_web__WEBPACK_IMPORTED_MODULE_6__.k,{defaultValue:nameWithoutExt,error:error&&formatMessage(error,{name:nameWithoutExt}),label:formatMessage(_common_messages__WEBPACK_IMPORTED_MODULE_3__.A.renameDialogText,{name:nameWithoutExt}),onKeyDown:({key})=>{if("Enter"===key)handleRename()},ref:input=>{textInput=input,textInput instanceof HTMLInputElement&&(textInput.focus(),textInput.select())},required:!0})),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_box_blueprint_web__WEBPACK_IMPORTED_MODULE_5__.a.Footer,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_box_blueprint_web__WEBPACK_IMPORTED_MODULE_5__.a.Footer.SecondaryButton,{disabled:isLoading,onClick:onCancel,size:"large"},formatMessage(_common_messages__WEBPACK_IMPORTED_MODULE_3__.A.cancel)),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_box_blueprint_web__WEBPACK_IMPORTED_MODULE_5__.a.Footer.PrimaryButton,{loading:isLoading,loadingAriaLabel:formatMessage(_common_messages__WEBPACK_IMPORTED_MODULE_3__.A.loading),onClick:handleRename,size:"large"},formatMessage(_common_messages__WEBPACK_IMPORTED_MODULE_3__.A.rename))))},__WEBPACK_DEFAULT_EXPORT__=RenameDialog;try{RenameDialog.displayName="RenameDialog",RenameDialog.__docgenInfo={description:"",displayName:"RenameDialog",props:{appElement:{defaultValue:null,description:"",name:"appElement",required:!0,type:{name:"HTMLElement"}},errorCode:{defaultValue:null,description:"",name:"errorCode",required:!0,type:{name:"string"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!0,type:{name:"boolean"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"BoxItem"}},onCancel:{defaultValue:null,description:"",name:"onCancel",required:!0,type:{name:"() => void"}},onRename:{defaultValue:null,description:"",name:"onRename",required:!0,type:{name:"(value: string, extension: string) => void"}},parentElement:{defaultValue:null,description:"",name:"parentElement",required:!0,type:{name:"HTMLElement"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/elements/content-explorer/RenameDialog.tsx#RenameDialog"]={docgenInfo:RenameDialog.__docgenInfo,name:"RenameDialog",path:"src/elements/content-explorer/RenameDialog.tsx#RenameDialog"})}catch(__react_docgen_typescript_loader_error){}}}]);