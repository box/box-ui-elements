{"version":3,"file":"IntegrationPortal.js","names":["createPortal","copyStyles","documentElement","integrationWindow","Array","from","styleSheets","forEach","styleSheet","href","copiedStyleSheet","document","createElement","rel","head","appendChild","body","style","margin","padding","IntegrationPortal","children","containerElement"],"sources":["../../../src/elements/content-open-with/IntegrationPortal.js"],"sourcesContent":["/**\n * @flow\n * @file Allows react to render a component in an arbitrary DOM node, in this case in a new window.\n * @author Box\n */\n\nimport { createPortal } from 'react-dom';\n\ntype Props = {\n    children: any,\n    integrationWindow: any,\n};\n\n/**\n * Copies stylesheets to the new window.\n *\n * @private\n * @param {HTMLDocument} documentElement - an HTML document\n * @param {Window} integrationWindow - a browser window\n * @return {void}\n */\nexport function copyStyles(documentElement: Document, integrationWindow: any) {\n    // The new window will have no CSS, so we copy all style sheets as a safe way\n    // of ensuring required styles are present\n    Array.from(documentElement.styleSheets).forEach(styleSheet => {\n        if (!styleSheet.href) {\n            return;\n        }\n\n        const copiedStyleSheet = integrationWindow.document.createElement('link');\n        copiedStyleSheet.rel = 'stylesheet';\n        copiedStyleSheet.href = styleSheet.href;\n        integrationWindow.document.head.appendChild(copiedStyleSheet);\n    });\n\n    // Reset margin and padding in our new window\n    integrationWindow.document.body.style.margin = 0;\n    integrationWindow.document.body.style.padding = 0;\n}\n\nconst IntegrationPortal = ({ integrationWindow, children }: Props) => {\n    const containerElement = integrationWindow.document.createElement('div');\n    copyStyles(document, integrationWindow);\n    integrationWindow.document.body.appendChild(containerElement);\n    return createPortal(children, containerElement);\n};\n\nexport default IntegrationPortal;\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;;AAEA,SAASA,YAAY,QAAQ,WAAW;AAOxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,UAAUA,CAACC,eAAyB,EAAEC,iBAAsB,EAAE;EAC1E;EACA;EACAC,KAAK,CAACC,IAAI,CAACH,eAAe,CAACI,WAAW,CAAC,CAACC,OAAO,CAACC,UAAU,IAAI;IAC1D,IAAI,CAACA,UAAU,CAACC,IAAI,EAAE;MAClB;IACJ;IAEA,MAAMC,gBAAgB,GAAGP,iBAAiB,CAACQ,QAAQ,CAACC,aAAa,CAAC,MAAM,CAAC;IACzEF,gBAAgB,CAACG,GAAG,GAAG,YAAY;IACnCH,gBAAgB,CAACD,IAAI,GAAGD,UAAU,CAACC,IAAI;IACvCN,iBAAiB,CAACQ,QAAQ,CAACG,IAAI,CAACC,WAAW,CAACL,gBAAgB,CAAC;EACjE,CAAC,CAAC;;EAEF;EACAP,iBAAiB,CAACQ,QAAQ,CAACK,IAAI,CAACC,KAAK,CAACC,MAAM,GAAG,CAAC;EAChDf,iBAAiB,CAACQ,QAAQ,CAACK,IAAI,CAACC,KAAK,CAACE,OAAO,GAAG,CAAC;AACrD;AAEA,MAAMC,iBAAiB,GAAGA,CAAC;EAAEjB,iBAAiB;EAAEkB;AAAgB,CAAC,KAAK;EAClE,MAAMC,gBAAgB,GAAGnB,iBAAiB,CAACQ,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;EACxEX,UAAU,CAACU,QAAQ,EAAER,iBAAiB,CAAC;EACvCA,iBAAiB,CAACQ,QAAQ,CAACK,IAAI,CAACD,WAAW,CAACO,gBAAgB,CAAC;EAC7D,oBAAOtB,YAAY,CAACqB,QAAQ,EAAEC,gBAAgB,CAAC;AACnD,CAAC;AAED,eAAeF,iBAAiB","ignoreList":[]}