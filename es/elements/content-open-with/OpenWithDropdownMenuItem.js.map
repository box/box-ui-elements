{"version":3,"file":"OpenWithDropdownMenuItem.js","names":["React","FormattedMessage","classNames","MenuItem","messages","OPEN_WITH_MENU_ITEM_ICON_SIZE","getIcon","utils","getErrorMessage","disabledReasons","message","code","defaultErrorMessage","createElement","errorOpenWithDescription","boxEditErrorBlockedByPolicy","OpenWithDropdownMenuItem","integration","onClick","displayName","displayDescription","isDisabled","extension","Icon","description","className","isDisabledBecauseBoxToolsIsNotInstalled","dimension","height","width"],"sources":["../../../src/elements/content-open-with/OpenWithDropdownMenuItem.js"],"sourcesContent":["/**\n * @flow\n * @file Open With dropdown menu item\n * @author Box\n */\n\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport classNames from 'classnames';\nimport MenuItem from '../../components/menu/MenuItem';\nimport messages from '../common/messages';\nimport { OPEN_WITH_MENU_ITEM_ICON_SIZE } from '../../constants';\nimport getIcon from './IconFileMap';\nimport utils from './openWithUtils';\nimport type { Integration, DisabledReason } from '../../common/types/integrations';\nimport './OpenWithDropdownMenuItem.scss';\n\ntype Props = {\n    integration: Integration,\n    onClick: Function,\n};\n\nfunction getErrorMessage(disabledReasons: Array<DisabledReason> = []): React.Node {\n    let message;\n    // Use the first disabled reason as the description if the integration is disabled.\n    const code = disabledReasons[0];\n    const defaultErrorMessage = <FormattedMessage {...messages.errorOpenWithDescription} />;\n\n    switch (code) {\n        case 'blocked_by_shield_access_policy':\n            message = <FormattedMessage {...messages.boxEditErrorBlockedByPolicy} />;\n            break;\n        case 'collaborators_hidden':\n            message = defaultErrorMessage;\n            break;\n        default:\n            message = disabledReasons[0] || defaultErrorMessage;\n    }\n    return message;\n}\n\nconst OpenWithDropdownMenuItem = ({ integration, onClick }: Props) => {\n    const { displayName, displayDescription, isDisabled, extension, disabledReasons } = integration;\n    const Icon = getIcon(displayName);\n    const description = isDisabled ? getErrorMessage(disabledReasons) : displayDescription;\n    const className = classNames({\n        'bcow-box-tools-uninstalled': utils.isDisabledBecauseBoxToolsIsNotInstalled(integration),\n    });\n\n    return (\n        <MenuItem className={className} isDisabled={isDisabled} onClick={() => onClick(integration)}>\n            <Icon\n                dimension={OPEN_WITH_MENU_ITEM_ICON_SIZE}\n                extension={extension}\n                height={OPEN_WITH_MENU_ITEM_ICON_SIZE}\n                width={OPEN_WITH_MENU_ITEM_ICON_SIZE}\n            />\n            <span>\n                <p className=\"bcow-menu-item-title\">{displayName}</p>\n                <p className=\"bcow-menu-item-description\">{description}</p>\n            </span>\n        </MenuItem>\n    );\n};\n\nexport default OpenWithDropdownMenuItem;\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;;AAEA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,gBAAgB,QAAQ,YAAY;AAC7C,OAAOC,UAAU,MAAM,YAAY;AACnC,OAAOC,QAAQ,MAAM,gCAAgC;AACrD,OAAOC,QAAQ,MAAM,oBAAoB;AACzC,SAASC,6BAA6B,QAAQ,iBAAiB;AAC/D,OAAOC,OAAO,MAAM,eAAe;AACnC,OAAOC,KAAK,MAAM,iBAAiB;AAEnC,OAAO,iCAAiC;AAOxC,SAASC,eAAeA,CAACC,eAAsC,GAAG,EAAE,EAAc;EAC9E,IAAIC,OAAO;EACX;EACA,MAAMC,IAAI,GAAGF,eAAe,CAAC,CAAC,CAAC;EAC/B,MAAMG,mBAAmB,gBAAGZ,KAAA,CAAAa,aAAA,CAACZ,gBAAgB,EAAKG,QAAQ,CAACU,wBAA2B,CAAC;EAEvF,QAAQH,IAAI;IACR,KAAK,iCAAiC;MAClCD,OAAO,gBAAGV,KAAA,CAAAa,aAAA,CAACZ,gBAAgB,EAAKG,QAAQ,CAACW,2BAA8B,CAAC;MACxE;IACJ,KAAK,sBAAsB;MACvBL,OAAO,GAAGE,mBAAmB;MAC7B;IACJ;MACIF,OAAO,GAAGD,eAAe,CAAC,CAAC,CAAC,IAAIG,mBAAmB;EAC3D;EACA,OAAOF,OAAO;AAClB;AAEA,MAAMM,wBAAwB,GAAGA,CAAC;EAAEC,WAAW;EAAEC;AAAe,CAAC,KAAK;EAClE,MAAM;IAAEC,WAAW;IAAEC,kBAAkB;IAAEC,UAAU;IAAEC,SAAS;IAAEb;EAAgB,CAAC,GAAGQ,WAAW;EAC/F,MAAMM,IAAI,GAAGjB,OAAO,CAACa,WAAW,CAAC;EACjC,MAAMK,WAAW,GAAGH,UAAU,GAAGb,eAAe,CAACC,eAAe,CAAC,GAAGW,kBAAkB;EACtF,MAAMK,SAAS,GAAGvB,UAAU,CAAC;IACzB,4BAA4B,EAAEK,KAAK,CAACmB,uCAAuC,CAACT,WAAW;EAC3F,CAAC,CAAC;EAEF,oBACIjB,KAAA,CAAAa,aAAA,CAACV,QAAQ;IAACsB,SAAS,EAAEA,SAAU;IAACJ,UAAU,EAAEA,UAAW;IAACH,OAAO,EAAEA,CAAA,KAAMA,OAAO,CAACD,WAAW;EAAE,gBACxFjB,KAAA,CAAAa,aAAA,CAACU,IAAI;IACDI,SAAS,EAAEtB,6BAA8B;IACzCiB,SAAS,EAAEA,SAAU;IACrBM,MAAM,EAAEvB,6BAA8B;IACtCwB,KAAK,EAAExB;EAA8B,CACxC,CAAC,eACFL,KAAA,CAAAa,aAAA,4BACIb,KAAA,CAAAa,aAAA;IAAGY,SAAS,EAAC;EAAsB,GAAEN,WAAe,CAAC,eACrDnB,KAAA,CAAAa,aAAA;IAAGY,SAAS,EAAC;EAA4B,GAAED,WAAe,CACxD,CACA,CAAC;AAEnB,CAAC;AAED,eAAeR,wBAAwB","ignoreList":[]}