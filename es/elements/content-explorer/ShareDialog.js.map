{"version":3,"file":"ShareDialog.js","names":["React","Modal","noop","FormattedMessage","useIntl","Button","BlueprintModal","Text","ShareAccessSelect","CLASS_MODAL_CONTENT","CLASS_MODAL_OVERLAY","CLASS_MODAL","messages","ShareDialog","appElement","canSetShareAccess","isLoading","isOpen","item","onCancel","onShareAccessChange","parentElement","formatMessage","textInput","copy","HTMLInputElement","select","document","execCommand","shared_link","sharedLink","url","shareDialogNone","createElement","className","contentLabel","shareDialogLabel","onRequestClose","overlayClassName","parentSelector","portalClassName","Body","as","shareDialogText","ref","input","onChange","type","value","autoFocus","onClick","variant","Footer","loading","loadingAriaLabel","size","close"],"sources":["../../../src/elements/content-explorer/ShareDialog.tsx"],"sourcesContent":["import * as React from 'react';\nimport Modal from 'react-modal';\nimport noop from 'lodash/noop';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { Button, Modal as BlueprintModal, Text } from '@box/blueprint-web';\n\nimport ShareAccessSelect from '../common/share-access-select';\nimport { CLASS_MODAL_CONTENT, CLASS_MODAL_OVERLAY, CLASS_MODAL } from '../../constants';\nimport type { Access, BoxItem } from '../../common/types/core';\n\nimport messages from '../common/messages';\n\nimport './ShareDialog.scss';\n\nexport interface ShareDialogProps {\n    appElement: HTMLElement;\n    canSetShareAccess: boolean;\n    isLoading: boolean;\n    isOpen: boolean;\n    item: BoxItem;\n    onCancel: () => void;\n    onShareAccessChange: (access: Access) => void;\n    parentElement: HTMLElement;\n}\n\nconst ShareDialog = ({\n    appElement,\n    canSetShareAccess,\n    isLoading,\n    isOpen,\n    item,\n    onCancel,\n    onShareAccessChange,\n    parentElement,\n}: ShareDialogProps) => {\n    const { formatMessage } = useIntl();\n    let textInput = null;\n\n    const copy = () => {\n        if (textInput instanceof HTMLInputElement) {\n            textInput.select();\n            document.execCommand('copy');\n        }\n    };\n\n    const { shared_link: sharedLink }: BoxItem = item;\n    const { url } = sharedLink || {\n        url: formatMessage(messages.shareDialogNone),\n    };\n\n    return (\n        <Modal\n            appElement={appElement}\n            className={CLASS_MODAL_CONTENT}\n            contentLabel={formatMessage(messages.shareDialogLabel)}\n            isOpen={isOpen}\n            onRequestClose={onCancel}\n            overlayClassName={CLASS_MODAL_OVERLAY}\n            parentSelector={() => parentElement}\n            portalClassName={`${CLASS_MODAL} be-modal-share`}\n        >\n            <BlueprintModal.Body>\n                <Text as=\"label\">\n                    <FormattedMessage {...messages.shareDialogText} />\n                </Text>\n                <div className=\"be-modal-input-group\">\n                    <input\n                        ref={input => {\n                            textInput = input;\n                        }}\n                        onChange={noop}\n                        type=\"text\"\n                        value={url}\n                    />\n                    <Button autoFocus className=\"be-modal-button-copy\" onClick={copy} variant=\"primary\">\n                        {formatMessage(messages.copy)}\n                    </Button>\n                </div>\n\n                <BlueprintModal.Footer className=\"be-modal-btns\">\n                    <ShareAccessSelect\n                        canSetShareAccess={canSetShareAccess}\n                        className=\"bce-shared-access-select\"\n                        item={item}\n                        onChange={onShareAccessChange}\n                    />\n                    <Button\n                        loading={isLoading}\n                        loadingAriaLabel={formatMessage(messages.loading)}\n                        onClick={onCancel}\n                        size=\"large\"\n                        variant=\"secondary\"\n                    >\n                        {formatMessage(messages.close)}\n                    </Button>\n                </BlueprintModal.Footer>\n            </BlueprintModal.Body>\n        </Modal>\n    );\n};\n\nexport default ShareDialog;\n"],"mappings":"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","ignoreList":[]}