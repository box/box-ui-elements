{"version":3,"file":"SubHeaderRight.js","names":["React","useIntl","Button","Pencil","BulkItemActionMenu","Sort","Add","GridViewSlider","ViewModeChangeButton","VIEW_FOLDER","VIEW_MODE_GRID","VIEW_METADATA","useFeatureEnabled","messages","SubHeaderRight","bulkItemActions","canCreateNewFolder","canUpload","currentCollection","gridColumnCount","gridMaxColumns","gridMinColumns","maxGridColumnCountForWidth","onCreate","onGridViewSliderChange","onSortChange","onMetadataSidePanelToggle","onUpload","onViewModeChange","portalElement","selectedItemIds","view","viewMode","formatMessage","isMetadataViewV2Feature","items","hasGridView","hasItems","length","isFolder","showSort","showAdd","isMetadataView","hasSelectedItems","size","createElement","className","Fragment","columnCount","maxColumnCount","onChange","isDisabled","showCreate","showUpload","actions","icon","variant","onClick","metadata"],"sources":["../../../../src/elements/common/sub-header/SubHeaderRight.tsx"],"sourcesContent":["import * as React from 'react';\nimport { useIntl } from 'react-intl';\n\nimport { Button } from '@box/blueprint-web';\nimport { Pencil } from '@box/blueprint-web-assets/icons/Fill';\nimport type { Selection } from 'react-aria-components';\n\nimport { type BulkItemAction, BulkItemActionMenu } from './BulkItemActionMenu';\nimport Sort from './Sort';\nimport Add from './Add';\nimport GridViewSlider from '../../../components/grid-view/GridViewSlider';\nimport ViewModeChangeButton from './ViewModeChangeButton';\nimport { VIEW_FOLDER, VIEW_MODE_GRID, VIEW_METADATA } from '../../../constants';\nimport { useFeatureEnabled } from '../feature-checking';\n\nimport type { ViewMode } from '../flowTypes';\nimport type { SortBy, SortDirection, View, Collection } from '../../../common/types/core';\n\nimport messages from './messages';\n\nimport './SubHeaderRight.scss';\n\nexport interface SubHeaderRightProps {\n    bulkItemActions?: BulkItemAction[];\n    canCreateNewFolder: boolean;\n    canUpload: boolean;\n    currentCollection: Collection;\n    gridColumnCount: number;\n    gridMaxColumns: number;\n    gridMinColumns: number;\n    maxGridColumnCountForWidth: number;\n    onCreate: () => void;\n    onGridViewSliderChange: (newSliderValue: number) => void;\n    onSortChange: (sortBy: SortBy, sortDirection: SortDirection) => void;\n    onMetadataSidePanelToggle?: () => void;\n    onUpload: () => void;\n    onViewModeChange?: (viewMode: ViewMode) => void;\n    portalElement?: HTMLElement;\n    selectedItemIds?: Selection;\n    view: View;\n    viewMode: ViewMode;\n}\n\nconst SubHeaderRight = ({\n    bulkItemActions,\n    canCreateNewFolder,\n    canUpload,\n    currentCollection,\n    gridColumnCount,\n    gridMaxColumns,\n    gridMinColumns,\n    maxGridColumnCountForWidth,\n    onCreate,\n    onGridViewSliderChange,\n    onSortChange,\n    onMetadataSidePanelToggle,\n    onUpload,\n    onViewModeChange,\n    portalElement,\n    selectedItemIds,\n    view,\n    viewMode,\n}: SubHeaderRightProps) => {\n    const { formatMessage } = useIntl();\n    const isMetadataViewV2Feature = useFeatureEnabled('contentExplorer.metadataViewV2');\n    const { items = [] }: Collection = currentCollection;\n    const hasGridView: boolean = !!gridColumnCount;\n    const hasItems: boolean = items.length > 0;\n    const isFolder: boolean = view === VIEW_FOLDER;\n    const showSort: boolean = isFolder && hasItems;\n    const showAdd: boolean = (!!canUpload || !!canCreateNewFolder) && isFolder;\n    const isMetadataView: boolean = view === VIEW_METADATA;\n    const hasSelectedItems: boolean = !!(selectedItemIds && (selectedItemIds === 'all' || selectedItemIds.size > 0));\n\n    return (\n        <div className=\"be-sub-header-right\">\n            {!isMetadataView && (\n                <>\n                    {hasItems && viewMode === VIEW_MODE_GRID && (\n                        <GridViewSlider\n                            columnCount={gridColumnCount}\n                            gridMaxColumns={gridMaxColumns}\n                            gridMinColumns={gridMinColumns}\n                            maxColumnCount={maxGridColumnCountForWidth}\n                            onChange={onGridViewSliderChange}\n                        />\n                    )}\n                    {hasItems && hasGridView && (\n                        <ViewModeChangeButton viewMode={viewMode} onViewModeChange={onViewModeChange} />\n                    )}\n                    {showSort && <Sort onSortChange={onSortChange} portalElement={portalElement} />}\n                    {showAdd && (\n                        <Add\n                            isDisabled={!isFolder}\n                            onCreate={onCreate}\n                            onUpload={onUpload}\n                            portalElement={portalElement}\n                            showCreate={canCreateNewFolder}\n                            showUpload={canUpload}\n                        />\n                    )}\n                </>\n            )}\n\n            {isMetadataView && isMetadataViewV2Feature && hasSelectedItems && (\n                <>\n                    {bulkItemActions && bulkItemActions.length > 0 && (\n                        <BulkItemActionMenu actions={bulkItemActions} selectedItemIds={selectedItemIds} />\n                    )}\n                    <Button icon={Pencil} size=\"large\" variant=\"primary\" onClick={onMetadataSidePanelToggle}>\n                        {formatMessage(messages.metadata)}\n                    </Button>\n                </>\n            )}\n        </div>\n    );\n};\n\nexport default SubHeaderRight;\n"],"mappings":"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","ignoreList":[]}