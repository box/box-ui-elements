{"version":3,"file":"CreateFolderDialog.js","names":["React","useState","Modal","useIntl","BlueprintModal","TextInput","CLASS_MODAL_CONTENT","CLASS_MODAL_OVERLAY","CLASS_MODAL","ERROR_CODE_ITEM_NAME_TOO_LONG","ERROR_CODE_ITEM_NAME_IN_USE","messages","CreateFolderDialog","appElement","errorCode","isOpen","isLoading","onCancel","onCreate","parentElement","formatMessage","value","setValue","error","handleChange","e","target","handleCreate","handleKeyDown","key","createDialogErrorInUse","createDialogErrorTooLong","createDialogErrorInvalid","createElement","className","contentLabel","createDialogLabel","onRequestClose","overlayClassName","parentSelector","portalClassName","Body","autoFocus","label","createDialogText","onChange","onKeyDown","required","Footer","SecondaryButton","disabled","onClick","size","cancel","PrimaryButton","loading","loadingAriaLabel","create"],"sources":["../../../../src/elements/common/create-folder-dialog/CreateFolderDialog.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport Modal from 'react-modal';\nimport { useIntl } from 'react-intl';\nimport { Modal as BlueprintModal, TextInput } from '@box/blueprint-web';\nimport {\n    CLASS_MODAL_CONTENT,\n    CLASS_MODAL_OVERLAY,\n    CLASS_MODAL,\n    ERROR_CODE_ITEM_NAME_TOO_LONG,\n    ERROR_CODE_ITEM_NAME_IN_USE,\n} from '../../../constants';\n\nimport messages from '../messages';\n\nexport interface CreateFolderDialogProps {\n    appElement: HTMLElement;\n    errorCode: string;\n    isLoading: boolean;\n    isOpen: boolean;\n    onCancel: () => void;\n    onCreate: (value: string) => void;\n    parentElement: HTMLElement;\n}\n\nconst CreateFolderDialog = ({\n    appElement,\n    errorCode,\n    isOpen,\n    isLoading,\n    onCancel,\n    onCreate,\n    parentElement,\n}: CreateFolderDialogProps) => {\n    const { formatMessage } = useIntl();\n    const [value, setValue] = useState('');\n    let error;\n\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        setValue(e.target.value);\n    };\n\n    const handleCreate = () => {\n        if (value) {\n            onCreate(value);\n        }\n    };\n\n    const handleKeyDown = ({ key }) => {\n        switch (key) {\n            case 'Enter':\n                handleCreate();\n                break;\n            default:\n                break;\n        }\n    };\n\n    switch (errorCode) {\n        case ERROR_CODE_ITEM_NAME_IN_USE:\n            error = formatMessage(messages.createDialogErrorInUse);\n            break;\n        case ERROR_CODE_ITEM_NAME_TOO_LONG:\n            error = formatMessage(messages.createDialogErrorTooLong);\n            break;\n        default:\n            error = errorCode ? formatMessage(messages.createDialogErrorInvalid) : null;\n            break;\n    }\n\n    return (\n        <Modal\n            appElement={appElement}\n            className={CLASS_MODAL_CONTENT}\n            contentLabel={formatMessage(messages.createDialogLabel)}\n            isOpen={isOpen}\n            onRequestClose={onCancel}\n            overlayClassName={CLASS_MODAL_OVERLAY}\n            parentSelector={() => parentElement}\n            portalClassName={`${CLASS_MODAL} be-modal-create-folder`}\n        >\n            <BlueprintModal.Body>\n                <TextInput\n                    autoFocus\n                    error={error}\n                    label={formatMessage(messages.createDialogText)}\n                    onChange={handleChange}\n                    onKeyDown={handleKeyDown}\n                    required\n                    value={value}\n                />\n            </BlueprintModal.Body>\n            <BlueprintModal.Footer>\n                <BlueprintModal.Footer.SecondaryButton disabled={isLoading} onClick={onCancel} size=\"large\">\n                    {formatMessage(messages.cancel)}\n                </BlueprintModal.Footer.SecondaryButton>\n                <BlueprintModal.Footer.PrimaryButton\n                    loading={isLoading}\n                    loadingAriaLabel={formatMessage(messages.loading)}\n                    onClick={handleCreate}\n                    size=\"large\"\n                >\n                    {formatMessage(messages.create)}\n                </BlueprintModal.Footer.PrimaryButton>\n            </BlueprintModal.Footer>\n        </Modal>\n    );\n};\n\nexport default CreateFolderDialog;\n"],"mappings":"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","ignoreList":[]}