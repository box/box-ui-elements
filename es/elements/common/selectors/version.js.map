{"version":3,"file":"version.js","names":["PLACEHOLDER_USER","VERSION_DELETE_ACTION","VERSION_PROMOTE_ACTION","VERSION_RESTORE_ACTION","VERSION_UPLOAD_ACTION","getVersionAction","restored_at","trashed_at","version_promoted","action","getVersionUser","modified_by","promoted_by","restored_by","trashed_by","uploader_display_name","_ref","name","id","rest","_objectWithoutProperties","_excluded","isAnonymous","_objectSpread"],"sources":["../../../../src/elements/common/selectors/version.js"],"sourcesContent":["// @flow\nimport {\n    PLACEHOLDER_USER,\n    VERSION_DELETE_ACTION,\n    VERSION_PROMOTE_ACTION,\n    VERSION_RESTORE_ACTION,\n    VERSION_UPLOAD_ACTION,\n} from '../../../constants';\nimport type { BoxItemVersion, User } from '../../../common/types/core';\n\ntype VersionAction =\n    | typeof VERSION_DELETE_ACTION\n    | typeof VERSION_PROMOTE_ACTION\n    | typeof VERSION_RESTORE_ACTION\n    | typeof VERSION_UPLOAD_ACTION;\n\nconst getVersionAction = ({ restored_at, trashed_at, version_promoted }: $Shape<BoxItemVersion>): VersionAction => {\n    let action = VERSION_UPLOAD_ACTION;\n\n    if (trashed_at) {\n        action = VERSION_DELETE_ACTION;\n    }\n\n    if (restored_at) {\n        action = VERSION_RESTORE_ACTION;\n    }\n\n    if (version_promoted) {\n        action = VERSION_PROMOTE_ACTION;\n    }\n\n    return action;\n};\n\nconst getVersionUser = ({\n    modified_by,\n    promoted_by,\n    restored_by,\n    trashed_by,\n    uploader_display_name,\n}: $Shape<BoxItemVersion>): User => {\n    const { name, id, ...rest } = restored_by || trashed_by || promoted_by || modified_by || PLACEHOLDER_USER;\n    const isAnonymous = id === PLACEHOLDER_USER.id;\n    return { ...rest, id, name: isAnonymous && uploader_display_name ? uploader_display_name : name };\n};\n\nexport default {\n    getVersionAction,\n    getVersionUser,\n};\n"],"mappings":";;;;;;;;AACA,SACIA,gBAAgB,EAChBC,qBAAqB,EACrBC,sBAAsB,EACtBC,sBAAsB,EACtBC,qBAAqB,QAClB,oBAAoB;AAS3B,MAAMC,gBAAgB,GAAGA,CAAC;EAAEC,WAAW;EAAEC,UAAU;EAAEC;AAAyC,CAAC,KAAoB;EAC/G,IAAIC,MAAM,GAAGL,qBAAqB;EAElC,IAAIG,UAAU,EAAE;IACZE,MAAM,GAAGR,qBAAqB;EAClC;EAEA,IAAIK,WAAW,EAAE;IACbG,MAAM,GAAGN,sBAAsB;EACnC;EAEA,IAAIK,gBAAgB,EAAE;IAClBC,MAAM,GAAGP,sBAAsB;EACnC;EAEA,OAAOO,MAAM;AACjB,CAAC;AAED,MAAMC,cAAc,GAAGA,CAAC;EACpBC,WAAW;EACXC,WAAW;EACXC,WAAW;EACXC,UAAU;EACVC;AACoB,CAAC,KAAW;EAChC,MAAAC,IAAA,GAA8BH,WAAW,IAAIC,UAAU,IAAIF,WAAW,IAAID,WAAW,IAAIX,gBAAgB;IAAnG;MAAEiB,IAAI;MAAEC;IAAY,CAAC,GAAAF,IAAA;IAANG,IAAI,GAAAC,wBAAA,CAAAJ,IAAA,EAAAK,SAAA;EACzB,MAAMC,WAAW,GAAGJ,EAAE,KAAKlB,gBAAgB,CAACkB,EAAE;EAC9C,OAAAK,aAAA,CAAAA,aAAA,KAAYJ,IAAI;IAAED,EAAE;IAAED,IAAI,EAAEK,WAAW,IAAIP,qBAAqB,GAAGA,qBAAqB,GAAGE;EAAI;AACnG,CAAC;AAED,eAAe;EACXZ,gBAAgB;EAChBK;AACJ,CAAC","ignoreList":[]}