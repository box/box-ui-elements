{"version":3,"file":"ProgressBar.js","names":["React","useCallback","useEffect","useState","useRef","ProgressBar","percent","initialPercent","setPercent","intervalRef","timeoutRef","clearTimeoutAndInterval","current","clearInterval","clearTimeout","incrementProgress","prevPercent","newPercent","Math","min","resetProgress","startProgress","window","setInterval","setTimeout","containerStyle","opacity","transitionDelay","createElement","className","style","role","width"],"sources":["../../../../src/elements/common/progress-bar/ProgressBar.tsx"],"sourcesContent":["import React, { useCallback, useEffect, useState, useRef } from 'react';\nimport './ProgressBar.scss';\n\nexport interface ProgressBarProps {\n    percent: number;\n}\n\nconst ProgressBar = ({ percent: initialPercent = 0 }: ProgressBarProps) => {\n    const [percent, setPercent] = useState(initialPercent);\n    const intervalRef = useRef<number | null>(null);\n    const timeoutRef = useRef<number | null>(null);\n\n    const clearTimeoutAndInterval = () => {\n        if (intervalRef.current) {\n            clearInterval(intervalRef.current);\n        }\n        if (timeoutRef.current) {\n            clearTimeout(timeoutRef.current);\n        }\n    };\n\n    const incrementProgress = () => {\n        setPercent(prevPercent => {\n            const newPercent = Math.min(prevPercent + 2 / (prevPercent || 1), 100);\n            if (newPercent === 100) {\n                clearTimeoutAndInterval();\n            }\n            0;\n            return newPercent;\n        });\n    };\n\n    const resetProgress = () => {\n        setPercent(0);\n    };\n\n    const startProgress = useCallback(() => {\n        if (percent === 0) {\n            intervalRef.current = window.setInterval(incrementProgress, 100);\n        } else if (percent === 100) {\n            timeoutRef.current = window.setTimeout(resetProgress, 600);\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    useEffect(() => {\n        startProgress();\n        return () => clearTimeoutAndInterval();\n    }, [percent, startProgress]);\n\n    useEffect(() => {\n        setPercent(initialPercent);\n    }, [initialPercent]);\n\n    const containerStyle = {\n        opacity: percent > 0 && percent < 100 ? 1 : 0,\n        transitionDelay: percent > 0 && percent < 100 ? '0' : '0.4s',\n    } as const;\n\n    return (\n        <div className=\"be-progress-container\" style={containerStyle}>\n            <div className=\"be-progress\" role=\"progressbar\" style={{ width: `${percent}%` }} />\n        </div>\n    );\n};\n\nexport default ProgressBar;\n"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,WAAW,EAAEC,SAAS,EAAEC,QAAQ,EAAEC,MAAM,QAAQ,OAAO;AACvE,OAAO,oBAAoB;AAM3B,MAAMC,WAAW,GAAGA,CAAC;EAAEC,OAAO,EAAEC,cAAc,GAAG;AAAoB,CAAC,KAAK;EACvE,MAAM,CAACD,OAAO,EAAEE,UAAU,CAAC,GAAGL,QAAQ,CAACI,cAAc,CAAC;EACtD,MAAME,WAAW,GAAGL,MAAM,CAAgB,IAAI,CAAC;EAC/C,MAAMM,UAAU,GAAGN,MAAM,CAAgB,IAAI,CAAC;EAE9C,MAAMO,uBAAuB,GAAGA,CAAA,KAAM;IAClC,IAAIF,WAAW,CAACG,OAAO,EAAE;MACrBC,aAAa,CAACJ,WAAW,CAACG,OAAO,CAAC;IACtC;IACA,IAAIF,UAAU,CAACE,OAAO,EAAE;MACpBE,YAAY,CAACJ,UAAU,CAACE,OAAO,CAAC;IACpC;EACJ,CAAC;EAED,MAAMG,iBAAiB,GAAGA,CAAA,KAAM;IAC5BP,UAAU,CAACQ,WAAW,IAAI;MACtB,MAAMC,UAAU,GAAGC,IAAI,CAACC,GAAG,CAACH,WAAW,GAAG,CAAC,IAAIA,WAAW,IAAI,CAAC,CAAC,EAAE,GAAG,CAAC;MACtE,IAAIC,UAAU,KAAK,GAAG,EAAE;QACpBN,uBAAuB,CAAC,CAAC;MAC7B;MACA,CAAC;MACD,OAAOM,UAAU;IACrB,CAAC,CAAC;EACN,CAAC;EAED,MAAMG,aAAa,GAAGA,CAAA,KAAM;IACxBZ,UAAU,CAAC,CAAC,CAAC;EACjB,CAAC;EAED,MAAMa,aAAa,GAAGpB,WAAW,CAAC,MAAM;IACpC,IAAIK,OAAO,KAAK,CAAC,EAAE;MACfG,WAAW,CAACG,OAAO,GAAGU,MAAM,CAACC,WAAW,CAACR,iBAAiB,EAAE,GAAG,CAAC;IACpE,CAAC,MAAM,IAAIT,OAAO,KAAK,GAAG,EAAE;MACxBI,UAAU,CAACE,OAAO,GAAGU,MAAM,CAACE,UAAU,CAACJ,aAAa,EAAE,GAAG,CAAC;IAC9D;IACA;EACJ,CAAC,EAAE,EAAE,CAAC;EAENlB,SAAS,CAAC,MAAM;IACZmB,aAAa,CAAC,CAAC;IACf,OAAO,MAAMV,uBAAuB,CAAC,CAAC;EAC1C,CAAC,EAAE,CAACL,OAAO,EAAEe,aAAa,CAAC,CAAC;EAE5BnB,SAAS,CAAC,MAAM;IACZM,UAAU,CAACD,cAAc,CAAC;EAC9B,CAAC,EAAE,CAACA,cAAc,CAAC,CAAC;EAEpB,MAAMkB,cAAc,GAAG;IACnBC,OAAO,EAAEpB,OAAO,GAAG,CAAC,IAAIA,OAAO,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC;IAC7CqB,eAAe,EAAErB,OAAO,GAAG,CAAC,IAAIA,OAAO,GAAG,GAAG,GAAG,GAAG,GAAG;EAC1D,CAAU;EAEV,oBACIN,KAAA,CAAA4B,aAAA;IAAKC,SAAS,EAAC,uBAAuB;IAACC,KAAK,EAAEL;EAAe,gBACzDzB,KAAA,CAAA4B,aAAA;IAAKC,SAAS,EAAC,aAAa;IAACE,IAAI,EAAC,aAAa;IAACD,KAAK,EAAE;MAAEE,KAAK,EAAE,GAAG1B,OAAO;IAAI;EAAE,CAAE,CACjF,CAAC;AAEd,CAAC;AAED,eAAeD,WAAW","ignoreList":[]}