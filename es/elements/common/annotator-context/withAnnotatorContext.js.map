{"version":3,"file":"withAnnotatorContext.js","names":["React","AnnotatorContext","isFeatureEnabled","withAnnotatorContext","WrappedComponent","forwardRef","props","ref","routerDisabled","features","createElement","Consumer","emitActiveAnnotationChangeEvent","emitAnnotationRemoveEvent","emitAnnotationReplyCreateEvent","emitAnnotationReplyDeleteEvent","emitAnnotationReplyUpdateEvent","emitAnnotationUpdateEvent","state","_extends","annotatorState","getAnnotationsMatchPath","getAnnotationsPath"],"sources":["../../../../src/elements/common/annotator-context/withAnnotatorContext.tsx"],"sourcesContent":["import * as React from 'react';\nimport AnnotatorContext from './AnnotatorContext';\nimport { isFeatureEnabled, type FeatureConfig } from '../feature-checking';\nimport { AnnotatorState, GetMatchPath } from './types';\n\nexport interface WithAnnotatorContextProps {\n    annotatorState?: AnnotatorState;\n    emitActiveAnnotationChangeEvent?: (id: string) => void;\n    emitAnnotationRemoveEvent?: (id: string, isStartEvent?: boolean) => void;\n    emitAnnotationReplyCreateEvent?: (\n        reply: Object,\n        requestId: string,\n        annotationId: string,\n        isStartEvent?: boolean,\n    ) => void;\n    emitAnnotationReplyDeleteEvent?: (id: string, annotationId: string, isStartEvent?: boolean) => void;\n    emitAnnotationReplyUpdateEvent?: (reply: Object, annotationId: string, isStartEvent?: boolean) => void;\n    emitAnnotationUpdateEvent?: (annotation: Object, isStartEvent?: boolean) => void;\n    getAnnotationsMatchPath?: GetMatchPath;\n    getAnnotationsPath?: (fileVersionId?: string, annotationId?: string) => string;\n}\n\nexport default function withAnnotatorContext<P extends {}>(WrappedComponent: React.ComponentType<P>) {\n    return React.forwardRef<React.ComponentType<P>, P & { routerDisabled?: boolean; features?: FeatureConfig }>(\n        (props, ref) => {\n            if (props?.routerDisabled === true || isFeatureEnabled(props?.features, 'routerDisabled.value')) {\n                return (\n                    <AnnotatorContext.Consumer>\n                        {({\n                            emitActiveAnnotationChangeEvent,\n                            emitAnnotationRemoveEvent,\n                            emitAnnotationReplyCreateEvent,\n                            emitAnnotationReplyDeleteEvent,\n                            emitAnnotationReplyUpdateEvent,\n                            emitAnnotationUpdateEvent,\n                            state,\n                        }) => (\n                            <WrappedComponent\n                                ref={ref}\n                                {...props}\n                                annotatorState={state}\n                                emitActiveAnnotationChangeEvent={emitActiveAnnotationChangeEvent}\n                                emitAnnotationRemoveEvent={emitAnnotationRemoveEvent}\n                                emitAnnotationReplyCreateEvent={emitAnnotationReplyCreateEvent}\n                                emitAnnotationReplyDeleteEvent={emitAnnotationReplyDeleteEvent}\n                                emitAnnotationReplyUpdateEvent={emitAnnotationReplyUpdateEvent}\n                                emitAnnotationUpdateEvent={emitAnnotationUpdateEvent}\n                            />\n                        )}\n                    </AnnotatorContext.Consumer>\n                );\n            }\n            return (\n                <AnnotatorContext.Consumer>\n                    {({\n                        emitActiveAnnotationChangeEvent,\n                        emitAnnotationRemoveEvent,\n                        emitAnnotationReplyCreateEvent,\n                        emitAnnotationReplyDeleteEvent,\n                        emitAnnotationReplyUpdateEvent,\n                        emitAnnotationUpdateEvent,\n                        getAnnotationsMatchPath,\n                        getAnnotationsPath,\n                        state,\n                    }) => (\n                        <WrappedComponent\n                            ref={ref}\n                            {...props}\n                            annotatorState={state}\n                            emitActiveAnnotationChangeEvent={emitActiveAnnotationChangeEvent}\n                            emitAnnotationRemoveEvent={emitAnnotationRemoveEvent}\n                            emitAnnotationReplyCreateEvent={emitAnnotationReplyCreateEvent}\n                            emitAnnotationReplyDeleteEvent={emitAnnotationReplyDeleteEvent}\n                            emitAnnotationReplyUpdateEvent={emitAnnotationReplyUpdateEvent}\n                            emitAnnotationUpdateEvent={emitAnnotationUpdateEvent}\n                            getAnnotationsMatchPath={getAnnotationsMatchPath}\n                            getAnnotationsPath={getAnnotationsPath}\n                        />\n                    )}\n                </AnnotatorContext.Consumer>\n            );\n        },\n    );\n}\n"],"mappings":";AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,OAAOC,gBAAgB,MAAM,oBAAoB;AACjD,SAASC,gBAAgB,QAA4B,qBAAqB;AAoB1E,eAAe,SAASC,oBAAoBA,CAAeC,gBAAwC,EAAE;EACjG,oBAAOJ,KAAK,CAACK,UAAU,CACnB,CAACC,KAAK,EAAEC,GAAG,KAAK;IACZ,IAAID,KAAK,EAAEE,cAAc,KAAK,IAAI,IAAIN,gBAAgB,CAACI,KAAK,EAAEG,QAAQ,EAAE,sBAAsB,CAAC,EAAE;MAC7F,oBACIT,KAAA,CAAAU,aAAA,CAACT,gBAAgB,CAACU,QAAQ,QACrB,CAAC;QACEC,+BAA+B;QAC/BC,yBAAyB;QACzBC,8BAA8B;QAC9BC,8BAA8B;QAC9BC,8BAA8B;QAC9BC,yBAAyB;QACzBC;MACJ,CAAC,kBACGlB,KAAA,CAAAU,aAAA,CAACN,gBAAgB,EAAAe,QAAA;QACbZ,GAAG,EAAEA;MAAI,GACLD,KAAK;QACTc,cAAc,EAAEF,KAAM;QACtBN,+BAA+B,EAAEA,+BAAgC;QACjEC,yBAAyB,EAAEA,yBAA0B;QACrDC,8BAA8B,EAAEA,8BAA+B;QAC/DC,8BAA8B,EAAEA,8BAA+B;QAC/DC,8BAA8B,EAAEA,8BAA+B;QAC/DC,yBAAyB,EAAEA;MAA0B,EACxD,CAEkB,CAAC;IAEpC;IACA,oBACIjB,KAAA,CAAAU,aAAA,CAACT,gBAAgB,CAACU,QAAQ,QACrB,CAAC;MACEC,+BAA+B;MAC/BC,yBAAyB;MACzBC,8BAA8B;MAC9BC,8BAA8B;MAC9BC,8BAA8B;MAC9BC,yBAAyB;MACzBI,uBAAuB;MACvBC,kBAAkB;MAClBJ;IACJ,CAAC,kBACGlB,KAAA,CAAAU,aAAA,CAACN,gBAAgB,EAAAe,QAAA;MACbZ,GAAG,EAAEA;IAAI,GACLD,KAAK;MACTc,cAAc,EAAEF,KAAM;MACtBN,+BAA+B,EAAEA,+BAAgC;MACjEC,yBAAyB,EAAEA,yBAA0B;MACrDC,8BAA8B,EAAEA,8BAA+B;MAC/DC,8BAA8B,EAAEA,8BAA+B;MAC/DC,8BAA8B,EAAEA,8BAA+B;MAC/DC,yBAAyB,EAAEA,yBAA0B;MACrDI,uBAAuB,EAAEA,uBAAwB;MACjDC,kBAAkB,EAAEA;IAAmB,EAC1C,CAEkB,CAAC;EAEpC,CACJ,CAAC;AACL","ignoreList":[]}