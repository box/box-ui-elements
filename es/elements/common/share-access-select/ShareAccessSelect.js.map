{"version":3,"file":"ShareAccessSelect.js","names":["React","useIntl","ACCESS_NONE","ACCESS_OPEN","ACCESS_COLLAB","ACCESS_COMPANY","messages","ShareAccessSelect","className","canSetShareAccess","onChange","item","formatMessage","allowed_shared_link_access_levels","allowedSharedAccessLevels","permissions","shared_link","sharedLink","createElement","access","can_set_share_access","allowShareAccessChange","changeHandler","target","value","allowOpen","indexOf","allowCollab","allowCompany","allowed","shareAccessOpen","shareAccessCollab","shareAccessCompany","shareAccessNone","shareAccessRemove"],"sources":["../../../../src/elements/common/share-access-select/ShareAccessSelect.tsx"],"sourcesContent":["/**\n * @file Share Access Select component\n * @author Box\n */\n\nimport * as React from 'react';\nimport { useIntl } from 'react-intl';\nimport { ACCESS_NONE, ACCESS_OPEN, ACCESS_COLLAB, ACCESS_COMPANY } from '../../../constants';\nimport type { BoxItem } from '../../../common/types/core';\n\nimport './ShareAccessSelect.scss';\n\nimport messages from '../messages';\n\nexport interface ShareAccessSelectProps {\n    canSetShareAccess: boolean;\n    className: string;\n    item: BoxItem;\n    onChange: (value: string, item: BoxItem) => void;\n}\n\nconst ShareAccessSelect = ({ className, canSetShareAccess, onChange, item }: ShareAccessSelectProps) => {\n    const { formatMessage } = useIntl();\n    const { allowed_shared_link_access_levels: allowedSharedAccessLevels, permissions, shared_link: sharedLink } = item;\n\n    if (!allowedSharedAccessLevels) {\n        return <span />;\n    }\n\n    const { access = ACCESS_NONE } = sharedLink || {};\n    const { can_set_share_access: allowShareAccessChange } = permissions || {};\n\n    const changeHandler = ({ target }: React.ChangeEvent<HTMLSelectElement>) => onChange(target.value, item);\n    const allowOpen = allowedSharedAccessLevels.indexOf(ACCESS_OPEN) > -1;\n    const allowCollab = allowedSharedAccessLevels.indexOf(ACCESS_COLLAB) > -1;\n    const allowCompany = allowedSharedAccessLevels.indexOf(ACCESS_COMPANY) > -1;\n    const allowed = canSetShareAccess && allowShareAccessChange && (allowOpen || allowCompany || allowCollab);\n\n    if (!allowed) {\n        return <span />;\n    }\n\n    /* eslint-disable jsx-a11y/no-onchange */\n    return (\n        <select className={`be-share-access-select ${className}`} onChange={changeHandler} value={access}>\n            {allowOpen ? <option value={ACCESS_OPEN}>{formatMessage(messages.shareAccessOpen)}</option> : null}\n            {allowCollab ? <option value={ACCESS_COLLAB}>{formatMessage(messages.shareAccessCollab)}</option> : null}\n            {allowCompany ? <option value={ACCESS_COMPANY}>{formatMessage(messages.shareAccessCompany)}</option> : null}\n            <option value={ACCESS_NONE}>\n                {access === ACCESS_NONE\n                    ? formatMessage(messages.shareAccessNone)\n                    : formatMessage(messages.shareAccessRemove)}\n            </option>\n        </select>\n    );\n};\n\nexport default ShareAccessSelect;\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,OAAO,QAAQ,YAAY;AACpC,SAASC,WAAW,EAAEC,WAAW,EAAEC,aAAa,EAAEC,cAAc,QAAQ,oBAAoB;AAG5F,OAAO,0BAA0B;AAEjC,OAAOC,QAAQ,MAAM,aAAa;AASlC,MAAMC,iBAAiB,GAAGA,CAAC;EAAEC,SAAS;EAAEC,iBAAiB;EAAEC,QAAQ;EAAEC;AAA6B,CAAC,KAAK;EACpG,MAAM;IAAEC;EAAc,CAAC,GAAGX,OAAO,CAAC,CAAC;EACnC,MAAM;IAAEY,iCAAiC,EAAEC,yBAAyB;IAAEC,WAAW;IAAEC,WAAW,EAAEC;EAAW,CAAC,GAAGN,IAAI;EAEnH,IAAI,CAACG,yBAAyB,EAAE;IAC5B,oBAAOd,KAAA,CAAAkB,aAAA,aAAO,CAAC;EACnB;EAEA,MAAM;IAAEC,MAAM,GAAGjB;EAAY,CAAC,GAAGe,UAAU,IAAI,CAAC,CAAC;EACjD,MAAM;IAAEG,oBAAoB,EAAEC;EAAuB,CAAC,GAAGN,WAAW,IAAI,CAAC,CAAC;EAE1E,MAAMO,aAAa,GAAGA,CAAC;IAAEC;EAA6C,CAAC,KAAKb,QAAQ,CAACa,MAAM,CAACC,KAAK,EAAEb,IAAI,CAAC;EACxG,MAAMc,SAAS,GAAGX,yBAAyB,CAACY,OAAO,CAACvB,WAAW,CAAC,GAAG,CAAC,CAAC;EACrE,MAAMwB,WAAW,GAAGb,yBAAyB,CAACY,OAAO,CAACtB,aAAa,CAAC,GAAG,CAAC,CAAC;EACzE,MAAMwB,YAAY,GAAGd,yBAAyB,CAACY,OAAO,CAACrB,cAAc,CAAC,GAAG,CAAC,CAAC;EAC3E,MAAMwB,OAAO,GAAGpB,iBAAiB,IAAIY,sBAAsB,KAAKI,SAAS,IAAIG,YAAY,IAAID,WAAW,CAAC;EAEzG,IAAI,CAACE,OAAO,EAAE;IACV,oBAAO7B,KAAA,CAAAkB,aAAA,aAAO,CAAC;EACnB;;EAEA;EACA,oBACIlB,KAAA,CAAAkB,aAAA;IAAQV,SAAS,EAAE,0BAA0BA,SAAS,EAAG;IAACE,QAAQ,EAAEY,aAAc;IAACE,KAAK,EAAEL;EAAO,GAC5FM,SAAS,gBAAGzB,KAAA,CAAAkB,aAAA;IAAQM,KAAK,EAAErB;EAAY,GAAES,aAAa,CAACN,QAAQ,CAACwB,eAAe,CAAU,CAAC,GAAG,IAAI,EACjGH,WAAW,gBAAG3B,KAAA,CAAAkB,aAAA;IAAQM,KAAK,EAAEpB;EAAc,GAAEQ,aAAa,CAACN,QAAQ,CAACyB,iBAAiB,CAAU,CAAC,GAAG,IAAI,EACvGH,YAAY,gBAAG5B,KAAA,CAAAkB,aAAA;IAAQM,KAAK,EAAEnB;EAAe,GAAEO,aAAa,CAACN,QAAQ,CAAC0B,kBAAkB,CAAU,CAAC,GAAG,IAAI,eAC3GhC,KAAA,CAAAkB,aAAA;IAAQM,KAAK,EAAEtB;EAAY,GACtBiB,MAAM,KAAKjB,WAAW,GACjBU,aAAa,CAACN,QAAQ,CAAC2B,eAAe,CAAC,GACvCrB,aAAa,CAACN,QAAQ,CAAC4B,iBAAiB,CAC1C,CACJ,CAAC;AAEjB,CAAC;AAED,eAAe3B,iBAAiB","ignoreList":[]}