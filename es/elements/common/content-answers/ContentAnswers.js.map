{"version":3,"file":"ContentAnswers.js","names":["React","useCallback","useState","getProp","ContentAnswersModal","ContentAnswersOpenButton","ContentAnswers","props","className","file","onAsk","onRequestClose","rest","_objectWithoutProperties","_excluded","isModalOpen","setIsModalOpen","hasQuestions","setHasQuestions","isHighlighted","setIsHighlighted","handleClick","handleClose","handleAsk","currentExtension","createElement","fileExtension","onClick","_extends","isOpen"],"sources":["../../../../src/elements/common/content-answers/ContentAnswers.tsx"],"sourcesContent":["import React, { useCallback, useState } from 'react';\nimport getProp from 'lodash/get';\n\nimport ContentAnswersModal, { ExternalProps as ContentAnswersModalExternalProps } from './ContentAnswersModal';\nimport ContentAnswersOpenButton from './ContentAnswersOpenButton';\n// @ts-ignore: no ts definition\nimport { BoxItem } from '../../common/types/core';\n\ninterface ExternalProps extends ContentAnswersModalExternalProps {\n    show?: boolean;\n}\n\ninterface Props {\n    className?: string;\n    file: BoxItem;\n}\n\nconst ContentAnswers = (props: ContentAnswersModalExternalProps & Props) => {\n    const { className = '', file, onAsk, onRequestClose, ...rest } = props;\n\n    const [isModalOpen, setIsModalOpen] = useState(false);\n    const [hasQuestions, setHasQuestions] = useState(false);\n    const [isHighlighted, setIsHighlighted] = useState(false);\n\n    const handleClick = useCallback(() => {\n        setIsModalOpen(true);\n    }, [setIsModalOpen]);\n\n    const handleClose = useCallback(() => {\n        setIsModalOpen(false);\n        if (hasQuestions) {\n            setIsHighlighted(true);\n        }\n\n        if (onRequestClose) {\n            onRequestClose();\n        }\n    }, [hasQuestions, onRequestClose]);\n\n    const handleAsk = useCallback(() => {\n        setHasQuestions(true);\n        if (onAsk) {\n            onAsk();\n        }\n    }, [onAsk]);\n\n    const currentExtension = getProp(file, 'extension');\n    return (\n        <div className={`be-ContentAnswers ${className}`}>\n            <ContentAnswersOpenButton\n                fileExtension={currentExtension}\n                isHighlighted={isHighlighted}\n                isModalOpen={isModalOpen}\n                onClick={handleClick}\n            />\n            <ContentAnswersModal\n                file={file}\n                isOpen={isModalOpen}\n                onAsk={handleAsk}\n                onRequestClose={handleClose}\n                {...rest}\n            />\n        </div>\n    );\n};\n\nexport type ContentAnswersProps = ExternalProps & Props;\nexport default ContentAnswers;\n"],"mappings":";;;;AAAA,OAAOA,KAAK,IAAIC,WAAW,EAAEC,QAAQ,QAAQ,OAAO;AACpD,OAAOC,OAAO,MAAM,YAAY;AAEhC,OAAOC,mBAAmB,MAA6D,uBAAuB;AAC9G,OAAOC,wBAAwB,MAAM,4BAA4B;AACjE;;AAYA,MAAMC,cAAc,GAAIC,KAA+C,IAAK;EACxE,MAAM;MAAEC,SAAS,GAAG,EAAE;MAAEC,IAAI;MAAEC,KAAK;MAAEC;IAAwB,CAAC,GAAGJ,KAAK;IAAdK,IAAI,GAAAC,wBAAA,CAAKN,KAAK,EAAAO,SAAA;EAEtE,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGd,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACe,YAAY,EAAEC,eAAe,CAAC,GAAGhB,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM,CAACiB,aAAa,EAAEC,gBAAgB,CAAC,GAAGlB,QAAQ,CAAC,KAAK,CAAC;EAEzD,MAAMmB,WAAW,GAAGpB,WAAW,CAAC,MAAM;IAClCe,cAAc,CAAC,IAAI,CAAC;EACxB,CAAC,EAAE,CAACA,cAAc,CAAC,CAAC;EAEpB,MAAMM,WAAW,GAAGrB,WAAW,CAAC,MAAM;IAClCe,cAAc,CAAC,KAAK,CAAC;IACrB,IAAIC,YAAY,EAAE;MACdG,gBAAgB,CAAC,IAAI,CAAC;IAC1B;IAEA,IAAIT,cAAc,EAAE;MAChBA,cAAc,CAAC,CAAC;IACpB;EACJ,CAAC,EAAE,CAACM,YAAY,EAAEN,cAAc,CAAC,CAAC;EAElC,MAAMY,SAAS,GAAGtB,WAAW,CAAC,MAAM;IAChCiB,eAAe,CAAC,IAAI,CAAC;IACrB,IAAIR,KAAK,EAAE;MACPA,KAAK,CAAC,CAAC;IACX;EACJ,CAAC,EAAE,CAACA,KAAK,CAAC,CAAC;EAEX,MAAMc,gBAAgB,GAAGrB,OAAO,CAACM,IAAI,EAAE,WAAW,CAAC;EACnD,oBACIT,KAAA,CAAAyB,aAAA;IAAKjB,SAAS,EAAE,qBAAqBA,SAAS;EAAG,gBAC7CR,KAAA,CAAAyB,aAAA,CAACpB,wBAAwB;IACrBqB,aAAa,EAAEF,gBAAiB;IAChCL,aAAa,EAAEA,aAAc;IAC7BJ,WAAW,EAAEA,WAAY;IACzBY,OAAO,EAAEN;EAAY,CACxB,CAAC,eACFrB,KAAA,CAAAyB,aAAA,CAACrB,mBAAmB,EAAAwB,QAAA;IAChBnB,IAAI,EAAEA,IAAK;IACXoB,MAAM,EAAEd,WAAY;IACpBL,KAAK,EAAEa,SAAU;IACjBZ,cAAc,EAAEW;EAAY,GACxBV,IAAI,CACX,CACA,CAAC;AAEd,CAAC;AAGD,eAAeN,cAAc","ignoreList":[]}