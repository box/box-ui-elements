{"version":3,"file":"ContentAnswersOpenButton.js","names":["React","useEffect","injectIntl","classNames","IconButton","Tooltip","BoxAiLogo","CODE_FILE_EXTENSIONS","DOCUMENT_FILE_EXTENSIONS","TEXT_FILE_EXTENSIONS","messages","ContentAnswersOpenButton","fileExtension","intl","isHighlighted","isModalOpen","onClick","formatMessage","buttonRef","useRef","current","focus","isAllowedFileType","extension","allowedTypes","includes","getTooltipText","hasQuestionsTooltip","disabledTooltipFileNotCompatible","defaultTooltip","openButtonClassNames","createElement","content","contentAnswersTitle","className","disabled","ref","icon","variant"],"sources":["../../../../src/elements/common/content-answers/ContentAnswersOpenButton.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { injectIntl, IntlShape } from 'react-intl';\nimport classNames from 'classnames';\n\nimport { IconButton, Tooltip } from '@box/blueprint-web';\nimport { BoxAiLogo } from '@box/blueprint-web-assets/icons/Logo';\n\nimport { CODE_FILE_EXTENSIONS, DOCUMENT_FILE_EXTENSIONS, TEXT_FILE_EXTENSIONS } from './constants';\n\nimport messages from './messages';\n\nimport './ContentAnswersOpenButton.scss';\n\ninterface ContentAnswersOpenButtonProps {\n    fileExtension: string;\n    intl: IntlShape;\n    isHighlighted: boolean;\n    isModalOpen: boolean;\n    onClick: () => void;\n}\n\nconst ContentAnswersOpenButton = ({\n    fileExtension,\n    intl,\n    isHighlighted,\n    isModalOpen,\n    onClick,\n}: ContentAnswersOpenButtonProps) => {\n    const { formatMessage } = intl;\n    const buttonRef = React.useRef<HTMLButtonElement | null>(null);\n\n    useEffect(() => {\n        if (isHighlighted && !isModalOpen && buttonRef.current) {\n            buttonRef.current.focus();\n        }\n    }, [isHighlighted, isModalOpen]);\n\n    const isAllowedFileType = (extension: string) => {\n        const allowedTypes = [...CODE_FILE_EXTENSIONS, ...DOCUMENT_FILE_EXTENSIONS, ...TEXT_FILE_EXTENSIONS];\n        return allowedTypes.includes(extension);\n    };\n\n    const getTooltipText = () => {\n        if (isHighlighted) {\n            return formatMessage(messages.hasQuestionsTooltip);\n        }\n        if (!isAllowedFileType(fileExtension)) {\n            return formatMessage(messages.disabledTooltipFileNotCompatible);\n        }\n        return formatMessage(messages.defaultTooltip);\n    };\n\n    const openButtonClassNames = classNames('be-ContentAnswersOpenButton', {\n        'be-ContentAnswersOpenButton--hasQuestions': isHighlighted,\n    });\n    return (\n        <Tooltip content={getTooltipText()}>\n            <IconButton\n                aria-label={formatMessage(messages.contentAnswersTitle)}\n                className={openButtonClassNames}\n                disabled={!isAllowedFileType(fileExtension)}\n                onClick={onClick}\n                ref={buttonRef}\n                icon={BoxAiLogo}\n                variant=\"icon-logo\"\n            />\n        </Tooltip>\n    );\n};\n\nexport default injectIntl(ContentAnswersOpenButton);\n"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,UAAU,QAAmB,YAAY;AAClD,OAAOC,UAAU,MAAM,YAAY;AAEnC,SAASC,UAAU,EAAEC,OAAO,QAAQ,oBAAoB;AACxD,SAASC,SAAS,QAAQ,sCAAsC;AAEhE,SAASC,oBAAoB,EAAEC,wBAAwB,EAAEC,oBAAoB,QAAQ,aAAa;AAElG,OAAOC,QAAQ,MAAM,YAAY;AAEjC,OAAO,iCAAiC;AAUxC,MAAMC,wBAAwB,GAAGA,CAAC;EAC9BC,aAAa;EACbC,IAAI;EACJC,aAAa;EACbC,WAAW;EACXC;AAC2B,CAAC,KAAK;EACjC,MAAM;IAAEC;EAAc,CAAC,GAAGJ,IAAI;EAC9B,MAAMK,SAAS,GAAGlB,KAAK,CAACmB,MAAM,CAA2B,IAAI,CAAC;EAE9DlB,SAAS,CAAC,MAAM;IACZ,IAAIa,aAAa,IAAI,CAACC,WAAW,IAAIG,SAAS,CAACE,OAAO,EAAE;MACpDF,SAAS,CAACE,OAAO,CAACC,KAAK,CAAC,CAAC;IAC7B;EACJ,CAAC,EAAE,CAACP,aAAa,EAAEC,WAAW,CAAC,CAAC;EAEhC,MAAMO,iBAAiB,GAAIC,SAAiB,IAAK;IAC7C,MAAMC,YAAY,GAAG,CAAC,GAAGjB,oBAAoB,EAAE,GAAGC,wBAAwB,EAAE,GAAGC,oBAAoB,CAAC;IACpG,OAAOe,YAAY,CAACC,QAAQ,CAACF,SAAS,CAAC;EAC3C,CAAC;EAED,MAAMG,cAAc,GAAGA,CAAA,KAAM;IACzB,IAAIZ,aAAa,EAAE;MACf,OAAOG,aAAa,CAACP,QAAQ,CAACiB,mBAAmB,CAAC;IACtD;IACA,IAAI,CAACL,iBAAiB,CAACV,aAAa,CAAC,EAAE;MACnC,OAAOK,aAAa,CAACP,QAAQ,CAACkB,gCAAgC,CAAC;IACnE;IACA,OAAOX,aAAa,CAACP,QAAQ,CAACmB,cAAc,CAAC;EACjD,CAAC;EAED,MAAMC,oBAAoB,GAAG3B,UAAU,CAAC,6BAA6B,EAAE;IACnE,2CAA2C,EAAEW;EACjD,CAAC,CAAC;EACF,oBACId,KAAA,CAAA+B,aAAA,CAAC1B,OAAO;IAAC2B,OAAO,EAAEN,cAAc,CAAC;EAAE,gBAC/B1B,KAAA,CAAA+B,aAAA,CAAC3B,UAAU;IACP,cAAYa,aAAa,CAACP,QAAQ,CAACuB,mBAAmB,CAAE;IACxDC,SAAS,EAAEJ,oBAAqB;IAChCK,QAAQ,EAAE,CAACb,iBAAiB,CAACV,aAAa,CAAE;IAC5CI,OAAO,EAAEA,OAAQ;IACjBoB,GAAG,EAAElB,SAAU;IACfmB,IAAI,EAAE/B,SAAU;IAChBgC,OAAO,EAAC;EAAW,CACtB,CACI,CAAC;AAElB,CAAC;AAED,eAAepC,UAAU,CAACS,wBAAwB,CAAC","ignoreList":[]}