{"version":3,"file":"SidebarAccessStats.js","names":["React","isFinite","injectIntl","FormattedMessage","AccessStats","messages","INTERACTION_TARGET","SECTION_TARGETS","DETAILS_TARGETS","isBoxNote","SidebarSection","withErrorHandling","SidebarAccessStats","onAccessStatsClick","accessStats","comment_count","undefined","download_count","edit_count","has_count_overflowed","preview_count","file","error","intl","errorMessage","formatMessage","createElement","interactionTarget","ACCESS_STATS","title","sidebarAccessStats","commentCount","commentStatButtonProps","COMMENTS","downloadCount","downloadStatButtonProps","DOWNLOADS","previewCount","previewStatButtonProps","PREVIEWS","viewStatButtonProps","VIEWS","editCount","editStatButtonProps","EDITS","openAccessStatsModal","viewMoreButtonProps","VIEW_DETAILS","SidebarAccessStatsComponent"],"sources":["../../../src/elements/content-sidebar/SidebarAccessStats.js"],"sourcesContent":["/**\n * @flow\n * @file Versions sidebar component\n * @author Box\n */\n\nimport * as React from 'react';\nimport isFinite from 'lodash/isFinite';\nimport { injectIntl, FormattedMessage } from 'react-intl';\nimport type { MessageDescriptor, IntlShape } from 'react-intl';\nimport AccessStats from '../../features/access-stats/AccessStats';\nimport messages from '../common/messages';\nimport { INTERACTION_TARGET, SECTION_TARGETS, DETAILS_TARGETS } from '../common/interactionTargets';\nimport { isBoxNote } from '../../utils/file';\nimport SidebarSection from './SidebarSection';\nimport withErrorHandling from './withErrorHandling';\nimport type { FileAccessStats } from './flowTypes';\nimport type { BoxItem } from '../../common/types/core';\n\ntype Props = {\n    accessStats?: FileAccessStats,\n    error?: MessageDescriptor,\n    file: BoxItem,\n    intl: IntlShape,\n    onAccessStatsClick?: Function,\n};\n\nconst SidebarAccessStats = ({\n    onAccessStatsClick,\n    accessStats = {\n        comment_count: undefined,\n        download_count: undefined,\n        edit_count: undefined,\n        has_count_overflowed: false,\n        preview_count: undefined,\n    },\n    file,\n    error,\n    intl,\n}: Props) => {\n    const { preview_count, comment_count, download_count, edit_count } = accessStats;\n\n    if (\n        !isFinite(preview_count) &&\n        !isFinite(comment_count) &&\n        !isFinite(download_count) &&\n        !isFinite(edit_count) &&\n        !error\n    ) {\n        return null;\n    }\n\n    const errorMessage = error ? intl.formatMessage(error) : undefined;\n    return (\n        <SidebarSection\n            interactionTarget={SECTION_TARGETS.ACCESS_STATS}\n            title={<FormattedMessage {...messages.sidebarAccessStats} />}\n        >\n            <AccessStats\n                errorMessage={errorMessage}\n                commentCount={comment_count}\n                commentStatButtonProps={{\n                    [INTERACTION_TARGET]: DETAILS_TARGETS.ACCESS_STATS.COMMENTS,\n                }}\n                downloadCount={download_count}\n                downloadStatButtonProps={{\n                    [INTERACTION_TARGET]: DETAILS_TARGETS.ACCESS_STATS.DOWNLOADS,\n                }}\n                previewCount={preview_count}\n                previewStatButtonProps={{\n                    [INTERACTION_TARGET]: DETAILS_TARGETS.ACCESS_STATS.PREVIEWS,\n                }}\n                viewStatButtonProps={{\n                    [INTERACTION_TARGET]: DETAILS_TARGETS.ACCESS_STATS.VIEWS,\n                }}\n                editCount={edit_count}\n                editStatButtonProps={{\n                    [INTERACTION_TARGET]: DETAILS_TARGETS.ACCESS_STATS.EDITS,\n                }}\n                openAccessStatsModal={onAccessStatsClick}\n                isBoxNote={isBoxNote(file)}\n                viewMoreButtonProps={{\n                    [INTERACTION_TARGET]: DETAILS_TARGETS.ACCESS_STATS.VIEW_DETAILS,\n                }}\n            />\n        </SidebarSection>\n    );\n};\n\nexport { SidebarAccessStats as SidebarAccessStatsComponent };\nexport default withErrorHandling(injectIntl(SidebarAccessStats));\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;;AAEA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,OAAOC,QAAQ,MAAM,iBAAiB;AACtC,SAASC,UAAU,EAAEC,gBAAgB,QAAQ,YAAY;AAEzD,OAAOC,WAAW,MAAM,yCAAyC;AACjE,OAAOC,QAAQ,MAAM,oBAAoB;AACzC,SAASC,kBAAkB,EAAEC,eAAe,EAAEC,eAAe,QAAQ,8BAA8B;AACnG,SAASC,SAAS,QAAQ,kBAAkB;AAC5C,OAAOC,cAAc,MAAM,kBAAkB;AAC7C,OAAOC,iBAAiB,MAAM,qBAAqB;AAYnD,MAAMC,kBAAkB,GAAGA,CAAC;EACxBC,kBAAkB;EAClBC,WAAW,GAAG;IACVC,aAAa,EAAEC,SAAS;IACxBC,cAAc,EAAED,SAAS;IACzBE,UAAU,EAAEF,SAAS;IACrBG,oBAAoB,EAAE,KAAK;IAC3BC,aAAa,EAAEJ;EACnB,CAAC;EACDK,IAAI;EACJC,KAAK;EACLC;AACG,CAAC,KAAK;EACT,MAAM;IAAEH,aAAa;IAAEL,aAAa;IAAEE,cAAc;IAAEC;EAAW,CAAC,GAAGJ,WAAW;EAEhF,IACI,CAACb,QAAQ,CAACmB,aAAa,CAAC,IACxB,CAACnB,QAAQ,CAACc,aAAa,CAAC,IACxB,CAACd,QAAQ,CAACgB,cAAc,CAAC,IACzB,CAAChB,QAAQ,CAACiB,UAAU,CAAC,IACrB,CAACI,KAAK,EACR;IACE,OAAO,IAAI;EACf;EAEA,MAAME,YAAY,GAAGF,KAAK,GAAGC,IAAI,CAACE,aAAa,CAACH,KAAK,CAAC,GAAGN,SAAS;EAClE,oBACIhB,KAAA,CAAA0B,aAAA,CAAChB,cAAc;IACXiB,iBAAiB,EAAEpB,eAAe,CAACqB,YAAa;IAChDC,KAAK,eAAE7B,KAAA,CAAA0B,aAAA,CAACvB,gBAAgB,EAAKE,QAAQ,CAACyB,kBAAqB;EAAE,gBAE7D9B,KAAA,CAAA0B,aAAA,CAACtB,WAAW;IACRoB,YAAY,EAAEA,YAAa;IAC3BO,YAAY,EAAEhB,aAAc;IAC5BiB,sBAAsB,EAAE;MACpB,CAAC1B,kBAAkB,GAAGE,eAAe,CAACoB,YAAY,CAACK;IACvD,CAAE;IACFC,aAAa,EAAEjB,cAAe;IAC9BkB,uBAAuB,EAAE;MACrB,CAAC7B,kBAAkB,GAAGE,eAAe,CAACoB,YAAY,CAACQ;IACvD,CAAE;IACFC,YAAY,EAAEjB,aAAc;IAC5BkB,sBAAsB,EAAE;MACpB,CAAChC,kBAAkB,GAAGE,eAAe,CAACoB,YAAY,CAACW;IACvD,CAAE;IACFC,mBAAmB,EAAE;MACjB,CAAClC,kBAAkB,GAAGE,eAAe,CAACoB,YAAY,CAACa;IACvD,CAAE;IACFC,SAAS,EAAExB,UAAW;IACtByB,mBAAmB,EAAE;MACjB,CAACrC,kBAAkB,GAAGE,eAAe,CAACoB,YAAY,CAACgB;IACvD,CAAE;IACFC,oBAAoB,EAAEhC,kBAAmB;IACzCJ,SAAS,EAAEA,SAAS,CAACY,IAAI,CAAE;IAC3ByB,mBAAmB,EAAE;MACjB,CAACxC,kBAAkB,GAAGE,eAAe,CAACoB,YAAY,CAACmB;IACvD;EAAE,CACL,CACW,CAAC;AAEzB,CAAC;AAED,SAASnC,kBAAkB,IAAIoC,2BAA2B;AAC1D,eAAerC,iBAAiB,CAACT,UAAU,CAACU,kBAAkB,CAAC,CAAC","ignoreList":[]}