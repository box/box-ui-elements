{"version":3,"file":"ActiveState.js","names":["React","getProp","noop","ActivityThread","ActivityItem","AppActivity","AnnotationActivity","Comment","TaskNew","Version","CollapsedVersion","withErrorHandling","BaseComment","FEED_ITEM_TYPE_ANNOTATION","FEED_ITEM_TYPE_APP_ACTIVITY","FEED_ITEM_TYPE_COMMENT","FEED_ITEM_TYPE_TASK","FEED_ITEM_TYPE_VERSION","AnnotationActivityLinkProvider","ActiveState","activeFeedItem","activeFeedItemRef","approverSelectorContacts","currentFileVersionId","currentUser","file","getApproverWithQuery","getAvatarUrl","getMentionWithQuery","getUserProfileUrl","hasNewThreadedReplies","hasReplies","hasVersions","items","mentionSelectorContacts","onAnnotationDelete","onAnnotationEdit","onAnnotationSelect","onAnnotationStatusChange","onAppActivityDelete","onCommentDelete","onCommentEdit","onCommentSelect","onHideReplies","onReplyCreate","onReplyDelete","onReplyUpdate","onShowReplies","onTaskAssignmentUpdate","onTaskDelete","onTaskEdit","onTaskModalClose","onTaskView","onVersionInfo","shouldUseUAA","translations","onCommentSelectHandler","itemId","isSelected","onHideRepliesHandler","parentId","lastReply","onReplyCreateHandler","parentType","text","onReplyDeleteHandler","options","_objectSpread","onReplyUpdateHandler","id","status","hasMention","permissions","onSuccess","onError","onShowRepliesHandler","type","onCommentStatusChangeHandler","props","hasMultipleVersions","item","versions","version_start","version_end","createElement","className","map","isFocused","refValue","undefined","itemFileVersionId","replyProps","onReplySelect","commentAndAnnotationCommonProps","shownReplies","onSelect","can_delete","can_edit","can_reply","can_resolve","repliesTotalCount","total_reply_count","key","isHoverable","ref","_extends","onDelete","reply","onStatusChange","isPending","isRepliesLoading","onReplyEdit","replies","onEdit","onAssignmentUpdate","onView","onModalClose","onInfo","annotationActivityLink","isCurrentVersion","tagged_message","description","message","ActiveStateComponent"],"sources":["../../../../../src/elements/content-sidebar/activity-feed/activity-feed/ActiveState.js"],"sourcesContent":["/**\n * @flow\n * @file Active state component for Activity Feed\n */\nimport * as React from 'react';\nimport getProp from 'lodash/get';\nimport noop from 'lodash/noop';\nimport ActivityThread from './ActivityThread';\nimport ActivityItem from './ActivityItem';\nimport AppActivity from '../app-activity';\nimport AnnotationActivity from '../annotations';\nimport Comment from '../comment';\nimport TaskNew from '../task-new';\nimport Version, { CollapsedVersion } from '../version';\nimport withErrorHandling from '../../withErrorHandling';\nimport { BaseComment } from '../comment/BaseComment';\nimport {\n    FEED_ITEM_TYPE_ANNOTATION,\n    FEED_ITEM_TYPE_APP_ACTIVITY,\n    FEED_ITEM_TYPE_COMMENT,\n    FEED_ITEM_TYPE_TASK,\n    FEED_ITEM_TYPE_VERSION,\n} from '../../../../constants';\nimport type {\n    Annotation,\n    AnnotationPermission,\n    BoxCommentPermission,\n    Comment as CommentType,\n    CommentFeedItemType,\n    FeedItem,\n    FeedItems,\n    FeedItemStatus,\n} from '../../../../common/types/feed';\nimport type { SelectorItems, User, BoxItem } from '../../../../common/types/core';\nimport type { GetAvatarUrlCallback, GetProfileUrlCallback } from '../../../common/flowTypes';\nimport type { Translations } from '../../flowTypes';\n\nimport type {\n    OnAnnotationEdit,\n    OnAnnotationStatusChange,\n    OnCommentEdit,\n    OnCommentStatusChange,\n} from '../comment/types';\nimport AnnotationActivityLinkProvider from './AnnotationActivityLinkProvider';\n\ntype Props = {\n    activeFeedItem: FeedItem,\n    activeFeedItemRef: { current: null | HTMLElement },\n    approverSelectorContacts?: SelectorItems<>,\n    currentFileVersionId: string,\n    currentUser?: User,\n    file: BoxItem,\n    getApproverWithQuery?: Function,\n    getAvatarUrl: GetAvatarUrlCallback,\n    getMentionWithQuery?: Function,\n    getUserProfileUrl?: GetProfileUrlCallback,\n    hasNewThreadedReplies?: boolean,\n    hasReplies?: boolean,\n    hasVersions?: boolean,\n    items: FeedItems,\n    mentionSelectorContacts?: SelectorItems<>,\n    onAnnotationDelete?: ({ id: string, permissions: AnnotationPermission }) => void,\n    onAnnotationEdit?: OnAnnotationEdit,\n    onAnnotationSelect?: (annotation: Annotation) => void,\n    onAnnotationStatusChange: OnAnnotationStatusChange,\n    onAppActivityDelete?: Function,\n    onCommentDelete?: Function,\n    onCommentEdit?: OnCommentEdit,\n    onCommentSelect?: (id: string | null) => void,\n    onHideReplies?: (id: string, replies: Array<CommentType>) => void,\n    onReplyCreate?: (parentId: string, parentType: CommentFeedItemType, text: string) => void,\n    onReplyDelete?: ({ id: string, parentId: string, permissions: BoxCommentPermission }) => void,\n    onReplyUpdate?: (\n        id: string,\n        parentId: string,\n        text: string,\n        permissions: BoxCommentPermission,\n        onSuccess: ?Function,\n        onError: ?Function,\n    ) => void,\n    onShowReplies?: (id: string, type: CommentFeedItemType) => void,\n    onTaskAssignmentUpdate?: Function,\n    onTaskDelete?: Function,\n    onTaskEdit?: Function,\n    onTaskModalClose?: Function,\n    onTaskView?: Function,\n    onVersionInfo?: Function,\n    shouldUseUAA?: boolean,\n    translations?: Translations,\n};\n\nconst ActiveState = ({\n    activeFeedItem,\n    activeFeedItemRef,\n    approverSelectorContacts,\n    currentFileVersionId,\n    currentUser,\n    file,\n    getApproverWithQuery,\n    getAvatarUrl,\n    getMentionWithQuery,\n    getUserProfileUrl,\n    hasNewThreadedReplies = false,\n    hasReplies = false,\n    hasVersions,\n    items,\n    mentionSelectorContacts,\n    onAnnotationDelete,\n    onAnnotationEdit,\n    onAnnotationSelect,\n    onAnnotationStatusChange,\n    onAppActivityDelete,\n    onCommentDelete,\n    onCommentEdit,\n    onCommentSelect = noop,\n    onHideReplies = noop,\n    onReplyCreate = noop,\n    onReplyDelete = noop,\n    onReplyUpdate = noop,\n    onShowReplies = noop,\n    onTaskAssignmentUpdate,\n    onTaskDelete,\n    onTaskEdit,\n    onTaskModalClose,\n    onTaskView,\n    onVersionInfo,\n    shouldUseUAA,\n    translations,\n}: Props): React.Node => {\n    const onCommentSelectHandler = (itemId: string) => (isSelected: boolean) => {\n        onCommentSelect(isSelected ? itemId : null);\n    };\n    const onHideRepliesHandler = (parentId: string) => (lastReply: CommentType) => {\n        onHideReplies(parentId, [lastReply]);\n    };\n    const onReplyCreateHandler = (parentId: string, parentType: CommentFeedItemType) => (text: string) => {\n        onReplyCreate(parentId, parentType, text);\n    };\n    const onReplyDeleteHandler = (parentId: string) => (options: { id: string, permissions: BoxCommentPermission }) => {\n        onReplyDelete({ ...options, parentId });\n    };\n    const onReplyUpdateHandler =\n        (parentId: string) =>\n        (\n            id: string,\n            text: string,\n            status?: FeedItemStatus,\n            hasMention?: boolean,\n            permissions: BoxCommentPermission,\n            onSuccess: ?Function,\n            onError: ?Function,\n        ) => {\n            onReplyUpdate(id, parentId, text, permissions, onSuccess, onError);\n        };\n    const onShowRepliesHandler = (id: string, type: CommentFeedItemType) => () => {\n        onShowReplies(id, type);\n    };\n    const onCommentStatusChangeHandler: OnCommentStatusChange = (props: {\n        id: string,\n        permissions: AnnotationPermission | BoxCommentPermission,\n        status: FeedItemStatus,\n    }) => {\n        if (onCommentEdit) {\n            onCommentEdit({ hasMention: false, ...props });\n        }\n    };\n\n    const hasMultipleVersions = item => item.versions || (shouldUseUAA && item.version_start !== item.version_end);\n\n    return (\n        <ul className=\"bcs-activity-feed-active-state\">\n            {items.map((item: FeedItem) => {\n                const isFocused = item === activeFeedItem;\n                const refValue = isFocused ? activeFeedItemRef : undefined;\n                const itemFileVersionId = getProp(item, 'file_version.id');\n                const replyProps = {\n                    hasReplies,\n                    onReplySelect: onCommentSelectHandler(item.id),\n                };\n\n                const commentAndAnnotationCommonProps = {\n                    ...item,\n                    ...replyProps,\n                    currentUser,\n                    file,\n                    getAvatarUrl,\n                    getMentionWithQuery,\n                    getUserProfileUrl,\n                    mentionSelectorContacts,\n                    onHideReplies: shownReplies => onHideReplies(item.id, shownReplies),\n                    onSelect: onCommentSelectHandler(item.id),\n                    permissions: {\n                        can_delete: getProp(item.permissions, 'can_delete', false),\n                        can_edit: getProp(item.permissions, 'can_edit', false),\n                        can_reply: getProp(item.permissions, 'can_reply', false),\n                        can_resolve: getProp(item.permissions, 'can_resolve', false),\n                    },\n                    // TODO: legitimate, pre-existing typing issue that was previously undetected\n                    // $FlowFixMe\n                    repliesTotalCount: item.total_reply_count,\n                    translations,\n                };\n\n                switch (item.type) {\n                    case FEED_ITEM_TYPE_COMMENT:\n                        return (\n                            <ActivityItem\n                                key={item.type + item.id}\n                                data-testid=\"comment\"\n                                isFocused={isFocused}\n                                isHoverable\n                                hasNewThreadedReplies={hasNewThreadedReplies}\n                                ref={refValue}\n                            >\n                                {hasNewThreadedReplies ? (\n                                    // TODO: legitimate, pre-existing typing issue that was previously undetected\n                                    // Conflict between BoxCommentPermissions and BoxTaskPermissions\n                                    // $FlowFixMe\n                                    <BaseComment\n                                        {...commentAndAnnotationCommonProps}\n                                        file={file}\n                                        onDelete={onCommentDelete}\n                                        onCommentEdit={onCommentEdit}\n                                        onReplyCreate={reply => onReplyCreate(item.id, FEED_ITEM_TYPE_COMMENT, reply)}\n                                        onReplyDelete={onReplyDeleteHandler(item.id)}\n                                        onShowReplies={() => onShowReplies(item.id, FEED_ITEM_TYPE_COMMENT)}\n                                        onStatusChange={onCommentStatusChangeHandler}\n                                    />\n                                ) : (\n                                    <ActivityThread\n                                        data-testid=\"activity-thread\"\n                                        currentUser={currentUser}\n                                        getAvatarUrl={getAvatarUrl}\n                                        getMentionWithQuery={getMentionWithQuery}\n                                        getUserProfileUrl={getUserProfileUrl}\n                                        hasNewThreadedReplies={hasNewThreadedReplies}\n                                        hasReplies={hasReplies}\n                                        isPending={item.isPending}\n                                        isRepliesLoading={item.isRepliesLoading}\n                                        mentionSelectorContacts={mentionSelectorContacts}\n                                        onHideReplies={onHideRepliesHandler(item.id)}\n                                        onReplyCreate={onReplyCreateHandler(item.id, item.type)}\n                                        onReplyDelete={onReplyDeleteHandler(item.id)}\n                                        onReplyEdit={onReplyUpdateHandler(item.id)}\n                                        onReplySelect={onCommentSelectHandler(item.id)}\n                                        onShowReplies={onShowRepliesHandler(item.id, item.type)}\n                                        repliesTotalCount={item.total_reply_count}\n                                        replies={item.replies}\n                                        translations={translations}\n                                    >\n                                        <Comment\n                                            {...item}\n                                            currentUser={currentUser}\n                                            getAvatarUrl={getAvatarUrl}\n                                            getMentionWithQuery={getMentionWithQuery}\n                                            getUserProfileUrl={getUserProfileUrl}\n                                            file={file}\n                                            mentionSelectorContacts={mentionSelectorContacts}\n                                            onDelete={onCommentDelete}\n                                            onEdit={onCommentEdit}\n                                            onSelect={onCommentSelectHandler(item.id)}\n                                            permissions={{\n                                                can_delete: getProp(item.permissions, 'can_delete', false),\n                                                can_edit: getProp(item.permissions, 'can_edit', false),\n                                                can_reply: getProp(item.permissions, 'can_reply', false),\n                                                can_resolve: getProp(item.permissions, 'can_resolve', false),\n                                            }}\n                                            translations={translations}\n                                        />\n                                    </ActivityThread>\n                                )}\n                            </ActivityItem>\n                        );\n                    case FEED_ITEM_TYPE_TASK:\n                        return (\n                            <ActivityItem\n                                key={item.type + item.id}\n                                className=\"bcs-activity-feed-task-new\"\n                                data-testid=\"task\"\n                                isFocused={isFocused}\n                                ref={refValue}\n                            >\n                                <TaskNew\n                                    {...item}\n                                    approverSelectorContacts={approverSelectorContacts}\n                                    currentUser={currentUser}\n                                    getApproverWithQuery={getApproverWithQuery}\n                                    getAvatarUrl={getAvatarUrl}\n                                    getUserProfileUrl={getUserProfileUrl}\n                                    onAssignmentUpdate={onTaskAssignmentUpdate}\n                                    onDelete={onTaskDelete}\n                                    onEdit={onTaskEdit}\n                                    onView={onTaskView}\n                                    onModalClose={onTaskModalClose}\n                                    shouldUseUAA={shouldUseUAA}\n                                    translations={translations}\n                                />\n                            </ActivityItem>\n                        );\n                    case FEED_ITEM_TYPE_VERSION:\n                        return (\n                            <ActivityItem key={item.type + item.id} className=\"bcs-version-item\" data-testid=\"version\">\n                                {hasMultipleVersions(item) ? (\n                                    // $FlowFixMe\n                                    <CollapsedVersion {...item} onInfo={onVersionInfo} shouldUseUAA={shouldUseUAA} />\n                                ) : (\n                                    // $FlowFixMe\n                                    <Version {...item} onInfo={onVersionInfo} shouldUseUAA={shouldUseUAA} />\n                                )}\n                            </ActivityItem>\n                        );\n                    case FEED_ITEM_TYPE_APP_ACTIVITY:\n                        return (\n                            <ActivityItem\n                                key={item.type + item.id}\n                                className=\"bcs-activity-feed-app-activity\"\n                                data-testid=\"app-activity\"\n                            >\n                                <AppActivity currentUser={currentUser} onDelete={onAppActivityDelete} {...item} />\n                            </ActivityItem>\n                        );\n                    case FEED_ITEM_TYPE_ANNOTATION:\n                        return (\n                            <ActivityItem\n                                key={item.type + item.id}\n                                className=\"bcs-activity-feed-annotation-activity\"\n                                data-testid=\"annotation-activity\"\n                                isHoverable\n                                hasNewThreadedReplies={hasNewThreadedReplies}\n                                isFocused={isFocused}\n                                ref={refValue}\n                            >\n                                {hasNewThreadedReplies && onAnnotationSelect ? (\n                                    // TODO: legitimate, pre-existing typing issue that was previously undetected\n                                    // Conflict between BoxCommentPermissions and BoxTaskPermissions\n                                    // $FlowFixMe\n                                    <BaseComment\n                                        {...commentAndAnnotationCommonProps}\n                                        annotationActivityLink={\n                                            <AnnotationActivityLinkProvider\n                                                item={item}\n                                                onSelect={onAnnotationSelect}\n                                                isCurrentVersion={currentFileVersionId === itemFileVersionId}\n                                            />\n                                        }\n                                        onAnnotationEdit={onAnnotationEdit}\n                                        onCommentEdit={onCommentEdit}\n                                        onDelete={onAnnotationDelete}\n                                        onStatusChange={onAnnotationStatusChange}\n                                        onReplyCreate={reply =>\n                                            onReplyCreate(item.id, FEED_ITEM_TYPE_ANNOTATION, reply)\n                                        }\n                                        onShowReplies={() => onShowReplies(item.id, FEED_ITEM_TYPE_ANNOTATION)}\n                                        tagged_message={item.description?.message ?? ''}\n                                    />\n                                ) : (\n                                    <ActivityThread\n                                        data-testid=\"activity-thread\"\n                                        currentUser={currentUser}\n                                        getAvatarUrl={getAvatarUrl}\n                                        getMentionWithQuery={getMentionWithQuery}\n                                        getUserProfileUrl={getUserProfileUrl}\n                                        hasNewThreadedReplies={hasNewThreadedReplies}\n                                        hasReplies={hasReplies}\n                                        isPending={item.isPending}\n                                        isRepliesLoading={item.isRepliesLoading}\n                                        mentionSelectorContacts={mentionSelectorContacts}\n                                        onHideReplies={onHideRepliesHandler(item.id)}\n                                        onReplyCreate={onReplyCreateHandler(item.id, item.type)}\n                                        onReplyDelete={onReplyDeleteHandler(item.id)}\n                                        onReplyEdit={onReplyUpdateHandler(item.id)}\n                                        onReplySelect={onCommentSelectHandler(item.id)}\n                                        onShowReplies={onShowRepliesHandler(item.id, item.type)}\n                                        repliesTotalCount={item.total_reply_count}\n                                        replies={item.replies}\n                                        translations={translations}\n                                    >\n                                        <AnnotationActivity\n                                            currentUser={currentUser}\n                                            getAvatarUrl={getAvatarUrl}\n                                            getUserProfileUrl={getUserProfileUrl}\n                                            getMentionWithQuery={getMentionWithQuery}\n                                            hasVersions={hasVersions}\n                                            isCurrentVersion={currentFileVersionId === itemFileVersionId}\n                                            item={item}\n                                            mentionSelectorContacts={mentionSelectorContacts}\n                                            onEdit={onAnnotationEdit}\n                                            onDelete={onAnnotationDelete}\n                                            onSelect={onAnnotationSelect}\n                                            onStatusChange={onAnnotationStatusChange}\n                                        />\n                                    </ActivityThread>\n                                )}\n                            </ActivityItem>\n                        );\n                    default:\n                        return null;\n                }\n            })}\n        </ul>\n    );\n};\n\nexport { ActiveState as ActiveStateComponent };\nexport default withErrorHandling(ActiveState);\n"],"mappings":"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","ignoreList":[]}