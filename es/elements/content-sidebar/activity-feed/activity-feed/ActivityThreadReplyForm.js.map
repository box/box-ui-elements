{"version":3,"file":"ActivityThreadReplyForm.js","names":["React","FormattedMessage","injectIntl","PlainButton","ArrowArcRight","CommentForm","messages","ActivityThreadReplyForm","mentionSelectorContacts","getMentionWithQuery","isDisabled","onFocus","onHide","onReplyCreate","onShow","intl","showReplyForm","setShowReplyForm","useState","placeholder","formatMessage","replyInThread","showForm","hideForm","createElement","className","isOpen","isEditing","showTip","user","getAvatarUrl","Promise","resolve","onCancel","createComment","text","onClick","type","reply"],"sources":["../../../../../src/elements/content-sidebar/activity-feed/activity-feed/ActivityThreadReplyForm.js"],"sourcesContent":["// @flow\n\nimport * as React from 'react';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport type { IntlShape } from 'react-intl';\n\nimport PlainButton from '../../../../components/plain-button';\nimport ArrowArcRight from '../../../../icon/fill/ArrowArcRight';\n\nimport type { SelectorItems } from '../../../../common/types/core';\n\nimport CommentForm from '../comment-form';\n\nimport messages from './messages';\nimport './ActivityThreadReplyForm.scss';\n\ntype ActivityThreadReplyFromProps = {\n    getMentionWithQuery?: (searchStr: string) => void,\n    intl: IntlShape,\n    isDisabled?: boolean,\n    mentionSelectorContacts?: SelectorItems<>,\n    onFocus: () => void,\n    onHide: () => void,\n    onReplyCreate: (text: string) => void,\n    onShow: () => void,\n};\n\ntype Props = ActivityThreadReplyFromProps;\n\nfunction ActivityThreadReplyForm({\n    mentionSelectorContacts,\n    getMentionWithQuery,\n    isDisabled,\n    onFocus,\n    onHide,\n    onReplyCreate,\n    onShow,\n    intl,\n}: Props) {\n    const [showReplyForm, setShowReplyForm] = React.useState(false);\n    const placeholder = intl.formatMessage(messages.replyInThread);\n\n    const showForm = () => {\n        setShowReplyForm(true);\n        onShow();\n    };\n\n    const hideForm = () => {\n        setShowReplyForm(false);\n        onHide();\n    };\n\n    return showReplyForm ? (\n        <CommentForm\n            className=\"bcs-ActivityThreadReplyForm-comment\"\n            isOpen\n            isEditing\n            showTip={false}\n            // $FlowFixMe user is needed for showing an avatar, we don't need that here\n            user={{}}\n            getAvatarUrl={() => Promise.resolve()}\n            onCancel={hideForm}\n            onFocus={onFocus}\n            createComment={({ text }) => {\n                onReplyCreate(text);\n                hideForm();\n            }}\n            mentionSelectorContacts={mentionSelectorContacts}\n            getMentionWithQuery={getMentionWithQuery}\n            placeholder={placeholder}\n        />\n    ) : (\n        <PlainButton\n            className=\"bcs-ActivityThreadReplyForm-toggle\"\n            onClick={showForm}\n            type=\"button\"\n            isDisabled={isDisabled}\n        >\n            <ArrowArcRight className=\"bcs-ActivityThreadReplyForm-arrow\" />\n            <FormattedMessage {...messages.reply} />\n        </PlainButton>\n    );\n}\n\nexport default injectIntl(ActivityThreadReplyForm);\n"],"mappings":"AAEA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,gBAAgB,EAAEC,UAAU,QAAQ,YAAY;AAGzD,OAAOC,WAAW,MAAM,qCAAqC;AAC7D,OAAOC,aAAa,MAAM,qCAAqC;AAI/D,OAAOC,WAAW,MAAM,iBAAiB;AAEzC,OAAOC,QAAQ,MAAM,YAAY;AACjC,OAAO,gCAAgC;AAevC,SAASC,uBAAuBA,CAAC;EAC7BC,uBAAuB;EACvBC,mBAAmB;EACnBC,UAAU;EACVC,OAAO;EACPC,MAAM;EACNC,aAAa;EACbC,MAAM;EACNC;AACG,CAAC,EAAE;EACN,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAGjB,KAAK,CAACkB,QAAQ,CAAC,KAAK,CAAC;EAC/D,MAAMC,WAAW,GAAGJ,IAAI,CAACK,aAAa,CAACd,QAAQ,CAACe,aAAa,CAAC;EAE9D,MAAMC,QAAQ,GAAGA,CAAA,KAAM;IACnBL,gBAAgB,CAAC,IAAI,CAAC;IACtBH,MAAM,CAAC,CAAC;EACZ,CAAC;EAED,MAAMS,QAAQ,GAAGA,CAAA,KAAM;IACnBN,gBAAgB,CAAC,KAAK,CAAC;IACvBL,MAAM,CAAC,CAAC;EACZ,CAAC;EAED,OAAOI,aAAa,gBAChBhB,KAAA,CAAAwB,aAAA,CAACnB,WAAW;IACRoB,SAAS,EAAC,qCAAqC;IAC/CC,MAAM;IACNC,SAAS;IACTC,OAAO,EAAE;IACT;IAAA;IACAC,IAAI,EAAE,CAAC,CAAE;IACTC,YAAY,EAAEA,CAAA,KAAMC,OAAO,CAACC,OAAO,CAAC,CAAE;IACtCC,QAAQ,EAAEV,QAAS;IACnBZ,OAAO,EAAEA,OAAQ;IACjBuB,aAAa,EAAEA,CAAC;MAAEC;IAAK,CAAC,KAAK;MACzBtB,aAAa,CAACsB,IAAI,CAAC;MACnBZ,QAAQ,CAAC,CAAC;IACd,CAAE;IACFf,uBAAuB,EAAEA,uBAAwB;IACjDC,mBAAmB,EAAEA,mBAAoB;IACzCU,WAAW,EAAEA;EAAY,CAC5B,CAAC,gBAEFnB,KAAA,CAAAwB,aAAA,CAACrB,WAAW;IACRsB,SAAS,EAAC,oCAAoC;IAC9CW,OAAO,EAAEd,QAAS;IAClBe,IAAI,EAAC,QAAQ;IACb3B,UAAU,EAAEA;EAAW,gBAEvBV,KAAA,CAAAwB,aAAA,CAACpB,aAAa;IAACqB,SAAS,EAAC;EAAmC,CAAE,CAAC,eAC/DzB,KAAA,CAAAwB,aAAA,CAACvB,gBAAgB,EAAKK,QAAQ,CAACgC,KAAQ,CAC9B,CAChB;AACL;AAEA,eAAepC,UAAU,CAACK,uBAAuB,CAAC","ignoreList":[]}