{"version":3,"file":"CollapsableMessage.js","names":["React","classNames","CollapsableMessageToggle","CollapsableMessage","children","isCollapsed","setIsCollapsed","useState","shouldCollapse","setShouldCollapse","messageContainer","useRef","useLayoutEffect","current","clientHeight","scrollHeight","createElement","Fragment","className","ref","isMore","onClick","prevState"],"sources":["../../../../../../src/elements/content-sidebar/activity-feed/common/activity-message/CollapsableMessage.js"],"sourcesContent":["// @flow\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport CollapsableMessageToggle from './CollapsableMessageToggle';\nimport './ActivityMessage.scss';\n\ntype Props = {\n    children: React.Node,\n};\n\nexport default function CollapsableMessage({ children }: Props) {\n    const [isCollapsed, setIsCollapsed] = React.useState(true);\n    const [shouldCollapse, setShouldCollapse] = React.useState(false);\n    const messageContainer = React.useRef<HTMLDivElement | null>(null);\n\n    React.useLayoutEffect(() => {\n        if (messageContainer.current) {\n            const { clientHeight, scrollHeight } = messageContainer.current;\n            setShouldCollapse(clientHeight !== scrollHeight);\n        }\n    }, []);\n\n    return (\n        <>\n            <div\n                className={classNames({\n                    'bcs-ActivityMessage-collapsed': isCollapsed,\n                })}\n                ref={messageContainer}\n            >\n                {children}\n            </div>\n\n            {shouldCollapse && (\n                <CollapsableMessageToggle\n                    isMore={isCollapsed}\n                    onClick={() => setIsCollapsed(prevState => !prevState)}\n                />\n            )}\n        </>\n    );\n}\n"],"mappings":"AACA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,OAAOC,UAAU,MAAM,YAAY;AACnC,OAAOC,wBAAwB,MAAM,4BAA4B;AACjE,OAAO,wBAAwB;AAM/B,eAAe,SAASC,kBAAkBA,CAAC;EAAEC;AAAgB,CAAC,EAAE;EAC5D,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGN,KAAK,CAACO,QAAQ,CAAC,IAAI,CAAC;EAC1D,MAAM,CAACC,cAAc,EAAEC,iBAAiB,CAAC,GAAGT,KAAK,CAACO,QAAQ,CAAC,KAAK,CAAC;EACjE,MAAMG,gBAAgB,GAAGV,KAAK,CAACW,MAAM,CAAwB,IAAI,CAAC;EAElEX,KAAK,CAACY,eAAe,CAAC,MAAM;IACxB,IAAIF,gBAAgB,CAACG,OAAO,EAAE;MAC1B,MAAM;QAAEC,YAAY;QAAEC;MAAa,CAAC,GAAGL,gBAAgB,CAACG,OAAO;MAC/DJ,iBAAiB,CAACK,YAAY,KAAKC,YAAY,CAAC;IACpD;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,oBACIf,KAAA,CAAAgB,aAAA,CAAAhB,KAAA,CAAAiB,QAAA,qBACIjB,KAAA,CAAAgB,aAAA;IACIE,SAAS,EAAEjB,UAAU,CAAC;MAClB,+BAA+B,EAAEI;IACrC,CAAC,CAAE;IACHc,GAAG,EAAET;EAAiB,GAErBN,QACA,CAAC,EAELI,cAAc,iBACXR,KAAA,CAAAgB,aAAA,CAACd,wBAAwB;IACrBkB,MAAM,EAAEf,WAAY;IACpBgB,OAAO,EAAEA,CAAA,KAAMf,cAAc,CAACgB,SAAS,IAAI,CAACA,SAAS;EAAE,CAC1D,CAEP,CAAC;AAEX","ignoreList":[]}