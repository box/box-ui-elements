{"version":3,"file":"Version.js","names":["React","FormattedMessage","injectIntl","ActivityCard","IconInfo","messages","PlainButton","selectors","ACTIVITY_TARGETS","FILE_REQUEST_NAME","VERSION_UPLOAD_ACTION","VERSION_DELETE_ACTION","VERSION_PROMOTE_ACTION","VERSION_RESTORE_ACTION","ACTION_MAP","versionDeleted","versionPromoted","versionRestored","versionUploaded","Version","props","action","getVersionAction","id","intl","onInfo","version_number","version_promoted","user","getVersionUser","name","formatMessage","fileRequestDisplayName","createElement","className","_extends","values","getVersionInfo","VERSION_CARD","onClick","type","height","width","VersionBase"],"sources":["../../../../../src/elements/content-sidebar/activity-feed/version/Version.js"],"sourcesContent":["/**\n * @flow\n * @file Version component\n */\n\nimport * as React from 'react';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport type { IntlShape } from 'react-intl';\nimport ActivityCard from '../ActivityCard';\nimport IconInfo from '../../../../icons/general/IconInfo';\nimport messages from '../../../common/messages';\nimport PlainButton from '../../../../components/plain-button';\nimport selectors from '../../../common/selectors/version';\nimport { ACTIVITY_TARGETS } from '../../../common/interactionTargets';\nimport {\n    FILE_REQUEST_NAME,\n    VERSION_UPLOAD_ACTION,\n    VERSION_DELETE_ACTION,\n    VERSION_PROMOTE_ACTION,\n    VERSION_RESTORE_ACTION,\n} from '../../../../constants';\nimport type { User } from '../../../../common/types/core';\nimport './Version.scss';\n\ntype Props = {\n    id: string,\n    intl: IntlShape,\n    modified_by: User,\n    onInfo?: Function,\n    version_number: string,\n    version_promoted?: string,\n};\n\nconst ACTION_MAP = {\n    [VERSION_DELETE_ACTION]: messages.versionDeleted,\n    [VERSION_PROMOTE_ACTION]: messages.versionPromoted,\n    [VERSION_RESTORE_ACTION]: messages.versionRestored,\n    [VERSION_UPLOAD_ACTION]: messages.versionUploaded,\n};\n\nconst Version = (props: Props): React.Node => {\n    // $FlowFixMe\n    const action = selectors.getVersionAction(props);\n    const { id, intl, onInfo, version_number, version_promoted } = props;\n    // $FlowFixMe\n    const user = selectors.getVersionUser(props);\n    const name = user.name === FILE_REQUEST_NAME ? intl.formatMessage(messages.fileRequestDisplayName) : user.name;\n    return (\n        <ActivityCard className=\"bcs-Version\">\n            <span className=\"bcs-Version-message\">\n                <FormattedMessage\n                    {...ACTION_MAP[action]}\n                    values={{\n                        name: <strong>{name}</strong>,\n                        version_number,\n                        version_promoted,\n                    }}\n                />\n            </span>\n            {onInfo ? (\n                <span className=\"bcs-Version-actions\">\n                    <PlainButton\n                        aria-label={intl.formatMessage(messages.getVersionInfo)}\n                        className=\"bcs-Version-info\"\n                        data-resin-target={ACTIVITY_TARGETS.VERSION_CARD}\n                        onClick={() => {\n                            onInfo({ id, version_number });\n                        }}\n                        type=\"button\"\n                    >\n                        <IconInfo height={16} width={16} />\n                    </PlainButton>\n                </span>\n            ) : null}\n        </ActivityCard>\n    );\n};\n\nexport { Version as VersionBase };\nexport default injectIntl(Version);\n"],"mappings":";AAAA;AACA;AACA;AACA;;AAEA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,gBAAgB,EAAEC,UAAU,QAAQ,YAAY;AAEzD,OAAOC,YAAY,MAAM,iBAAiB;AAC1C,OAAOC,QAAQ,MAAM,oCAAoC;AACzD,OAAOC,QAAQ,MAAM,0BAA0B;AAC/C,OAAOC,WAAW,MAAM,qCAAqC;AAC7D,OAAOC,SAAS,MAAM,mCAAmC;AACzD,SAASC,gBAAgB,QAAQ,oCAAoC;AACrE,SACIC,iBAAiB,EACjBC,qBAAqB,EACrBC,qBAAqB,EACrBC,sBAAsB,EACtBC,sBAAsB,QACnB,uBAAuB;AAE9B,OAAO,gBAAgB;AAWvB,MAAMC,UAAU,GAAG;EACf,CAACH,qBAAqB,GAAGN,QAAQ,CAACU,cAAc;EAChD,CAACH,sBAAsB,GAAGP,QAAQ,CAACW,eAAe;EAClD,CAACH,sBAAsB,GAAGR,QAAQ,CAACY,eAAe;EAClD,CAACP,qBAAqB,GAAGL,QAAQ,CAACa;AACtC,CAAC;AAED,MAAMC,OAAO,GAAIC,KAAY,IAAiB;EAC1C;EACA,MAAMC,MAAM,GAAGd,SAAS,CAACe,gBAAgB,CAACF,KAAK,CAAC;EAChD,MAAM;IAAEG,EAAE;IAAEC,IAAI;IAAEC,MAAM;IAAEC,cAAc;IAAEC;EAAiB,CAAC,GAAGP,KAAK;EACpE;EACA,MAAMQ,IAAI,GAAGrB,SAAS,CAACsB,cAAc,CAACT,KAAK,CAAC;EAC5C,MAAMU,IAAI,GAAGF,IAAI,CAACE,IAAI,KAAKrB,iBAAiB,GAAGe,IAAI,CAACO,aAAa,CAAC1B,QAAQ,CAAC2B,sBAAsB,CAAC,GAAGJ,IAAI,CAACE,IAAI;EAC9G,oBACI9B,KAAA,CAAAiC,aAAA,CAAC9B,YAAY;IAAC+B,SAAS,EAAC;EAAa,gBACjClC,KAAA,CAAAiC,aAAA;IAAMC,SAAS,EAAC;EAAqB,gBACjClC,KAAA,CAAAiC,aAAA,CAAChC,gBAAgB,EAAAkC,QAAA,KACTrB,UAAU,CAACO,MAAM,CAAC;IACtBe,MAAM,EAAE;MACJN,IAAI,eAAE9B,KAAA,CAAAiC,aAAA,iBAASH,IAAa,CAAC;MAC7BJ,cAAc;MACdC;IACJ;EAAE,EACL,CACC,CAAC,EACNF,MAAM,gBACHzB,KAAA,CAAAiC,aAAA;IAAMC,SAAS,EAAC;EAAqB,gBACjClC,KAAA,CAAAiC,aAAA,CAAC3B,WAAW;IACR,cAAYkB,IAAI,CAACO,aAAa,CAAC1B,QAAQ,CAACgC,cAAc,CAAE;IACxDH,SAAS,EAAC,kBAAkB;IAC5B,qBAAmB1B,gBAAgB,CAAC8B,YAAa;IACjDC,OAAO,EAAEA,CAAA,KAAM;MACXd,MAAM,CAAC;QAAEF,EAAE;QAAEG;MAAe,CAAC,CAAC;IAClC,CAAE;IACFc,IAAI,EAAC;EAAQ,gBAEbxC,KAAA,CAAAiC,aAAA,CAAC7B,QAAQ;IAACqC,MAAM,EAAE,EAAG;IAACC,KAAK,EAAE;EAAG,CAAE,CACzB,CACX,CAAC,GACP,IACM,CAAC;AAEvB,CAAC;AAED,SAASvB,OAAO,IAAIwB,WAAW;AAC/B,eAAezC,UAAU,CAACiB,OAAO,CAAC","ignoreList":[]}