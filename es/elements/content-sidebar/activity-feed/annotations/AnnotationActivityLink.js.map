{"version":3,"file":"AnnotationActivityLink.js","names":["React","classNames","noop","injectIntl","PlainButton","ButtonType","AnnotationActivityLink","_ref","className","id","intl","isDisabled","message","onClick","rest","_objectWithoutProperties","_excluded","values","messageDescriptor","_excluded2","translatedMessage","formatMessage","handleClick","event","preventDefault","stopPropagation","currentTarget","focus","handleMouseDown","nativeEvent","stopImmediatePropagation","createElement","_extends","onMouseDown","title","type","BUTTON","AnnotationActivityLinkBase"],"sources":["../../../../../src/elements/content-sidebar/activity-feed/annotations/AnnotationActivityLink.tsx"],"sourcesContent":["import * as React from 'react';\nimport classNames from 'classnames';\nimport noop from 'lodash/noop';\nimport { injectIntl, MessageDescriptor, WrappedComponentProps } from 'react-intl';\nimport PlainButton from '../../../../components/plain-button';\nimport { ButtonType } from '../../../../components/button';\nimport './AnnotationActivityLink.scss';\n\ntype MessageDescriptorWithValues = {\n    values?: Record<string, number>;\n} & MessageDescriptor;\nexport interface AnnotationActivityLinkProps extends WrappedComponentProps {\n    className?: string;\n    id: string;\n    isDisabled: boolean;\n    message: MessageDescriptorWithValues;\n    onClick: (id: string) => void;\n}\n\nconst AnnotationActivityLink = ({\n    className,\n    id,\n    intl,\n    isDisabled = false,\n    message,\n    onClick = noop,\n    ...rest\n}: AnnotationActivityLinkProps): JSX.Element => {\n    const { values, ...messageDescriptor } = message;\n    const translatedMessage = intl.formatMessage(messageDescriptor, values);\n\n    const handleClick = (event: React.SyntheticEvent<HTMLButtonElement>) => {\n        event.preventDefault();\n        event.stopPropagation();\n        event.currentTarget.focus(); // Buttons do not receive focus in Firefox and Safari on MacOS\n\n        onClick(id);\n    };\n\n    const handleMouseDown = (event: React.MouseEvent<HTMLButtonElement>) => {\n        if (isDisabled) {\n            return;\n        }\n\n        // Prevents document event handlers from executing because box-annotations relies on\n        // detecting mouse events on the document outside of annotation targets to determine when to\n        // deselect annotations. This link also may represent that annotation target in the sidebar.\n        event.nativeEvent.stopImmediatePropagation();\n    };\n\n    return (\n        <PlainButton\n            className={classNames('bcs-AnnotationActivityLink', className)}\n            data-testid=\"bcs-AnnotationActivity-link\"\n            isDisabled={isDisabled}\n            onClick={handleClick}\n            onMouseDown={handleMouseDown}\n            title={translatedMessage}\n            type={ButtonType.BUTTON}\n            {...rest}\n        >\n            <span className=\"bcs-AnnotationActivityLink-message\">{translatedMessage}</span>\n        </PlainButton>\n    );\n};\n\nexport { AnnotationActivityLink as AnnotationActivityLinkBase };\n\nexport default injectIntl(AnnotationActivityLink);\n"],"mappings":";;;;;AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,OAAOC,UAAU,MAAM,YAAY;AACnC,OAAOC,IAAI,MAAM,aAAa;AAC9B,SAASC,UAAU,QAAkD,YAAY;AACjF,OAAOC,WAAW,MAAM,qCAAqC;AAC7D,SAASC,UAAU,QAAQ,+BAA+B;AAC1D,OAAO,+BAA+B;AAatC,MAAMC,sBAAsB,GAAGC,IAAA,IAQiB;EAAA,IARhB;MAC5BC,SAAS;MACTC,EAAE;MACFC,IAAI;MACJC,UAAU,GAAG,KAAK;MAClBC,OAAO;MACPC,OAAO,GAAGX;IAEe,CAAC,GAAAK,IAAA;IADvBO,IAAI,GAAAC,wBAAA,CAAAR,IAAA,EAAAS,SAAA;EAEP,MAAM;MAAEC;IAA6B,CAAC,GAAGL,OAAO;IAA7BM,iBAAiB,GAAAH,wBAAA,CAAKH,OAAO,EAAAO,UAAA;EAChD,MAAMC,iBAAiB,GAAGV,IAAI,CAACW,aAAa,CAACH,iBAAiB,EAAED,MAAM,CAAC;EAEvE,MAAMK,WAAW,GAAIC,KAA8C,IAAK;IACpEA,KAAK,CAACC,cAAc,CAAC,CAAC;IACtBD,KAAK,CAACE,eAAe,CAAC,CAAC;IACvBF,KAAK,CAACG,aAAa,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC;;IAE7Bd,OAAO,CAACJ,EAAE,CAAC;EACf,CAAC;EAED,MAAMmB,eAAe,GAAIL,KAA0C,IAAK;IACpE,IAAIZ,UAAU,EAAE;MACZ;IACJ;;IAEA;IACA;IACA;IACAY,KAAK,CAACM,WAAW,CAACC,wBAAwB,CAAC,CAAC;EAChD,CAAC;EAED,oBACI9B,KAAA,CAAA+B,aAAA,CAAC3B,WAAW,EAAA4B,QAAA;IACRxB,SAAS,EAAEP,UAAU,CAAC,4BAA4B,EAAEO,SAAS,CAAE;IAC/D,eAAY,6BAA6B;IACzCG,UAAU,EAAEA,UAAW;IACvBE,OAAO,EAAES,WAAY;IACrBW,WAAW,EAAEL,eAAgB;IAC7BM,KAAK,EAAEd,iBAAkB;IACzBe,IAAI,EAAE9B,UAAU,CAAC+B;EAAO,GACpBtB,IAAI,gBAERd,KAAA,CAAA+B,aAAA;IAAMvB,SAAS,EAAC;EAAoC,GAAEY,iBAAwB,CACrE,CAAC;AAEtB,CAAC;AAED,SAASd,sBAAsB,IAAI+B,0BAA0B;AAE7D,eAAelC,UAAU,CAACG,sBAAsB,CAAC","ignoreList":[]}