{"version":3,"file":"AnnotationActivityMenu.js","names":["React","classNames","FormattedMessage","DropdownMenu","Checkmark16","IconEllipsis","Pencil16","PlainButton","Trash16","X16","ButtonType","Menu","MenuItem","ACTIVITY_TARGETS","COMMENT_STATUS_OPEN","COMMENT_STATUS_RESOLVED","bdlGray50","messages","AnnotationActivityMenu","canDelete","canEdit","canResolve","className","id","isDisabled","onDelete","onEdit","onMenuClose","onMenuOpen","onStatusChange","status","menuProps","isResolved","createElement","constrainToScrollParent","isRightAligned","type","BUTTON","color","height","width","ANNOTATION_OPTIONS_UNRESOLVE","onClick","annotationActivityUnresolveMenuItem","ANNOTATION_OPTIONS_RESOLVE","annotationActivityResolveMenuItem","ANNOTATION_OPTIONS_EDIT","annotationActivityEditMenuItem","ANNOTATION_OPTIONS_DELETE","annotationActivityDeleteMenuItem"],"sources":["../../../../../src/elements/content-sidebar/activity-feed/annotations/AnnotationActivityMenu.tsx"],"sourcesContent":["import * as React from 'react';\nimport classNames from 'classnames';\nimport { FormattedMessage } from 'react-intl';\n\nimport DropdownMenu from '../../../../components/dropdown-menu';\nimport Checkmark16 from '../../../../icon/fill/Checkmark16';\nimport IconEllipsis from '../../../../icons/general/IconEllipsis';\nimport Pencil16 from '../../../../icon/line/Pencil16';\nimport PlainButton from '../../../../components/plain-button';\nimport Trash16 from '../../../../icon/line/Trash16';\nimport X16 from '../../../../icon/fill/X16';\nimport { ButtonType } from '../../../../components/button';\nimport { Menu, MenuItem } from '../../../../components/menu';\n\nimport { ACTIVITY_TARGETS } from '../../../common/interactionTargets';\nimport { COMMENT_STATUS_OPEN, COMMENT_STATUS_RESOLVED } from '../../../../constants';\nimport { bdlGray50 } from '../../../../styles/variables';\n\nimport messages from './messages';\n\nimport type { FeedItemStatus } from '../../../../common/types/feed';\n\nimport './AnnotationActivityMenu.scss';\n\nexport interface AnnotationActivityMenuProps {\n    canDelete?: boolean;\n    canEdit?: boolean;\n    canResolve?: boolean;\n    className?: string;\n    id: string;\n    isDisabled?: boolean;\n    onDelete: () => void;\n    onEdit: () => void;\n    onMenuClose: () => void;\n    onMenuOpen: () => void;\n    onStatusChange: (newStatus: FeedItemStatus) => void;\n    status?: FeedItemStatus;\n}\n\nconst AnnotationActivityMenu = ({\n    canDelete,\n    canEdit,\n    canResolve,\n    className,\n    id,\n    isDisabled,\n    onDelete,\n    onEdit,\n    onMenuClose,\n    onMenuOpen,\n    onStatusChange,\n    status,\n}: AnnotationActivityMenuProps) => {\n    const menuProps = {\n        'data-resin-component': 'preview',\n        'data-resin-feature': 'annotations',\n    };\n    const isResolved = status === COMMENT_STATUS_RESOLVED;\n\n    return (\n        <DropdownMenu constrainToScrollParent isRightAligned onMenuClose={onMenuClose} onMenuOpen={onMenuOpen}>\n            <PlainButton\n                className={classNames('bcs-AnnotationActivityMenu', className)}\n                data-testid=\"annotation-activity-actions-menu\"\n                isDisabled={isDisabled}\n                type={ButtonType.BUTTON}\n            >\n                <IconEllipsis color={bdlGray50} height={16} width={16} />\n            </PlainButton>\n            <Menu {...menuProps}>\n                {canResolve && isResolved && (\n                    <MenuItem\n                        className=\"bcs-AnnotationActivityMenu-unresolveAnnotation\"\n                        data-resin-itemid={id}\n                        data-resin-target={ACTIVITY_TARGETS.ANNOTATION_OPTIONS_UNRESOLVE}\n                        data-testid=\"unresolve-annotation-activity\"\n                        onClick={() => onStatusChange(COMMENT_STATUS_OPEN)}\n                    >\n                        <X16 />\n                        <FormattedMessage {...messages.annotationActivityUnresolveMenuItem} />\n                    </MenuItem>\n                )}\n                {canResolve && !isResolved && (\n                    <MenuItem\n                        data-resin-itemid={id}\n                        data-resin-target={ACTIVITY_TARGETS.ANNOTATION_OPTIONS_RESOLVE}\n                        data-testid=\"resolve-annotation-activity\"\n                        onClick={() => onStatusChange(COMMENT_STATUS_RESOLVED)}\n                    >\n                        <Checkmark16 />\n                        <FormattedMessage {...messages.annotationActivityResolveMenuItem} />\n                    </MenuItem>\n                )}\n                {canEdit && (\n                    <MenuItem\n                        data-resin-itemid={id}\n                        data-resin-target={ACTIVITY_TARGETS.ANNOTATION_OPTIONS_EDIT}\n                        data-testid=\"edit-annotation-activity\"\n                        onClick={onEdit}\n                    >\n                        <Pencil16 />\n                        <FormattedMessage {...messages.annotationActivityEditMenuItem} />\n                    </MenuItem>\n                )}\n                {canDelete && (\n                    <MenuItem\n                        data-resin-itemid={id}\n                        data-resin-target={ACTIVITY_TARGETS.ANNOTATION_OPTIONS_DELETE}\n                        data-testid=\"delete-annotation-activity\"\n                        onClick={onDelete}\n                    >\n                        <Trash16 />\n                        <FormattedMessage {...messages.annotationActivityDeleteMenuItem} />\n                    </MenuItem>\n                )}\n            </Menu>\n        </DropdownMenu>\n    );\n};\n\nexport default AnnotationActivityMenu;\n"],"mappings":"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","ignoreList":[]}