{"version":3,"file":"BaseCommentMenuWrapper.js","names":["React","BaseCommentMenu","BaseCommentMenuWrapper","canDelete","canEdit","canResolve","id","isEditing","isInputOpen","isResolved","onDelete","onSelect","onStatusChange","permissions","setIsEditing","setIsInputOpen","isConfirmingDelete","setIsConfirmingDelete","useState","handleDeleteConfirm","handleDeleteCancel","handleDeleteClick","handleEditClick","handleMenuClose","handleStatusUpdate","selectedStatus","status","createElement"],"sources":["../../../../../../src/elements/content-sidebar/activity-feed/comment/components/BaseCommentMenuWrapper.js"],"sourcesContent":["// @flow\nimport * as React from 'react';\nimport type { BoxCommentPermission, FeedItemStatus } from '../../../../../common/types/feed';\n\nimport { BaseCommentMenu } from './BaseCommentMenu';\nimport type { OnAnnotationStatusChange, OnCommentStatusChange } from '../types';\n\nexport interface BaseCommentMenuWrapperProps {\n    canDelete: boolean;\n    canEdit: boolean;\n    canResolve: boolean;\n    id: string;\n    isEditing: boolean;\n    isInputOpen: boolean;\n    isResolved: boolean;\n    onDelete: ({ id: string, permissions?: BoxCommentPermission }) => any;\n    onSelect: (isSelected: boolean) => void;\n    onStatusChange?: OnAnnotationStatusChange | OnCommentStatusChange | typeof undefined;\n    permissions: BoxCommentPermission;\n    setIsEditing: ((boolean => boolean) | boolean) => void;\n    setIsInputOpen: ((boolean => boolean) | boolean) => void;\n}\n\nexport const BaseCommentMenuWrapper = ({\n    canDelete,\n    canEdit,\n    canResolve,\n    id,\n    isEditing,\n    isInputOpen,\n    isResolved,\n    onDelete,\n    onSelect,\n    onStatusChange,\n    permissions,\n    setIsEditing,\n    setIsInputOpen,\n}: BaseCommentMenuWrapperProps) => {\n    const [isConfirmingDelete, setIsConfirmingDelete] = React.useState<boolean>(false);\n\n    const handleDeleteConfirm = (): void => {\n        onDelete({ id, permissions });\n        onSelect(false);\n    };\n\n    const handleDeleteCancel = (): void => {\n        setIsConfirmingDelete(false);\n        onSelect(false);\n    };\n\n    const handleDeleteClick = (): void => {\n        setIsConfirmingDelete(true);\n        onSelect(true);\n    };\n\n    const handleEditClick = (): void => {\n        setIsEditing(true);\n        setIsInputOpen(true);\n        onSelect(true);\n    };\n\n    const handleMenuClose = (): void => {\n        if (isConfirmingDelete || isEditing || isInputOpen) {\n            return;\n        }\n        onSelect(false);\n    };\n\n    const handleStatusUpdate = (selectedStatus: FeedItemStatus): void => {\n        if (onStatusChange) {\n            onStatusChange({ id, status: selectedStatus, permissions });\n        }\n    };\n\n    return (\n        <BaseCommentMenu\n            canDelete={canDelete}\n            canEdit={canEdit}\n            canResolve={canResolve}\n            handleDeleteCancel={handleDeleteCancel}\n            handleDeleteClick={handleDeleteClick}\n            handleDeleteConfirm={handleDeleteConfirm}\n            handleEditClick={handleEditClick}\n            handleMenuClose={handleMenuClose}\n            handleStatusUpdate={handleStatusUpdate}\n            isConfirmingDelete={isConfirmingDelete}\n            isResolved={isResolved}\n            onSelect={onSelect}\n        />\n    );\n};\n"],"mappings":"AACA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAG9B,SAASC,eAAe,QAAQ,mBAAmB;AAmBnD,OAAO,MAAMC,sBAAsB,GAAGA,CAAC;EACnCC,SAAS;EACTC,OAAO;EACPC,UAAU;EACVC,EAAE;EACFC,SAAS;EACTC,WAAW;EACXC,UAAU;EACVC,QAAQ;EACRC,QAAQ;EACRC,cAAc;EACdC,WAAW;EACXC,YAAY;EACZC;AACyB,CAAC,KAAK;EAC/B,MAAM,CAACC,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGjB,KAAK,CAACkB,QAAQ,CAAU,KAAK,CAAC;EAElF,MAAMC,mBAAmB,GAAGA,CAAA,KAAY;IACpCT,QAAQ,CAAC;MAAEJ,EAAE;MAAEO;IAAY,CAAC,CAAC;IAC7BF,QAAQ,CAAC,KAAK,CAAC;EACnB,CAAC;EAED,MAAMS,kBAAkB,GAAGA,CAAA,KAAY;IACnCH,qBAAqB,CAAC,KAAK,CAAC;IAC5BN,QAAQ,CAAC,KAAK,CAAC;EACnB,CAAC;EAED,MAAMU,iBAAiB,GAAGA,CAAA,KAAY;IAClCJ,qBAAqB,CAAC,IAAI,CAAC;IAC3BN,QAAQ,CAAC,IAAI,CAAC;EAClB,CAAC;EAED,MAAMW,eAAe,GAAGA,CAAA,KAAY;IAChCR,YAAY,CAAC,IAAI,CAAC;IAClBC,cAAc,CAAC,IAAI,CAAC;IACpBJ,QAAQ,CAAC,IAAI,CAAC;EAClB,CAAC;EAED,MAAMY,eAAe,GAAGA,CAAA,KAAY;IAChC,IAAIP,kBAAkB,IAAIT,SAAS,IAAIC,WAAW,EAAE;MAChD;IACJ;IACAG,QAAQ,CAAC,KAAK,CAAC;EACnB,CAAC;EAED,MAAMa,kBAAkB,GAAIC,cAA8B,IAAW;IACjE,IAAIb,cAAc,EAAE;MAChBA,cAAc,CAAC;QAAEN,EAAE;QAAEoB,MAAM,EAAED,cAAc;QAAEZ;MAAY,CAAC,CAAC;IAC/D;EACJ,CAAC;EAED,oBACIb,KAAA,CAAA2B,aAAA,CAAC1B,eAAe;IACZE,SAAS,EAAEA,SAAU;IACrBC,OAAO,EAAEA,OAAQ;IACjBC,UAAU,EAAEA,UAAW;IACvBe,kBAAkB,EAAEA,kBAAmB;IACvCC,iBAAiB,EAAEA,iBAAkB;IACrCF,mBAAmB,EAAEA,mBAAoB;IACzCG,eAAe,EAAEA,eAAgB;IACjCC,eAAe,EAAEA,eAAgB;IACjCC,kBAAkB,EAAEA,kBAAmB;IACvCR,kBAAkB,EAAEA,kBAAmB;IACvCP,UAAU,EAAEA,UAAW;IACvBE,QAAQ,EAAEA;EAAS,CACtB,CAAC;AAEV,CAAC","ignoreList":[]}