{"version":3,"file":"BaseCommentMenu.js","names":["React","FormattedMessage","TetherComponent","Checkmark16","DeleteConfirmation","Media","Pencil16","Trash16","X16","MenuItem","ACTIVITY_TARGETS","COMMENT_STATUS_OPEN","COMMENT_STATUS_RESOLVED","messages","BaseCommentMenu","canDelete","canEdit","canResolve","handleDeleteCancel","handleDeleteClick","handleDeleteConfirm","handleEditClick","handleMenuClose","handleStatusUpdate","isConfirmingDelete","isResolved","onSelect","createElement","attachment","className","constraints","to","targetAttachment","renderTarget","ref","style","display","Menu","dropdownProps","onMenuClose","onMenuOpen","isDisabled","menuProps","COMMENT_OPTIONS","COMMENT_OPTIONS_EDIT","onClick","commentUnresolveMenuItem","commentResolveMenuItem","commentEditMenuItem","commentDeleteMenuItem","defaultMessage","COMMENT_OPTIONS_DELETE","renderElement","isOpen","message","commentDeletePrompt","onDeleteCancel","onDeleteConfirm"],"sources":["../../../../../../src/elements/content-sidebar/activity-feed/comment/components/BaseCommentMenu.tsx"],"sourcesContent":["import * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport TetherComponent from 'react-tether';\n\nimport Checkmark16 from '../../../../../icon/line/Checkmark16';\nimport DeleteConfirmation from '../../common/delete-confirmation';\nimport Media from '../../../../../components/media';\nimport Pencil16 from '../../../../../icon/line/Pencil16';\nimport Trash16 from '../../../../../icon/line/Trash16';\nimport X16 from '../../../../../icon/fill/X16';\nimport { MenuItem } from '../../../../../components/menu';\n\nimport { ACTIVITY_TARGETS } from '../../../../common/interactionTargets';\nimport { COMMENT_STATUS_OPEN, COMMENT_STATUS_RESOLVED } from '../../../../../constants';\n\nimport messages from '../messages';\n\nimport type { FeedItemStatus } from '../../../../../common/types/feed';\n\nimport './BaseCommentMenu.scss';\n\nexport interface BaseCommentMenuProps {\n    canDelete: boolean;\n    canEdit: boolean;\n    canResolve: boolean;\n    handleDeleteCancel: () => void;\n    handleDeleteClick: () => void;\n    handleDeleteConfirm: () => void;\n    handleEditClick: () => void;\n    handleMenuClose: () => void;\n    handleStatusUpdate: (selectedStatus: FeedItemStatus) => void;\n    isConfirmingDelete: boolean;\n    isResolved: boolean;\n    onSelect: (isSelected: boolean) => void;\n}\n\nexport const BaseCommentMenu = ({\n    canDelete,\n    canEdit,\n    canResolve,\n    handleDeleteCancel,\n    handleDeleteClick,\n    handleDeleteConfirm,\n    handleEditClick,\n    handleMenuClose,\n    handleStatusUpdate,\n    isConfirmingDelete,\n    isResolved,\n    onSelect,\n}: BaseCommentMenuProps) => {\n    return (\n        <TetherComponent\n            attachment=\"top right\"\n            className=\"bcs-Comment-deleteConfirmationModal\"\n            constraints={[{ to: 'scrollParent', attachment: 'together' }]}\n            targetAttachment=\"bottom right\"\n            renderTarget={ref => (\n                <div ref={ref} style={{ display: 'inline-block' }}>\n                    <Media.Menu\n                        className=\"bcs-BaseCommentMenu\"\n                        data-testid=\"comment-actions-menu\"\n                        dropdownProps={{\n                            onMenuClose: handleMenuClose,\n                            onMenuOpen: () => onSelect(true),\n                        }}\n                        isDisabled={isConfirmingDelete}\n                        menuProps={{\n                            'data-resin-component': ACTIVITY_TARGETS.COMMENT_OPTIONS,\n                        }}\n                    >\n                        {canResolve && isResolved && (\n                            <MenuItem\n                                className=\"bcs-Comment-unresolveComment\"\n                                data-resin-target={ACTIVITY_TARGETS.COMMENT_OPTIONS_EDIT}\n                                data-testid=\"unresolve-comment\"\n                                onClick={() => handleStatusUpdate(COMMENT_STATUS_OPEN)}\n                            >\n                                <X16 />\n                                <FormattedMessage {...messages.commentUnresolveMenuItem} />\n                            </MenuItem>\n                        )}\n                        {canResolve && !isResolved && (\n                            <MenuItem\n                                data-resin-target={ACTIVITY_TARGETS.COMMENT_OPTIONS_EDIT}\n                                data-testid=\"resolve-comment\"\n                                onClick={() => handleStatusUpdate(COMMENT_STATUS_RESOLVED)}\n                            >\n                                <Checkmark16 />\n                                <FormattedMessage {...messages.commentResolveMenuItem} />\n                            </MenuItem>\n                        )}\n                        {canEdit && (\n                            <MenuItem\n                                data-resin-target={ACTIVITY_TARGETS.COMMENT_OPTIONS_EDIT}\n                                data-testid=\"edit-comment\"\n                                onClick={handleEditClick}\n                            >\n                                <Pencil16 />\n                                <FormattedMessage {...messages.commentEditMenuItem} />\n                            </MenuItem>\n                        )}\n                        {canDelete && (\n                            <MenuItem\n                                aria-label={messages.commentDeleteMenuItem.defaultMessage}\n                                data-resin-target={ACTIVITY_TARGETS.COMMENT_OPTIONS_DELETE}\n                                data-testid=\"delete-comment\"\n                                onClick={handleDeleteClick}\n                            >\n                                <Trash16 />\n                                <FormattedMessage {...messages.commentDeleteMenuItem} />\n                            </MenuItem>\n                        )}\n                    </Media.Menu>\n                </div>\n            )}\n            renderElement={ref => {\n                return isConfirmingDelete ? (\n                    <div ref={ref}>\n                        <DeleteConfirmation\n                            data-resin-component={ACTIVITY_TARGETS.COMMENT_OPTIONS}\n                            isOpen={isConfirmingDelete}\n                            message={messages.commentDeletePrompt}\n                            onDeleteCancel={handleDeleteCancel}\n                            onDeleteConfirm={handleDeleteConfirm}\n                        />\n                    </div>\n                ) : null;\n            }}\n        />\n    );\n};\n"],"mappings":"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","ignoreList":[]}