{"version":3,"file":"VersionsItemActions.js","names":["React","FormattedMessage","DropdownMenu","IconClockPast","IconDownload","IconEllipsis","IconOpenWith","IconTrash","IconUpload","messages","PlainButton","Tooltip","VersionsItemAction","Menu","handleMenuClose","event","stopPropagation","handleToggleClick","VersionsItemActions","fileId","isCurrent","isRetained","onDelete","onDownload","onPreview","onPromote","onRestore","showDelete","showDownload","showPreview","showPromote","showRestore","createElement","className","constrainToScrollParent","constrainToWindow","isRightAligned","onMenuClose","onClick","type","height","width","versionActionToggle","text","action","versionActionPreview","versionActionDownload","versionActionPromote","versionActionRestore","position","versionActionDisabledRetention","isTabbable","isDisabled","versionActionDelete"],"sources":["../../../../src/elements/content-sidebar/versions/VersionsItemActions.js"],"sourcesContent":["/**\n * @flow\n * @file Versions Item Actions component\n * @author Box\n */\n\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport DropdownMenu from '../../../components/dropdown-menu';\nimport IconClockPast from '../../../icons/general/IconClockPast';\nimport IconDownload from '../../../icons/general/IconDownload';\nimport IconEllipsis from '../../../icons/general/IconEllipsis';\nimport IconOpenWith from '../../../icons/general/IconOpenWith';\nimport IconTrash from '../../../icons/general/IconTrash';\nimport IconUpload from '../../../icons/general/IconUpload';\nimport messages from './messages';\nimport PlainButton from '../../../components/plain-button';\nimport Tooltip from '../../../components/tooltip/Tooltip';\nimport VersionsItemAction from './VersionsItemAction';\nimport { Menu } from '../../../components/menu';\nimport './VersionsItemActions.scss';\n\ntype Props = {\n    fileId: string,\n    isCurrent?: boolean,\n    isRetained?: boolean,\n    onDelete?: () => void,\n    onDownload?: () => void,\n    onPreview?: () => void,\n    onPromote?: () => void,\n    onRestore?: () => void,\n    showDelete?: boolean,\n    showDownload?: boolean,\n    showPreview?: boolean,\n    showPromote?: boolean,\n    showRestore?: boolean,\n};\n\nconst handleMenuClose = (event: SyntheticEvent<> | MouseEvent) => {\n    event.stopPropagation();\n};\n\nconst handleToggleClick = (event: SyntheticMouseEvent<HTMLButtonElement>) => {\n    event.stopPropagation();\n};\n\nconst VersionsItemActions = ({\n    fileId,\n    isCurrent = false,\n    isRetained = false,\n    onDelete,\n    onDownload,\n    onPreview,\n    onPromote,\n    onRestore,\n    showDelete = false,\n    showDownload = false,\n    showPreview = false,\n    showPromote = false,\n    showRestore = false,\n}: Props) => {\n    if (!showDelete && !showDownload && !showPreview && !showPromote && !showRestore) {\n        return null;\n    }\n\n    return (\n        <DropdownMenu\n            className=\"bcs-VersionsItemActions\"\n            constrainToScrollParent\n            constrainToWindow\n            isRightAligned\n            onMenuClose={handleMenuClose}\n        >\n            <PlainButton\n                className=\"bcs-VersionsItemActions-toggle\"\n                data-resin-iscurrent={isCurrent}\n                data-resin-itemid={fileId}\n                data-resin-target=\"overflow\"\n                onClick={handleToggleClick}\n                type=\"button\"\n            >\n                <IconEllipsis height={4} width={14} />\n                <FormattedMessage {...messages.versionActionToggle}>\n                    {(text: string) => <span className=\"accessibility-hidden\">{text}</span>}\n                </FormattedMessage>\n            </PlainButton>\n\n            <Menu\n                className=\"bcs-VersionsItemActions-menu\"\n                data-resin-component=\"preview\" // Needed for resin events due to tether moving menu to body\n                data-resin-feature=\"versions\" // Needed for resin events due to tether moving menu to body\n            >\n                {showPreview && (\n                    <VersionsItemAction action=\"preview\" fileId={fileId} isCurrent={isCurrent} onClick={onPreview}>\n                        <IconOpenWith />\n                        <FormattedMessage {...messages.versionActionPreview} />\n                    </VersionsItemAction>\n                )}\n\n                {showDownload && (\n                    <VersionsItemAction action=\"download\" fileId={fileId} isCurrent={isCurrent} onClick={onDownload}>\n                        <IconDownload />\n                        <FormattedMessage {...messages.versionActionDownload} />\n                    </VersionsItemAction>\n                )}\n                {showPromote && (\n                    <VersionsItemAction action=\"promote\" fileId={fileId} isCurrent={isCurrent} onClick={onPromote}>\n                        <IconUpload />\n                        <FormattedMessage {...messages.versionActionPromote} />\n                    </VersionsItemAction>\n                )}\n                {showRestore && (\n                    <VersionsItemAction action=\"restore\" fileId={fileId} isCurrent={isCurrent} onClick={onRestore}>\n                        <IconClockPast height={14} width={14} />\n                        <FormattedMessage {...messages.versionActionRestore} />\n                    </VersionsItemAction>\n                )}\n                {showDelete && (\n                    <Tooltip\n                        position=\"middle-left\"\n                        text={<FormattedMessage {...messages.versionActionDisabledRetention} />}\n                        isTabbable={false}\n                        isDisabled={!isRetained}\n                    >\n                        <VersionsItemAction\n                            action=\"remove\"\n                            fileId={fileId}\n                            isCurrent={isCurrent}\n                            isDisabled={isRetained}\n                            onClick={onDelete}\n                        >\n                            <IconTrash />\n                            <FormattedMessage {...messages.versionActionDelete} />\n                        </VersionsItemAction>\n                    </Tooltip>\n                )}\n            </Menu>\n        </DropdownMenu>\n    );\n};\n\nexport default VersionsItemActions;\n"],"mappings":"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","ignoreList":[]}