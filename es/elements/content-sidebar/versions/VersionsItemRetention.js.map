{"version":3,"file":"VersionsItemRetention.js","names":["React","FormattedMessage","ReadableTime","VERSION_RETENTION_DELETE_ACTION","VERSION_RETENTION_REMOVE_ACTION","VERSION_RETENTION_INDEFINITE","messages","RETENTION_MAP","versionRetentionDelete","versionRetentionRemove","VersionsItemRetention","retention","disposition_at","dispositionAt","winning_retention_policy","retentionPolicy","disposition_action","dispositionAction","retention_length","retentionLength","dispositionAtTime","Date","getTime","createElement","versionRetentionIndefinite","_extends","values","time","timestamp","showWeekday"],"sources":["../../../../src/elements/content-sidebar/versions/VersionsItemRetention.js"],"sourcesContent":["/**\n * @flow strict\n * @file Versions Item Retention component\n * @author Box\n */\n\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { ReadableTime } from '../../../components/time';\nimport {\n    VERSION_RETENTION_DELETE_ACTION,\n    VERSION_RETENTION_REMOVE_ACTION,\n    VERSION_RETENTION_INDEFINITE,\n} from '../../../constants';\nimport messages from './messages';\nimport type { BoxItemVersionRetention } from '../../../common/types/core';\n\ntype Props = {\n    retention?: BoxItemVersionRetention,\n};\n\nconst RETENTION_MAP = {\n    [VERSION_RETENTION_DELETE_ACTION]: messages.versionRetentionDelete,\n    [VERSION_RETENTION_REMOVE_ACTION]: messages.versionRetentionRemove,\n};\n\nconst VersionsItemRetention = ({ retention }: Props) => {\n    const { disposition_at: dispositionAt, winning_retention_policy: retentionPolicy } = retention || {};\n    const { disposition_action: dispositionAction, retention_length: retentionLength } = retentionPolicy || {};\n    const dispositionAtTime = dispositionAt && new Date(dispositionAt).getTime();\n\n    if (!dispositionAction) {\n        return null;\n    }\n\n    return retentionLength === VERSION_RETENTION_INDEFINITE || !dispositionAtTime ? (\n        <FormattedMessage {...messages.versionRetentionIndefinite} />\n    ) : (\n        <FormattedMessage\n            {...RETENTION_MAP[dispositionAction]}\n            values={{\n                time: <ReadableTime timestamp={dispositionAtTime} showWeekday />,\n            }}\n        />\n    );\n};\n\nexport default VersionsItemRetention;\n"],"mappings":";AAAA;AACA;AACA;AACA;AACA;;AAEA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,gBAAgB,QAAQ,YAAY;AAC7C,SAASC,YAAY,QAAQ,0BAA0B;AACvD,SACIC,+BAA+B,EAC/BC,+BAA+B,EAC/BC,4BAA4B,QACzB,oBAAoB;AAC3B,OAAOC,QAAQ,MAAM,YAAY;AAOjC,MAAMC,aAAa,GAAG;EAClB,CAACJ,+BAA+B,GAAGG,QAAQ,CAACE,sBAAsB;EAClE,CAACJ,+BAA+B,GAAGE,QAAQ,CAACG;AAChD,CAAC;AAED,MAAMC,qBAAqB,GAAGA,CAAC;EAAEC;AAAiB,CAAC,KAAK;EACpD,MAAM;IAAEC,cAAc,EAAEC,aAAa;IAAEC,wBAAwB,EAAEC;EAAgB,CAAC,GAAGJ,SAAS,IAAI,CAAC,CAAC;EACpG,MAAM;IAAEK,kBAAkB,EAAEC,iBAAiB;IAAEC,gBAAgB,EAAEC;EAAgB,CAAC,GAAGJ,eAAe,IAAI,CAAC,CAAC;EAC1G,MAAMK,iBAAiB,GAAGP,aAAa,IAAI,IAAIQ,IAAI,CAACR,aAAa,CAAC,CAACS,OAAO,CAAC,CAAC;EAE5E,IAAI,CAACL,iBAAiB,EAAE;IACpB,OAAO,IAAI;EACf;EAEA,OAAOE,eAAe,KAAKd,4BAA4B,IAAI,CAACe,iBAAiB,gBACzEpB,KAAA,CAAAuB,aAAA,CAACtB,gBAAgB,EAAKK,QAAQ,CAACkB,0BAA6B,CAAC,gBAE7DxB,KAAA,CAAAuB,aAAA,CAACtB,gBAAgB,EAAAwB,QAAA,KACTlB,aAAa,CAACU,iBAAiB,CAAC;IACpCS,MAAM,EAAE;MACJC,IAAI,eAAE3B,KAAA,CAAAuB,aAAA,CAACrB,YAAY;QAAC0B,SAAS,EAAER,iBAAkB;QAACS,WAAW;MAAA,CAAE;IACnE;EAAE,EACL,CACJ;AACL,CAAC;AAED,eAAenB,qBAAqB","ignoreList":[]}