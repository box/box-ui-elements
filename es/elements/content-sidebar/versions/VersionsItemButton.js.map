{"version":3,"file":"VersionsItemButton.js","names":["React","classNames","PlainButton","scrollIntoView","VersionsItemButton","Component","constructor","args","_defineProperty","buttonRef","isSelected","props","componentDidMount","setScroll","componentDidUpdate","prevIsSelected","render","children","fileId","isCurrent","isDisabled","onClick","buttonClassName","createElement","className","getDOMRef","setButtonRef","type"],"sources":["../../../../src/elements/content-sidebar/versions/VersionsItemButton.js"],"sourcesContent":["/**\n * @flow\n * @file Versions Item Button component\n * @author Box\n */\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport PlainButton from '../../../components/plain-button';\nimport { scrollIntoView } from '../../../utils/dom';\nimport './VersionsItemButton.scss';\n\ntype Props = {\n    children: React.Node,\n    fileId: string,\n    isCurrent: boolean,\n    isDisabled: boolean,\n    isSelected: boolean,\n    onClick: (event: SyntheticMouseEvent<HTMLButtonElement>) => void,\n};\n\nclass VersionsItemButton extends React.Component<Props> {\n    static defaultProps = {\n        isCurrent: false,\n        isDisabled: false,\n        isSelected: false,\n    };\n\n    buttonRef: ?HTMLButtonElement;\n\n    componentDidMount() {\n        this.setScroll();\n    }\n\n    componentDidUpdate({ isSelected: prevIsSelected }: Props) {\n        const { isSelected } = this.props;\n\n        if (isSelected !== prevIsSelected) {\n            this.setScroll();\n        }\n    }\n\n    setButtonRef = (buttonRef: ?HTMLButtonElement): void => {\n        this.buttonRef = buttonRef;\n    };\n\n    setScroll = () => {\n        const { isSelected } = this.props;\n\n        if (this.buttonRef && isSelected) {\n            scrollIntoView(this.buttonRef);\n        }\n    };\n\n    render() {\n        const { children, fileId, isCurrent, isDisabled, isSelected, onClick } = this.props;\n        const buttonClassName = classNames('bcs-VersionsItemButton', {\n            'bcs-is-disabled': isDisabled,\n            'bcs-is-selected': isSelected && !isDisabled,\n        });\n\n        return (\n            <PlainButton\n                aria-disabled={isDisabled}\n                className={buttonClassName}\n                data-resin-iscurrent={isCurrent}\n                data-resin-itemid={fileId}\n                data-resin-target=\"select\"\n                data-testid=\"versions-item-button\"\n                getDOMRef={this.setButtonRef}\n                isDisabled={isDisabled}\n                onClick={onClick}\n                type=\"button\"\n            >\n                {children}\n            </PlainButton>\n        );\n    }\n}\n\nexport default VersionsItemButton;\n"],"mappings":";;;AAAA;AACA;AACA;AACA;AACA;;AAEA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,OAAOC,UAAU,MAAM,YAAY;AACnC,OAAOC,WAAW,MAAM,kCAAkC;AAC1D,SAASC,cAAc,QAAQ,oBAAoB;AACnD,OAAO,2BAA2B;AAWlC,MAAMC,kBAAkB,SAASJ,KAAK,CAACK,SAAS,CAAQ;EAAAC,YAAA,GAAAC,IAAA;IAAA,SAAAA,IAAA;IAAAC,eAAA,uBAqBpCC,SAA6B,IAAW;MACpD,IAAI,CAACA,SAAS,GAAGA,SAAS;IAC9B,CAAC;IAAAD,eAAA,oBAEW,MAAM;MACd,MAAM;QAAEE;MAAW,CAAC,GAAG,IAAI,CAACC,KAAK;MAEjC,IAAI,IAAI,CAACF,SAAS,IAAIC,UAAU,EAAE;QAC9BP,cAAc,CAAC,IAAI,CAACM,SAAS,CAAC;MAClC;IACJ,CAAC;EAAA;EAtBDG,iBAAiBA,CAAA,EAAG;IAChB,IAAI,CAACC,SAAS,CAAC,CAAC;EACpB;EAEAC,kBAAkBA,CAAC;IAAEJ,UAAU,EAAEK;EAAsB,CAAC,EAAE;IACtD,MAAM;MAAEL;IAAW,CAAC,GAAG,IAAI,CAACC,KAAK;IAEjC,IAAID,UAAU,KAAKK,cAAc,EAAE;MAC/B,IAAI,CAACF,SAAS,CAAC,CAAC;IACpB;EACJ;EAcAG,MAAMA,CAAA,EAAG;IACL,MAAM;MAAEC,QAAQ;MAAEC,MAAM;MAAEC,SAAS;MAAEC,UAAU;MAAEV,UAAU;MAAEW;IAAQ,CAAC,GAAG,IAAI,CAACV,KAAK;IACnF,MAAMW,eAAe,GAAGrB,UAAU,CAAC,wBAAwB,EAAE;MACzD,iBAAiB,EAAEmB,UAAU;MAC7B,iBAAiB,EAAEV,UAAU,IAAI,CAACU;IACtC,CAAC,CAAC;IAEF,oBACIpB,KAAA,CAAAuB,aAAA,CAACrB,WAAW;MACR,iBAAekB,UAAW;MAC1BI,SAAS,EAAEF,eAAgB;MAC3B,wBAAsBH,SAAU;MAChC,qBAAmBD,MAAO;MAC1B,qBAAkB,QAAQ;MAC1B,eAAY,sBAAsB;MAClCO,SAAS,EAAE,IAAI,CAACC,YAAa;MAC7BN,UAAU,EAAEA,UAAW;MACvBC,OAAO,EAAEA,OAAQ;MACjBM,IAAI,EAAC;IAAQ,GAEZV,QACQ,CAAC;EAEtB;AACJ;AAACT,eAAA,CAzDKJ,kBAAkB,kBACE;EAClBe,SAAS,EAAE,KAAK;EAChBC,UAAU,EAAE,KAAK;EACjBV,UAAU,EAAE;AAChB,CAAC;AAsDL,eAAeN,kBAAkB","ignoreList":[]}