{"version":3,"file":"StaticVersionSidebar.js","names":["React","FormattedMessage","Route","BoxDrive140","BackButton","PrimaryButton","LoadingIndicatorWrapper","VersionsMenu","messages","useCallback","StaticVersionsContent","history","internalSidebarNavigation","internalSidebarNavigationHandler","isLoading","onUpgradeClick","parentName","routerDisabled","versionTimestamp","Date","setDate","getDate","versions","map","versionNumber","id","version_number","type","permissions","can_preview","created_at","toUTCString","modified_by","size","trashed_at","uploader_display_name","handleBackClick","sidebar","push","createElement","className","role","Fragment","onClick","versionsTitle","crawlerPosition","fileId","versionCount","versionLimit","versionUpgradeLink","versionUpsell","upgradeButton","StaticVersionsSidebar","props","_extends"],"sources":["../../../../src/elements/content-sidebar/versions/StaticVersionSidebar.js"],"sourcesContent":["/**\n * @flow\n * @file Static Versions Sidebar component\n * @author Box\n */\n\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Route } from 'react-router-dom';\n\nimport BoxDrive140 from '../../../illustration/BoxDrive140';\n\nimport BackButton from '../../common/back-button';\nimport PrimaryButton from '../../../components/primary-button';\nimport { LoadingIndicatorWrapper } from '../../../components/loading-indicator';\nimport VersionsMenu from './VersionsMenu';\nimport type {\n    InternalSidebarNavigation,\n    InternalSidebarNavigationHandler,\n    ViewTypeValues,\n} from '../../common/types/SidebarNavigation';\n\nimport messages from './messages';\n\nimport './StaticVersionsSidebar.scss';\n\nconst { useCallback } = React;\n\ntype Props = {\n    internalSidebarNavigation?: InternalSidebarNavigation,\n    internalSidebarNavigationHandler?: InternalSidebarNavigationHandler,\n    isLoading: boolean,\n    onUpgradeClick: () => void,\n    parentName: ViewTypeValues,\n    routerDisabled?: boolean,\n};\n\ntype StaticVersionsContentProps = {\n    history?: any,\n    internalSidebarNavigation?: InternalSidebarNavigation,\n    internalSidebarNavigationHandler?: InternalSidebarNavigationHandler,\n    isLoading: boolean,\n    onUpgradeClick: () => void,\n    parentName: ViewTypeValues,\n    routerDisabled?: boolean,\n};\n\nconst StaticVersionsContent = ({\n    history,\n    internalSidebarNavigation,\n    internalSidebarNavigationHandler,\n    isLoading,\n    onUpgradeClick,\n    parentName,\n    routerDisabled,\n}: StaticVersionsContentProps): React.Node => {\n    const versionTimestamp = new Date();\n    versionTimestamp.setDate(versionTimestamp.getDate() - 1);\n\n    const versions = ['1', '2', '3'].map(versionNumber => {\n        return {\n            id: versionNumber,\n            version_number: versionNumber,\n            type: 'file_version',\n            permissions: {\n                can_preview: true,\n            },\n            created_at: versionTimestamp.toUTCString(),\n            modified_by: null,\n            size: 1875887,\n            trashed_at: null,\n            uploader_display_name: 'John Doe',\n        };\n    });\n\n    const handleBackClick = useCallback(() => {\n        if (routerDisabled && internalSidebarNavigationHandler) {\n            internalSidebarNavigationHandler({ sidebar: parentName });\n        } else if (!routerDisabled && history) {\n            history.push(`/${parentName}`);\n        }\n    }, [parentName, routerDisabled, internalSidebarNavigationHandler, history]);\n\n    return (\n        <div\n            className=\"bcs-StaticVersionSidebar\"\n            role=\"tabpanel\"\n            data-resin-component=\"preview\"\n            data-resin-feature=\"versions\"\n        >\n            <div className=\"bcs-StaticVersionSidebar-header\">\n                <h3 className=\"bcs-StaticVersionSidebar-title\">\n                    <>\n                        <BackButton \n                            data-resin-target=\"back\" \n                            onClick={handleBackClick} \n                        />\n                        <FormattedMessage {...messages.versionsTitle} />\n                    </>\n                </h3>\n            </div>\n\n            <div className=\"bcs-StaticVersionSidebar-content-wrapper\">\n                <LoadingIndicatorWrapper\n                    className=\"bcs-StaticVersionSidebar-content\"\n                    crawlerPosition=\"top\"\n                    isLoading={isLoading}\n                >\n                    <VersionsMenu\n                        versions={versions}\n                        fileId=\"1\"\n                        versionCount={3}\n                        versionLimit={3}\n                        routerDisabled={routerDisabled}\n                        internalSidebarNavigation={internalSidebarNavigation}\n                    />\n                </LoadingIndicatorWrapper>\n            </div>\n\n            <div className=\"bcs-StaticVersionSidebar-upsell-wrapper\">\n                <div className=\"bcs-StaticVersionSidebar-upsell\">\n                    <BoxDrive140 className=\"bcs-StaticVersionSidebar-upsell-icon\" />\n                    <p className=\"bcs-StaticVersionSidebar-upsell-header\">\n                        <FormattedMessage {...messages.versionUpgradeLink} />\n                    </p>\n                    <p>\n                        <FormattedMessage {...messages.versionUpsell} />\n                    </p>\n                    <PrimaryButton\n                        className=\"bcs-StaticVersionSidebar-upsell-button\"\n                        data-resin-target=\"versioning_error_upgrade_cta\"\n                        onClick={onUpgradeClick}\n                        type=\"button\"\n                    >\n                        <FormattedMessage {...messages.upgradeButton} />\n                    </PrimaryButton>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nconst StaticVersionsSidebar = (props: Props): React.Node => {\n    const { routerDisabled } = props;\n\n    if (routerDisabled) {\n        return <StaticVersionsContent {...props} />;\n    }\n\n    return (\n        <Route>\n            {({ history }) => <StaticVersionsContent {...props} history={history} />}\n        </Route>\n    );\n};\n\nexport default StaticVersionsSidebar;\n"],"mappings":"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","ignoreList":[]}