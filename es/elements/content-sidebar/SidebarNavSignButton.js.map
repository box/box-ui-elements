{"version":3,"file":"SidebarNavSignButton.js","names":["React","classnames","injectIntl","BoxSign28","Sign16","PlainButton","TargetedClickThroughGuideTooltip","Tooltip","TooltipPosition","messages","PlaceholderTooltip","children","SidebarNavSignButton","_ref","blockedReason","intl","targetingApi","rest","_objectWithoutProperties","_excluded","isSignDisabled","isTargeted","canShow","FtuxTooltip","label","formatMessage","boxSignRequest","buttonClassName","tooltipMessage","boxSignSecurityBlockedTooltip","boxSignWatermarkBlockedTooltip","createElement","body","boxSignFtuxBody","position","MIDDLE_LEFT","shouldTarget","title","boxSignFtuxTitle","useTargetingApi","isDisabled","text","_extends","className","width","height"],"sources":["../../../src/elements/content-sidebar/SidebarNavSignButton.tsx"],"sourcesContent":["import * as React from 'react';\nimport classnames from 'classnames';\nimport { injectIntl, IntlShape } from 'react-intl';\nimport BoxSign28 from '../../icon/logo/BoxSign28';\nimport Sign16 from '../../icon/fill/Sign16';\nimport PlainButton, { PlainButtonProps } from '../../components/plain-button';\n// @ts-ignore Module is written in Flow\nimport TargetedClickThroughGuideTooltip from '../../features/targeting/TargetedClickThroughGuideTooltip';\nimport Tooltip, { TooltipPosition } from '../../components/tooltip';\n// @ts-ignore Module is written in Flow\nimport messages from './messages';\nimport './SidebarNavSignButton.scss';\n\nexport type Props = PlainButtonProps & {\n    blockedReason?: string;\n    intl: IntlShape;\n    targetingApi?: {\n        canShow: boolean;\n        onClose: () => void;\n        onComplete: () => void;\n        onShow: () => void;\n    };\n};\n\nexport const PlaceholderTooltip = ({ children }: { children: React.ReactNode }) => children;\n\nexport function SidebarNavSignButton({ blockedReason, intl, targetingApi, ...rest }: Props) {\n    const isSignDisabled = !!blockedReason;\n    const isTargeted = targetingApi?.canShow;\n    const FtuxTooltip = !isSignDisabled && isTargeted ? TargetedClickThroughGuideTooltip : PlaceholderTooltip;\n    const label = intl.formatMessage(messages.boxSignRequest);\n    const buttonClassName = classnames('bcs-SidebarNavSignButton', { 'bdl-is-disabled': isSignDisabled });\n\n    let tooltipMessage = label;\n\n    switch (blockedReason) {\n        case 'shield-download':\n        case 'shared-link':\n        case 'shield-sign':\n            tooltipMessage = intl.formatMessage(messages.boxSignSecurityBlockedTooltip);\n            break;\n        case 'watermark':\n            tooltipMessage = intl.formatMessage(messages.boxSignWatermarkBlockedTooltip);\n            break;\n        default:\n    }\n\n    return (\n        <FtuxTooltip\n            body={intl.formatMessage(messages.boxSignFtuxBody)}\n            position={TooltipPosition.MIDDLE_LEFT}\n            shouldTarget={isTargeted}\n            title={intl.formatMessage(messages.boxSignFtuxTitle)}\n            useTargetingApi={() => targetingApi}\n        >\n            <Tooltip isDisabled={isTargeted} position={TooltipPosition.MIDDLE_LEFT} text={tooltipMessage}>\n                <PlainButton\n                    aria-label={label}\n                    className={buttonClassName}\n                    data-testid=\"sign-button\"\n                    isDisabled={isSignDisabled}\n                    {...rest}\n                >\n                    <BoxSign28 className=\"bcs-SidebarNavSignButton-icon\" />\n                    <Sign16 width={20} height={20} className=\"bcs-SidebarNavSignButton-icon--grayscale\" />\n                </PlainButton>\n            </Tooltip>\n        </FtuxTooltip>\n    );\n}\n\nexport default injectIntl(SidebarNavSignButton);\n"],"mappings":";;;;AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,OAAOC,UAAU,MAAM,YAAY;AACnC,SAASC,UAAU,QAAmB,YAAY;AAClD,OAAOC,SAAS,MAAM,2BAA2B;AACjD,OAAOC,MAAM,MAAM,wBAAwB;AAC3C,OAAOC,WAAW,MAA4B,+BAA+B;AAC7E;AACA,OAAOC,gCAAgC,MAAM,2DAA2D;AACxG,OAAOC,OAAO,IAAIC,eAAe,QAAQ,0BAA0B;AACnE;AACA,OAAOC,QAAQ,MAAM,YAAY;AACjC,OAAO,6BAA6B;AAapC,OAAO,MAAMC,kBAAkB,GAAGA,CAAC;EAAEC;AAAwC,CAAC,KAAKA,QAAQ;AAE3F,OAAO,SAASC,oBAAoBA,CAAAC,IAAA,EAAwD;EAAA,IAAvD;MAAEC,aAAa;MAAEC,IAAI;MAAEC;IAA6B,CAAC,GAAAH,IAAA;IAAbI,IAAI,GAAAC,wBAAA,CAAAL,IAAA,EAAAM,SAAA;EAC7E,MAAMC,cAAc,GAAG,CAAC,CAACN,aAAa;EACtC,MAAMO,UAAU,GAAGL,YAAY,EAAEM,OAAO;EACxC,MAAMC,WAAW,GAAG,CAACH,cAAc,IAAIC,UAAU,GAAGf,gCAAgC,GAAGI,kBAAkB;EACzG,MAAMc,KAAK,GAAGT,IAAI,CAACU,aAAa,CAAChB,QAAQ,CAACiB,cAAc,CAAC;EACzD,MAAMC,eAAe,GAAG1B,UAAU,CAAC,0BAA0B,EAAE;IAAE,iBAAiB,EAAEmB;EAAe,CAAC,CAAC;EAErG,IAAIQ,cAAc,GAAGJ,KAAK;EAE1B,QAAQV,aAAa;IACjB,KAAK,iBAAiB;IACtB,KAAK,aAAa;IAClB,KAAK,aAAa;MACdc,cAAc,GAAGb,IAAI,CAACU,aAAa,CAAChB,QAAQ,CAACoB,6BAA6B,CAAC;MAC3E;IACJ,KAAK,WAAW;MACZD,cAAc,GAAGb,IAAI,CAACU,aAAa,CAAChB,QAAQ,CAACqB,8BAA8B,CAAC;MAC5E;IACJ;EACJ;EAEA,oBACI9B,KAAA,CAAA+B,aAAA,CAACR,WAAW;IACRS,IAAI,EAAEjB,IAAI,CAACU,aAAa,CAAChB,QAAQ,CAACwB,eAAe,CAAE;IACnDC,QAAQ,EAAE1B,eAAe,CAAC2B,WAAY;IACtCC,YAAY,EAAEf,UAAW;IACzBgB,KAAK,EAAEtB,IAAI,CAACU,aAAa,CAAChB,QAAQ,CAAC6B,gBAAgB,CAAE;IACrDC,eAAe,EAAEA,CAAA,KAAMvB;EAAa,gBAEpChB,KAAA,CAAA+B,aAAA,CAACxB,OAAO;IAACiC,UAAU,EAAEnB,UAAW;IAACa,QAAQ,EAAE1B,eAAe,CAAC2B,WAAY;IAACM,IAAI,EAAEb;EAAe,gBACzF5B,KAAA,CAAA+B,aAAA,CAAC1B,WAAW,EAAAqC,QAAA;IACR,cAAYlB,KAAM;IAClBmB,SAAS,EAAEhB,eAAgB;IAC3B,eAAY,aAAa;IACzBa,UAAU,EAAEpB;EAAe,GACvBH,IAAI,gBAERjB,KAAA,CAAA+B,aAAA,CAAC5B,SAAS;IAACwC,SAAS,EAAC;EAA+B,CAAE,CAAC,eACvD3C,KAAA,CAAA+B,aAAA,CAAC3B,MAAM;IAACwC,KAAK,EAAE,EAAG;IAACC,MAAM,EAAE,EAAG;IAACF,SAAS,EAAC;EAA0C,CAAE,CAC5E,CACR,CACA,CAAC;AAEtB;AAEA,eAAezC,UAAU,CAACU,oBAAoB,CAAC","ignoreList":[]}