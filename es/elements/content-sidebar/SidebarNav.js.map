{"version":3,"file":"SidebarNav.js","names":["React","injectIntl","noop","BoxAiLogo","Size6","usePromptFocus","AdditionalTabs","DocGenIcon","IconChatRound","IconDocInfo","IconMagicWand","IconMetadataThick","SidebarNavButton","SidebarNavSign","SidebarNavTablist","SidebarToggle","messages","SIDEBAR_NAV_TARGETS","SIDEBAR_VIEW_ACTIVITY","SIDEBAR_VIEW_BOXAI","SIDEBAR_VIEW_DETAILS","SIDEBAR_VIEW_DOCGEN","SIDEBAR_VIEW_METADATA","SIDEBAR_VIEW_SKILLS","useFeatureConfig","SidebarNav","additionalTabs","elementId","fileId","hasActivity","hasAdditionalTabs","hasBoxAI","hasDetails","hasMetadata","hasSkills","hasDocGen","internalSidebarNavigation","internalSidebarNavigationHandler","intl","isOpen","onNavigate","onPanelChange","routerDisabled","signSidebarProps","enabled","hasBoxSign","disabledTooltip","boxAIDisabledTooltip","showOnlyNavButton","showOnlyBoxAINavButton","focusPrompt","handleSidebarNavButtonClick","sidebarview","createElement","className","formatMessage","sidebarNavLabel","BOXAI","isDisabled","onClick","sidebarView","tooltip","sidebarBoxAITitle","height","width","ACTIVITY","sidebarActivityTitle","DETAILS","sidebarDetailsTitle","SKILLS","sidebarSkillsTitle","METADATA","sidebarMetadataTitle","DOCGEN","sidebarDocGenTooltip","key","tabs"],"sources":["../../../src/elements/content-sidebar/SidebarNav.js"],"sourcesContent":["/**\n * @flow\n * @file Preview sidebar nav component\n * @author Box\n */\n\nimport * as React from 'react';\nimport { injectIntl } from 'react-intl';\nimport type { IntlShape } from 'react-intl';\nimport noop from 'lodash/noop';\n// $FlowFixMe\nimport { BoxAiLogo } from '@box/blueprint-web-assets/icons/Logo';\n// $FlowFixMe\nimport { Size6 } from '@box/blueprint-web-assets/tokens/tokens';\nimport { usePromptFocus } from '@box/box-ai-content-answers';\nimport AdditionalTabs from './additional-tabs';\nimport DocGenIcon from '../../icon/fill/DocGenIcon';\nimport IconChatRound from '../../icons/general/IconChatRound';\nimport IconDocInfo from '../../icons/general/IconDocInfo';\nimport IconMagicWand from '../../icons/general/IconMagicWand';\nimport IconMetadataThick from '../../icons/general/IconMetadataThick';\nimport SidebarNavButton from './SidebarNavButton';\nimport SidebarNavSign from './SidebarNavSign';\nimport SidebarNavTablist from './SidebarNavTablist';\nimport SidebarToggle from './SidebarToggle';\nimport messages from '../common/messages';\nimport { SIDEBAR_NAV_TARGETS } from '../common/interactionTargets';\nimport {\n    SIDEBAR_VIEW_ACTIVITY,\n    SIDEBAR_VIEW_BOXAI,\n    SIDEBAR_VIEW_DETAILS,\n    SIDEBAR_VIEW_DOCGEN,\n    SIDEBAR_VIEW_METADATA,\n    SIDEBAR_VIEW_SKILLS,\n} from '../../constants';\nimport { useFeatureConfig } from '../common/feature-checking';\nimport type { NavigateOptions, AdditionalSidebarTab } from './flowTypes';\nimport type { InternalSidebarNavigation, InternalSidebarNavigationHandler } from '../common/types/SidebarNavigation';\nimport './SidebarNav.scss';\nimport type { SignSidebarProps } from './SidebarNavSign';\n\ntype Props = {\n    additionalTabs?: Array<AdditionalSidebarTab>,\n    elementId: string,\n    fileId: string,\n    hasActivity: boolean,\n    hasAdditionalTabs: boolean,\n    hasBoxAI: boolean,\n    hasDetails: boolean,\n    hasDocGen?: boolean,\n    hasMetadata: boolean,\n    hasSkills: boolean,\n    internalSidebarNavigation?: InternalSidebarNavigation,\n    internalSidebarNavigationHandler?: InternalSidebarNavigationHandler,\n    intl: IntlShape,\n    isOpen?: boolean,\n    onNavigate?: (SyntheticEvent<>, NavigateOptions) => void,\n    onPanelChange?: (name: string, isInitialState: boolean) => void,\n    routerDisabled?: boolean,\n    signSidebarProps: SignSidebarProps,\n};\n\nconst SidebarNav = ({\n    additionalTabs,\n    elementId,\n    fileId,\n    hasActivity,\n    hasAdditionalTabs,\n    hasBoxAI,\n    hasDetails,\n    hasMetadata,\n    hasSkills,\n    hasDocGen = false,\n    internalSidebarNavigation,\n    internalSidebarNavigationHandler,\n    intl,\n    isOpen,\n    onNavigate,\n    onPanelChange = noop,\n    routerDisabled,\n    signSidebarProps,\n}: Props) => {\n    const { enabled: hasBoxSign } = signSidebarProps || {};\n    const { disabledTooltip: boxAIDisabledTooltip, showOnlyNavButton: showOnlyBoxAINavButton } =\n        useFeatureConfig('boxai.sidebar');\n\n    const { focusPrompt } = usePromptFocus('.be.bcs');\n\n    const handleSidebarNavButtonClick = (sidebarview: string) => {\n        onPanelChange(sidebarview, false);\n\n        // If the Box AI sidebar is enabled, focus the Box AI sidebar prompt\n        if (sidebarview === SIDEBAR_VIEW_BOXAI) {\n            focusPrompt();\n        }\n    };\n\n    return (\n        <div className=\"bcs-SidebarNav\" aria-label={intl.formatMessage(messages.sidebarNavLabel)}>\n            <div className=\"bcs-SidebarNav-tabs\">\n                <SidebarNavTablist\n                    elementId={elementId}\n                    internalSidebarNavigation={internalSidebarNavigation}\n                    internalSidebarNavigationHandler={internalSidebarNavigationHandler}\n                    isOpen={isOpen}\n                    onNavigate={onNavigate}\n                    routerDisabled={routerDisabled}\n                >\n                    {hasBoxAI && (\n                        <SidebarNavButton\n                            data-resin-target={SIDEBAR_NAV_TARGETS.BOXAI}\n                            data-target-id=\"SidebarNavButton-boxAI\"\n                            data-testid=\"sidebarboxai\"\n                            isDisabled={showOnlyBoxAINavButton}\n                            onClick={handleSidebarNavButtonClick}\n                            sidebarView={SIDEBAR_VIEW_BOXAI}\n                            tooltip={\n                                showOnlyBoxAINavButton\n                                    ? boxAIDisabledTooltip\n                                    : intl.formatMessage(messages.sidebarBoxAITitle)\n                            }\n                        >\n                            <BoxAiLogo height={Size6} width={Size6} />\n                        </SidebarNavButton>\n                    )}\n                    {hasActivity && (\n                        <SidebarNavButton\n                            data-resin-target={SIDEBAR_NAV_TARGETS.ACTIVITY}\n                            data-target-id=\"SidebarNavButton-activity\"\n                            data-testid=\"sidebaractivity\"\n                            onClick={handleSidebarNavButtonClick}\n                            sidebarView={SIDEBAR_VIEW_ACTIVITY}\n                            tooltip={intl.formatMessage(messages.sidebarActivityTitle)}\n                        >\n                            <IconChatRound className=\"bcs-SidebarNav-icon\" />\n                        </SidebarNavButton>\n                    )}\n                    {hasDetails && (\n                        <SidebarNavButton\n                            data-resin-target={SIDEBAR_NAV_TARGETS.DETAILS}\n                            data-target-id=\"SidebarNavButton-details\"\n                            data-testid=\"sidebardetails\"\n                            onClick={handleSidebarNavButtonClick}\n                            sidebarView={SIDEBAR_VIEW_DETAILS}\n                            tooltip={intl.formatMessage(messages.sidebarDetailsTitle)}\n                        >\n                            <IconDocInfo className=\"bcs-SidebarNav-icon\" />\n                        </SidebarNavButton>\n                    )}\n                    {hasSkills && (\n                        <SidebarNavButton\n                            data-resin-target={SIDEBAR_NAV_TARGETS.SKILLS}\n                            data-target-id=\"SidebarNavButton-skills\"\n                            data-testid=\"sidebarskills\"\n                            onClick={handleSidebarNavButtonClick}\n                            sidebarView={SIDEBAR_VIEW_SKILLS}\n                            tooltip={intl.formatMessage(messages.sidebarSkillsTitle)}\n                        >\n                            <IconMagicWand className=\"bcs-SidebarNav-icon\" />\n                        </SidebarNavButton>\n                    )}\n                    {hasMetadata && (\n                        <SidebarNavButton\n                            data-resin-target={SIDEBAR_NAV_TARGETS.METADATA}\n                            data-target-id=\"SidebarNavButton-metadata\"\n                            data-testid=\"sidebarmetadata\"\n                            onClick={handleSidebarNavButtonClick}\n                            sidebarView={SIDEBAR_VIEW_METADATA}\n                            tooltip={intl.formatMessage(messages.sidebarMetadataTitle)}\n                        >\n                            <IconMetadataThick className=\"bcs-SidebarNav-icon\" />\n                        </SidebarNavButton>\n                    )}\n                    {hasDocGen && (\n                        <SidebarNavButton\n                            data-resin-target={SIDEBAR_NAV_TARGETS.DOCGEN}\n                            data-target-id=\"SidebarNavButton-docGen\"\n                            data-testid=\"sidebardocgen\"\n                            onClick={handleSidebarNavButtonClick}\n                            sidebarView={SIDEBAR_VIEW_DOCGEN}\n                            tooltip={intl.formatMessage(messages.sidebarDocGenTooltip)}\n                        >\n                            <DocGenIcon className=\"bcs-SidebarNav-icon\" />\n                        </SidebarNavButton>\n                    )}\n                </SidebarNavTablist>\n\n                {hasBoxSign && (\n                    <div className=\"bcs-SidebarNav-secondary\">\n                        <SidebarNavSign {...signSidebarProps} />\n                    </div>\n                )}\n\n                {hasAdditionalTabs && (\n                    <div className=\"bcs-SidebarNav-overflow\" data-testid=\"additional-tabs-overflow\">\n                        <AdditionalTabs key={fileId} tabs={additionalTabs} />\n                    </div>\n                )}\n            </div>\n            <div className=\"bcs-SidebarNav-footer\">\n                <SidebarToggle\n                    internalSidebarNavigation={internalSidebarNavigation}\n                    internalSidebarNavigationHandler={internalSidebarNavigationHandler}\n                    isOpen={isOpen}\n                    routerDisabled={routerDisabled}\n                />\n            </div>\n        </div>\n    );\n};\nexport default injectIntl(SidebarNav);\n"],"mappings":"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","ignoreList":[]}