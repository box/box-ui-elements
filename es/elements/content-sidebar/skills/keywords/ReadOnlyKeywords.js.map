{"version":3,"file":"ReadOnlyKeywords.js","names":["React","PillCloud","SKILLS_TARGETS","INTERACTION_TARGET","Timeline","getPills","ReadOnlyselecteds","PureComponent","constructor","args","_defineProperty","selectedIndex","pill","state","newIndex","value","setState","render","keywords","getViewer","duration","props","options","selected","pillCloudProps","selectedOptions","createElement","Fragment","_extends","onSelect","buttonProps","KEYWORDS","SELECT","Array","isArray","appears","length","interactionTarget","TIMELINE","text","timeslices"],"sources":["../../../../../src/elements/content-sidebar/skills/keywords/ReadOnlyKeywords.js"],"sourcesContent":["/**\n * @flow\n * @file Read Only Keywords Card component\n * @author Box\n */\n\nimport * as React from 'react';\nimport PillCloud from '../../../../components/pill-cloud/PillCloud';\nimport { SKILLS_TARGETS, INTERACTION_TARGET } from '../../../common/interactionTargets';\nimport Timeline from '../timeline';\nimport getPills from './keywordUtils';\nimport type { Pill, Pills } from './flowTypes';\nimport type { SkillCardEntry } from '../../../../common/types/skills';\nimport './ReadOnlyKeywords.scss';\n\ntype Props = {\n    duration?: number,\n    getViewer?: Function,\n    keywords: Array<SkillCardEntry>,\n};\n\ntype State = {\n    selectedIndex: number,\n};\n\nclass ReadOnlyselecteds extends React.PureComponent<Props, State> {\n    props: Props;\n\n    state: State = {\n        selectedIndex: -1,\n    };\n\n    /**\n     * Shows the time line by selecting the keyword\n     *\n     * @private\n     * @param {Object} pill - keyword\n     * @return {void}\n     */\n    onSelect = (pill: Pill) => {\n        const { selectedIndex }: State = this.state;\n        const newIndex: number = ((pill.value: any): number);\n        this.setState({\n            selectedIndex: selectedIndex === newIndex ? -1 : newIndex,\n        });\n    };\n\n    /**\n     * Renders the keywords\n     *\n     * @private\n     * @return {void}\n     */\n    render() {\n        const { keywords, getViewer, duration }: Props = this.props;\n        const { selectedIndex }: State = this.state;\n        const options: Pills = getPills(keywords);\n        const selected = keywords[selectedIndex];\n        const pillCloudProps = selected ? { selectedOptions: [options[selectedIndex]] } : {};\n\n        return (\n            <>\n                <PillCloud\n                    onSelect={this.onSelect}\n                    options={options}\n                    {...pillCloudProps}\n                    buttonProps={{\n                        [INTERACTION_TARGET]: SKILLS_TARGETS.KEYWORDS.SELECT,\n                    }}\n                />\n                {!!selected && Array.isArray(selected.appears) && selected.appears.length > 0 && (\n                    <Timeline\n                        duration={duration}\n                        getViewer={getViewer}\n                        interactionTarget={SKILLS_TARGETS.KEYWORDS.TIMELINE}\n                        text={selected.text}\n                        timeslices={selected.appears}\n                    />\n                )}\n            </>\n        );\n    }\n}\n\nexport default ReadOnlyselecteds;\n"],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;;AAEA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,OAAOC,SAAS,MAAM,6CAA6C;AACnE,SAASC,cAAc,EAAEC,kBAAkB,QAAQ,oCAAoC;AACvF,OAAOC,QAAQ,MAAM,aAAa;AAClC,OAAOC,QAAQ,MAAM,gBAAgB;AAGrC,OAAO,yBAAyB;AAYhC,MAAMC,iBAAiB,SAASN,KAAK,CAACO,aAAa,CAAe;EAAAC,YAAA,GAAAC,IAAA;IAAA,SAAAA,IAAA;IAAAC,eAAA,gBAG/C;MACXC,aAAa,EAAE,CAAC;IACpB,CAAC;IAED;AACJ;AACA;AACA;AACA;AACA;AACA;IANID,eAAA,mBAOYE,IAAU,IAAK;MACvB,MAAM;QAAED;MAAqB,CAAC,GAAG,IAAI,CAACE,KAAK;MAC3C,MAAMC,QAAgB,GAAKF,IAAI,CAACG,KAAoB;MACpD,IAAI,CAACC,QAAQ,CAAC;QACVL,aAAa,EAAEA,aAAa,KAAKG,QAAQ,GAAG,CAAC,CAAC,GAAGA;MACrD,CAAC,CAAC;IACN,CAAC;EAAA;EAED;AACJ;AACA;AACA;AACA;AACA;EACIG,MAAMA,CAAA,EAAG;IACL,MAAM;MAAEC,QAAQ;MAAEC,SAAS;MAAEC;IAAgB,CAAC,GAAG,IAAI,CAACC,KAAK;IAC3D,MAAM;MAAEV;IAAqB,CAAC,GAAG,IAAI,CAACE,KAAK;IAC3C,MAAMS,OAAc,GAAGjB,QAAQ,CAACa,QAAQ,CAAC;IACzC,MAAMK,QAAQ,GAAGL,QAAQ,CAACP,aAAa,CAAC;IACxC,MAAMa,cAAc,GAAGD,QAAQ,GAAG;MAAEE,eAAe,EAAE,CAACH,OAAO,CAACX,aAAa,CAAC;IAAE,CAAC,GAAG,CAAC,CAAC;IAEpF,oBACIX,KAAA,CAAA0B,aAAA,CAAA1B,KAAA,CAAA2B,QAAA,qBACI3B,KAAA,CAAA0B,aAAA,CAACzB,SAAS,EAAA2B,QAAA;MACNC,QAAQ,EAAE,IAAI,CAACA,QAAS;MACxBP,OAAO,EAAEA;IAAQ,GACbE,cAAc;MAClBM,WAAW,EAAE;QACT,CAAC3B,kBAAkB,GAAGD,cAAc,CAAC6B,QAAQ,CAACC;MAClD;IAAE,EACL,CAAC,EACD,CAAC,CAACT,QAAQ,IAAIU,KAAK,CAACC,OAAO,CAACX,QAAQ,CAACY,OAAO,CAAC,IAAIZ,QAAQ,CAACY,OAAO,CAACC,MAAM,GAAG,CAAC,iBACzEpC,KAAA,CAAA0B,aAAA,CAACtB,QAAQ;MACLgB,QAAQ,EAAEA,QAAS;MACnBD,SAAS,EAAEA,SAAU;MACrBkB,iBAAiB,EAAEnC,cAAc,CAAC6B,QAAQ,CAACO,QAAS;MACpDC,IAAI,EAAEhB,QAAQ,CAACgB,IAAK;MACpBC,UAAU,EAAEjB,QAAQ,CAACY;IAAQ,CAChC,CAEP,CAAC;EAEX;AACJ;AAEA,eAAe7B,iBAAiB","ignoreList":[]}