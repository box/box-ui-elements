{"version":3,"file":"SidebarFileProperties.js","names":["React","getProp","injectIntl","ItemProperties","LoadingIndicatorWrapper","getFileSize","INTERACTION_TARGET","DETAILS_TARGETS","withErrorHandling","FIELD_METADATA_ARCHIVE","PLACEHOLDER_USER","SidebarFileProperties","file","onDescriptionChange","hasRetentionPolicy","retentionPolicy","onRetentionPolicyExtendClick","isLoading","intl","archiveDate","createElement","archivedAt","Number","createdAt","content_created_at","description","descriptionTextareaProps","DESCRIPTION","modifiedAt","content_modified_at","undefined","owner","retentionPolicyProps","_objectSpread","openModal","size","locale","uploader","id","SidebarFilePropertiesComponent"],"sources":["../../../src/elements/content-sidebar/SidebarFileProperties.js"],"sourcesContent":["/**\n * @flow\n * @file Sidebar file properties component\n * @author Box\n */\n\nimport * as React from 'react';\nimport getProp from 'lodash/get';\nimport { injectIntl } from 'react-intl';\nimport type { IntlShape } from 'react-intl';\nimport ItemProperties from '../../features/item-details/ItemProperties';\nimport LoadingIndicatorWrapper from '../../components/loading-indicator/LoadingIndicatorWrapper';\nimport getFileSize from '../../utils/getFileSize';\nimport { INTERACTION_TARGET, DETAILS_TARGETS } from '../common/interactionTargets';\nimport withErrorHandling from './withErrorHandling';\nimport type { ClassificationInfo } from './flowTypes';\nimport type { BoxItem } from '../../common/types/core';\nimport { FIELD_METADATA_ARCHIVE, PLACEHOLDER_USER } from '../../constants';\n\ntype Props = {\n    classification?: ClassificationInfo,\n    file: BoxItem,\n    hasClassification: boolean,\n    hasRetentionPolicy: boolean,\n    intl: IntlShape,\n    isLoading: boolean,\n    onDescriptionChange: Function,\n    onRetentionPolicyExtendClick?: Function,\n    retentionPolicy?: Object,\n};\n\nconst SidebarFileProperties = ({\n    file,\n    onDescriptionChange,\n    hasRetentionPolicy,\n    retentionPolicy,\n    onRetentionPolicyExtendClick,\n    isLoading,\n    intl,\n}: Props) => {\n    const archiveDate = getProp(file, FIELD_METADATA_ARCHIVE)?.archiveDate;\n\n    return (\n        <LoadingIndicatorWrapper isLoading={isLoading}>\n            <ItemProperties\n                archivedAt={archiveDate && Number(archiveDate)}\n                createdAt={file.content_created_at}\n                description={file.description}\n                descriptionTextareaProps={{\n                    [INTERACTION_TARGET]: DETAILS_TARGETS.DESCRIPTION,\n                }}\n                modifiedAt={file.content_modified_at}\n                onDescriptionChange={getProp(file, 'permissions.can_rename') ? onDescriptionChange : undefined}\n                owner={getProp(file, 'owned_by.name')}\n                retentionPolicyProps={\n                    hasRetentionPolicy\n                        ? {\n                              ...retentionPolicy,\n                              openModal: onRetentionPolicyExtendClick,\n                          }\n                        : {}\n                }\n                size={getFileSize(file.size, intl.locale)}\n                // use uploader_display_name if uploaded anonymously\n                uploader={\n                    getProp(file, 'created_by.id') === PLACEHOLDER_USER.id\n                        ? getProp(file, 'uploader_display_name')\n                        : getProp(file, 'created_by.name')\n                }\n            />\n        </LoadingIndicatorWrapper>\n    );\n};\n\nexport { SidebarFileProperties as SidebarFilePropertiesComponent };\nexport default injectIntl(withErrorHandling(SidebarFileProperties));\n"],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;;AAEA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,OAAOC,OAAO,MAAM,YAAY;AAChC,SAASC,UAAU,QAAQ,YAAY;AAEvC,OAAOC,cAAc,MAAM,4CAA4C;AACvE,OAAOC,uBAAuB,MAAM,4DAA4D;AAChG,OAAOC,WAAW,MAAM,yBAAyB;AACjD,SAASC,kBAAkB,EAAEC,eAAe,QAAQ,8BAA8B;AAClF,OAAOC,iBAAiB,MAAM,qBAAqB;AAGnD,SAASC,sBAAsB,EAAEC,gBAAgB,QAAQ,iBAAiB;AAc1E,MAAMC,qBAAqB,GAAGA,CAAC;EAC3BC,IAAI;EACJC,mBAAmB;EACnBC,kBAAkB;EAClBC,eAAe;EACfC,4BAA4B;EAC5BC,SAAS;EACTC;AACG,CAAC,KAAK;EACT,MAAMC,WAAW,GAAGlB,OAAO,CAACW,IAAI,EAAEH,sBAAsB,CAAC,EAAEU,WAAW;EAEtE,oBACInB,KAAA,CAAAoB,aAAA,CAAChB,uBAAuB;IAACa,SAAS,EAAEA;EAAU,gBAC1CjB,KAAA,CAAAoB,aAAA,CAACjB,cAAc;IACXkB,UAAU,EAAEF,WAAW,IAAIG,MAAM,CAACH,WAAW,CAAE;IAC/CI,SAAS,EAAEX,IAAI,CAACY,kBAAmB;IACnCC,WAAW,EAAEb,IAAI,CAACa,WAAY;IAC9BC,wBAAwB,EAAE;MACtB,CAACpB,kBAAkB,GAAGC,eAAe,CAACoB;IAC1C,CAAE;IACFC,UAAU,EAAEhB,IAAI,CAACiB,mBAAoB;IACrChB,mBAAmB,EAAEZ,OAAO,CAACW,IAAI,EAAE,wBAAwB,CAAC,GAAGC,mBAAmB,GAAGiB,SAAU;IAC/FC,KAAK,EAAE9B,OAAO,CAACW,IAAI,EAAE,eAAe,CAAE;IACtCoB,oBAAoB,EAChBlB,kBAAkB,GAAAmB,aAAA,CAAAA,aAAA,KAELlB,eAAe;MAClBmB,SAAS,EAAElB;IAA4B,KAE3C,CAAC,CACV;IACDmB,IAAI,EAAE9B,WAAW,CAACO,IAAI,CAACuB,IAAI,EAAEjB,IAAI,CAACkB,MAAM;IACxC;IAAA;IACAC,QAAQ,EACJpC,OAAO,CAACW,IAAI,EAAE,eAAe,CAAC,KAAKF,gBAAgB,CAAC4B,EAAE,GAChDrC,OAAO,CAACW,IAAI,EAAE,uBAAuB,CAAC,GACtCX,OAAO,CAACW,IAAI,EAAE,iBAAiB;EACxC,CACJ,CACoB,CAAC;AAElC,CAAC;AAED,SAASD,qBAAqB,IAAI4B,8BAA8B;AAChE,eAAerC,UAAU,CAACM,iBAAiB,CAACG,qBAAqB,CAAC,CAAC","ignoreList":[]}