{"version":3,"file":"Tooltip.js","names":["React","classNames","uniqueId","getProp","TetherComponent","TetherPosition","CloseButton","TooltipTheme","TooltipPosition","positions","BOTTOM_CENTER","attachment","TOP_CENTER","targetAttachment","BOTTOM_LEFT","TOP_RIGHT","BOTTOM_RIGHT","TOP_LEFT","MIDDLE_LEFT","MIDDLE_RIGHT","Tooltip","Component","constructor","props","_defineProperty","createRef","tetherRef","current","isShown","position","onDismiss","setState","wasClosedByUser","type","event","children","handler","stopPropagation","nativeEvent","stopImmediatePropagation","fireChildEvent","isShownProp","key","isControlled","state","showTooltip","hasRendered","componentDidMount","componentDidUpdate","prevProps","prevState","document","addEventListener","handleKeyDown","removeEventListener","componentWillUnmount","render","ariaHidden","bodyElement","className","constrainToScrollParent","constrainToWindow","isDisabled","isTabbable","offset","showCloseButton","stopBubble","tetherElementClassName","targetWrapperClassName","text","theme","childAriaLabel","isLabelMatchingTooltipText","Children","only","withCloseButton","tetherPosition","constraints","componentProps","push","to","undefined","tooltipID","ERROR","onBlur","handleBlur","onFocus","handleFocus","onMouseEnter","handleMouseEnter","onMouseLeave","handleMouseLeave","tabIndex","bodyEl","HTMLElement","body","classes","CALLOUT","tetherProps","classPrefix","renderElementTo","tooltipInner","createElement","Fragment","onClick","closeTooltip","renderTooltip","ref","id","handleTooltipEvent","onContextMenu","onKeyPress","role","_extends","renderTarget","child","cloneElement","renderElement","DEFAULT"],"sources":["../../../src/components/tooltip/Tooltip.tsx"],"sourcesContent":["import * as React from 'react';\nimport classNames from 'classnames';\nimport uniqueId from 'lodash/uniqueId';\nimport getProp from 'lodash/get';\nimport TetherComponent, { type TetherProps } from 'react-tether';\n\nimport TetherPosition from '../../common/tether-positions';\nimport CloseButton from './CloseButton';\n\nimport './Tooltip.scss';\n\nexport enum TooltipTheme {\n    CALLOUT = 'callout',\n    DEFAULT = 'default',\n    ERROR = 'error',\n}\n\nexport enum TooltipPosition {\n    BOTTOM_CENTER = 'bottom-center',\n    BOTTOM_LEFT = 'bottom-left',\n    BOTTOM_RIGHT = 'bottom-right',\n    MIDDLE_LEFT = 'middle-left',\n    MIDDLE_RIGHT = 'middle-right',\n    TOP_CENTER = 'top-center',\n    TOP_LEFT = 'top-left',\n    TOP_RIGHT = 'top-right',\n}\n\nexport type TooltipCustomPosition = {\n    attachment: TetherPosition;\n    targetAttachment: TetherPosition;\n};\n\nconst positions = {\n    [TooltipPosition.BOTTOM_CENTER]: {\n        attachment: TetherPosition.TOP_CENTER,\n        targetAttachment: TetherPosition.BOTTOM_CENTER,\n    },\n    [TooltipPosition.BOTTOM_LEFT]: {\n        attachment: TetherPosition.TOP_RIGHT,\n        targetAttachment: TetherPosition.BOTTOM_RIGHT,\n    },\n    [TooltipPosition.BOTTOM_RIGHT]: {\n        attachment: TetherPosition.TOP_LEFT,\n        targetAttachment: TetherPosition.BOTTOM_LEFT,\n    },\n    [TooltipPosition.MIDDLE_LEFT]: {\n        attachment: TetherPosition.MIDDLE_RIGHT,\n        targetAttachment: TetherPosition.MIDDLE_LEFT,\n    },\n    [TooltipPosition.MIDDLE_RIGHT]: {\n        attachment: TetherPosition.MIDDLE_LEFT,\n        targetAttachment: TetherPosition.MIDDLE_RIGHT,\n    },\n    [TooltipPosition.TOP_CENTER]: {\n        attachment: TetherPosition.BOTTOM_CENTER,\n        targetAttachment: TetherPosition.TOP_CENTER,\n    },\n    [TooltipPosition.TOP_LEFT]: {\n        attachment: TetherPosition.BOTTOM_RIGHT,\n        targetAttachment: TetherPosition.TOP_RIGHT,\n    },\n    [TooltipPosition.TOP_RIGHT]: {\n        attachment: TetherPosition.BOTTOM_LEFT,\n        targetAttachment: TetherPosition.TOP_LEFT,\n    },\n};\n\nexport type DefaultTooltipProps = {\n    /** Whether to constrain the tooltip to the element's scroll parent. Defaults to `false` */\n    constrainToScrollParent: boolean;\n    /** Whether to constrain the tooltip to window. Defaults to `true` */\n    constrainToWindow: boolean;\n    /** Forces the tooltip to be disabled irrespecitve of it's shown state. Defaults to `false` */\n    isDisabled: boolean;\n    /** Where to position the tooltip relative to the wrapped component */\n    position: TooltipPosition | TooltipCustomPosition;\n    /** Tooltip theme */\n    theme: TooltipTheme;\n};\n\nexport type TooltipProps = {\n    /** Sets aria-hidden attribute on tooltip */\n    ariaHidden?: boolean;\n    /** An HTML element to append the tooltip container into (otherwise appends to body) */\n    bodyElement?: HTMLElement;\n    /** A React element to put the tooltip on */\n    children: React.ReactChild;\n    /** A CSS class for the tooltip */\n    className?: string;\n    /** Forces the tooltip to be shown or hidden (useful for errors) */\n    isShown?: boolean;\n    /** Whether to add tabindex=0.  Defaults to `true` */\n    isTabbable?: boolean;\n    /** A string of the form 'vert-offset horiz-offset' which controls positioning */\n    offset?: string;\n    /** Function called if the user manually dismisses the tooltip - only applies if showCloseButton is true */\n    onDismiss?: () => void;\n    /** Shows an X button to close the tooltip. Useful when tooltips are force shown with the isShown prop. */\n    showCloseButton?: boolean;\n    /** stop click|keypress event bubbling */\n    stopBubble?: boolean;\n    /** A CSS class for the tether element component */\n    tetherElementClassName?: string;\n    /** A CSS class for the target wrapper element */\n    targetWrapperClassName?: string;\n    /** Text to show in the tooltip */\n    text?: React.ReactNode;\n} & Partial<DefaultTooltipProps>;\n\ntype State = {\n    isShown: boolean;\n    hasRendered: boolean;\n    wasClosedByUser: boolean;\n};\n\nclass Tooltip extends React.Component<TooltipProps, State> {\n    static defaultProps: DefaultTooltipProps = {\n        constrainToScrollParent: false,\n        constrainToWindow: true,\n        isDisabled: false,\n        position: TooltipPosition.TOP_CENTER,\n        theme: TooltipTheme.DEFAULT,\n    };\n\n    constructor(props: TooltipProps) {\n        super(props);\n\n        this.state = { isShown: !!props.isShown, hasRendered: false, wasClosedByUser: false };\n    }\n\n    componentDidMount() {\n        this.setState({ hasRendered: true });\n    }\n\n    componentDidUpdate(prevProps: TooltipProps, prevState: State) {\n        const isControlled = this.isControlled();\n\n        // Reset wasClosedByUser state when isShown transitions from false to true\n        if (isControlled) {\n            if (!prevProps.isShown && this.props.isShown) {\n                this.setState({ wasClosedByUser: false });\n            }\n        } else {\n            if (!prevState.isShown && this.state.isShown) {\n                // capture event so that tooltip closes before any other floating components that can be closed by\n                // \"Escape\" key(e.g. Modal, Menu, etc.)\n                document.addEventListener('keydown', this.handleKeyDown, true);\n            }\n            if (prevState.isShown && !this.state.isShown) {\n                document.removeEventListener('keydown', this.handleKeyDown, true);\n            }\n        }\n    }\n\n    componentWillUnmount() {\n        document.removeEventListener('keydown', this.handleKeyDown, true);\n    }\n\n    tooltipID = uniqueId('tooltip');\n\n    tetherRef = React.createRef<TetherComponent>();\n\n    // Instance API: Forces the radar to be repositioned\n    position = () => {\n        if (this.tetherRef.current && this.isShown()) {\n            this.tetherRef.current.position();\n        }\n    };\n\n    closeTooltip = () => {\n        const { onDismiss } = this.props;\n        this.setState({ wasClosedByUser: true });\n        if (onDismiss) {\n            onDismiss();\n        }\n    };\n\n    fireChildEvent = (type: string, event: React.SyntheticEvent<HTMLElement> | Event) => {\n        const { children } = this.props;\n        const handler = (children as React.ReactElement).props[type];\n        if (handler) {\n            handler(event);\n        }\n    };\n\n    handleTooltipEvent = (event: React.MouseEvent<HTMLElement> | React.KeyboardEvent<HTMLElement>) => {\n        event.stopPropagation();\n        event.nativeEvent.stopImmediatePropagation();\n    };\n\n    handleMouseEnter = (event: React.SyntheticEvent<HTMLElement>) => {\n        this.setState({ isShown: true });\n        this.fireChildEvent('onMouseEnter', event);\n    };\n\n    handleMouseLeave = (event: React.SyntheticEvent<HTMLElement>) => {\n        this.setState({ isShown: false });\n        this.fireChildEvent('onMouseLeave', event);\n    };\n\n    handleFocus = (event: React.SyntheticEvent<HTMLElement>) => {\n        this.setState({ isShown: true });\n        this.fireChildEvent('onFocus', event);\n    };\n\n    handleBlur = (event: React.SyntheticEvent<HTMLElement>) => {\n        this.setState({ isShown: false });\n        this.fireChildEvent('onBlur', event);\n    };\n\n    isControlled = () => {\n        const { isShown: isShownProp } = this.props;\n        return typeof isShownProp !== 'undefined';\n    };\n\n    handleKeyDown = (event: KeyboardEvent) => {\n        if (event.key === 'Escape') {\n            event.stopPropagation();\n            this.setState({ isShown: false });\n        }\n        this.fireChildEvent('onKeyDown', event);\n    };\n\n    isShown = () => {\n        const { isShown: isShownProp } = this.props;\n        const isControlled = this.isControlled();\n\n        const isShown = isControlled ? isShownProp : this.state.isShown;\n\n        const showTooltip = isShown && !this.state.wasClosedByUser && this.state.hasRendered;\n\n        return showTooltip;\n    };\n\n    render() {\n        const {\n            ariaHidden,\n            bodyElement,\n            children,\n            className,\n            constrainToScrollParent,\n            constrainToWindow,\n            isDisabled,\n            isTabbable = true,\n            offset,\n            position = TooltipPosition.TOP_CENTER,\n            showCloseButton,\n            stopBubble,\n            tetherElementClassName,\n            targetWrapperClassName,\n            text,\n            theme,\n        } = this.props;\n\n        const childAriaLabel = getProp(children, 'props.aria-label');\n        const isLabelMatchingTooltipText = !!childAriaLabel && childAriaLabel === text;\n\n        // If the tooltip is disabled just render the children\n        if (isDisabled) {\n            return React.Children.only(children);\n        }\n\n        const isControlled = this.isControlled();\n        const showTooltip = this.isShown();\n\n        const withCloseButton = showCloseButton && isControlled;\n        const tetherPosition = typeof position === 'string' ? positions[position] : position;\n        const constraints = [];\n        const componentProps: {\n            [key: string]:\n                | string\n                | ((event: React.SyntheticEvent<HTMLElement>) => void)\n                | ((event: React.KeyboardEvent<HTMLElement>) => void);\n        } = {};\n\n        if (constrainToScrollParent) {\n            constraints.push({\n                to: 'scrollParent',\n                attachment: 'together',\n            });\n        }\n        if (constrainToWindow) {\n            constraints.push({\n                to: 'window',\n                attachment: 'together',\n            });\n        }\n\n        if (showTooltip && !ariaHidden) {\n            if (!isLabelMatchingTooltipText || childAriaLabel === undefined) {\n                componentProps['aria-describedby'] = this.tooltipID;\n            }\n\n            if (theme === TooltipTheme.ERROR) {\n                componentProps['aria-errormessage'] = this.tooltipID;\n            }\n        }\n        if (!isControlled) {\n            componentProps.onBlur = this.handleBlur;\n            componentProps.onFocus = this.handleFocus;\n            componentProps.onMouseEnter = this.handleMouseEnter;\n            componentProps.onMouseLeave = this.handleMouseLeave;\n\n            if (isTabbable) {\n                componentProps.tabIndex = '0';\n            }\n        }\n\n        const bodyEl = bodyElement instanceof HTMLElement ? bodyElement : document.body;\n\n        const classes = classNames('tooltip', 'bdl-Tooltip', className, {\n            'is-callout': theme === TooltipTheme.CALLOUT,\n            'is-error': theme === TooltipTheme.ERROR,\n            'with-close-button': withCloseButton,\n        });\n\n        const tetherProps: Pick<\n            TetherProps,\n            'attachment' | 'targetAttachment' | 'constraints' | 'renderElementTo' | 'classPrefix'\n        > & {\n            offset?: string;\n            className?: string;\n        } = {\n            attachment: tetherPosition.attachment,\n            classPrefix: 'tooltip',\n            constraints,\n            targetAttachment: tetherPosition.targetAttachment,\n            renderElementTo: bodyEl,\n        };\n\n        if (tetherElementClassName) {\n            tetherProps.className = tetherElementClassName;\n        }\n\n        if (offset) {\n            tetherProps.offset = offset;\n        }\n\n        const tooltipInner = (\n            <>\n                {text}\n                {withCloseButton && <CloseButton onClick={this.closeTooltip} />}\n            </>\n        );\n\n        const renderTooltip = (ref: React.RefObject<HTMLDivElement>) => {\n            if (!showTooltip) {\n                return null;\n            }\n            return stopBubble ? (\n                <div\n                    className={classes}\n                    id={this.tooltipID}\n                    onClick={this.handleTooltipEvent}\n                    onContextMenu={this.handleTooltipEvent}\n                    onKeyPress={this.handleTooltipEvent}\n                    onMouseEnter={this.handleMouseEnter}\n                    onMouseLeave={this.handleMouseLeave}\n                    role=\"presentation\"\n                    ref={ref}\n                >\n                    <div\n                        role={theme === TooltipTheme.ERROR ? undefined : 'tooltip'}\n                        aria-live=\"polite\"\n                        aria-hidden={ariaHidden || isLabelMatchingTooltipText}\n                        data-testid=\"bdl-Tooltip\"\n                    >\n                        {tooltipInner}\n                    </div>\n                </div>\n            ) : (\n                <div\n                    aria-live=\"polite\"\n                    aria-hidden={ariaHidden || isLabelMatchingTooltipText}\n                    className={classes}\n                    data-testid=\"bdl-Tooltip\"\n                    id={this.tooltipID}\n                    onMouseEnter={this.handleMouseEnter}\n                    onMouseLeave={this.handleMouseLeave}\n                    role={theme === TooltipTheme.ERROR ? undefined : 'tooltip'}\n                    ref={ref}\n                >\n                    {tooltipInner}\n                </div>\n            );\n        };\n\n        return (\n            <TetherComponent\n                {...tetherProps}\n                ref={this.tetherRef}\n                renderTarget={(ref: React.RefObject<HTMLDivElement>) => {\n                    const child = React.Children.only(children);\n                    return child ? (\n                        <div className={classNames('bdl-Tooltip-target', targetWrapperClassName)} ref={ref}>\n                            {React.cloneElement(child as React.ReactElement, componentProps)}\n                        </div>\n                    ) : null;\n                }}\n                renderElement={renderTooltip}\n            />\n        );\n    }\n}\n\nexport default Tooltip;\n"],"mappings":"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","ignoreList":[]}