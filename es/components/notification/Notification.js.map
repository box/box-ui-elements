{"version":3,"file":"Notification.js","names":["React","defineMessages","injectIntl","classNames","AlertCircle","InformationCircle","CheckmarkCircle","AlertTriangle","XMark","InfoBadge16","CircleCheck16","TriangleAlert16","XBadge16","X16","DURATION_SHORT","DURATION_LONG","OVERFLOW_WRAP","TYPE_DEFAULT","TYPE_INFO","TYPE_WARN","TYPE_ERROR","DURATION_TIMES","ICON_RENDERER","useV2Icons","createElement","messages","clearNotificationButtonText","Notification","Component","constructor","args","_defineProperty","event","onClose","props","timeout","clearTimeout","componentDidMount","duration","setTimeout","getChildren","children","render","contents","intl","type","overflow","className","formatMessage","classes","iconRenderer","iconColor","cloneElement","color","height","width","onClick"],"sources":["../../../src/components/notification/Notification.js"],"sourcesContent":["// @flow\nimport * as React from 'react';\nimport { defineMessages, injectIntl } from 'react-intl';\nimport classNames from 'classnames';\n\nimport {\n    AlertCircle,\n    InformationCircle,\n    CheckmarkCircle,\n    AlertTriangle,\n    XMark,\n} from '@box/blueprint-web-assets/icons/Medium';\n\nimport InfoBadge16 from '../../icon/line/InfoBadge16';\nimport CircleCheck16 from '../../icon/line/CircleCheck16';\nimport TriangleAlert16 from '../../icon/line/TriangleAlert16';\n\nimport XBadge16 from '../../icon/line/XBadge16';\nimport X16 from '../../icon/fill/X16';\n\nimport type { NotificationType } from '../../common/types/core';\n\nimport './Notification.scss';\n\n// @NOTE: We can't import these constants from ./constant.js because `react-docgen`\n// can't handle imported variables appear in propTypes\n// see https://github.com/reactjs/react-docgen/issues/33\nconst DURATION_SHORT = 'short';\nconst DURATION_LONG = 'long';\nconst OVERFLOW_WRAP = 'wrap';\nconst TYPE_DEFAULT = 'default';\nconst TYPE_INFO = 'info';\nconst TYPE_WARN = 'warn';\nconst TYPE_ERROR = 'error';\n\nconst DURATION_TIMES = {\n    [DURATION_SHORT]: 5000,\n    [DURATION_LONG]: 10000,\n};\n\nconst ICON_RENDERER: { [string]: Function } = {\n    [TYPE_DEFAULT]: useV2Icons => (useV2Icons ? <InformationCircle /> : <InfoBadge16 />),\n    [TYPE_ERROR]: useV2Icons => (useV2Icons ? <AlertCircle /> : <XBadge16 />),\n    [TYPE_INFO]: useV2Icons => (useV2Icons ? <CheckmarkCircle /> : <CircleCheck16 />),\n    [TYPE_WARN]: useV2Icons => (useV2Icons ? <AlertTriangle /> : <TriangleAlert16 />),\n};\n\nconst messages = defineMessages({\n    clearNotificationButtonText: {\n        defaultMessage: 'Clear Notification',\n        description: 'Button to clear notification',\n        id: 'boxui.notification.clearNotification',\n    },\n});\n\ntype Props = {\n    /**\n     * The contents of the `Notification`.\n     * - Notification text must be wrapped in a `<span />` tag.\n     * - Notification buttons must be the `<Button />` component.\n     */\n    children: React.Node,\n    className?: string,\n    duration?: 'short' | 'long',\n    /** `duration`: When set, dictates how long the notification will exist before calling `onClose`.\n     *  If unset, the notification will not automatically call `onClose`.\n     * - `short`: 5s\n     * - `long`: 10s */\n    intl: Object,\n    /** Function that gets executed when close button is clicked or when duration expires. */\n    onClose?: Function,\n    /**\n     * Determines notification colors\n     * - `default`: black\n     * - `info`: green\n     * - `warn`: yellow\n     * - `error`: red\n     */\n    type: NotificationType,\n    overflow?: 'wrap' | 'ellipsis',\n    useV2Icons?: boolean,\n};\n\nclass Notification extends React.Component<Props> {\n    static defaultProps = {\n        overflow: OVERFLOW_WRAP,\n        type: TYPE_DEFAULT,\n    };\n\n    componentDidMount() {\n        const { duration, onClose } = this.props;\n        this.timeout = duration && onClose ? setTimeout(onClose, DURATION_TIMES[duration]) : null;\n    }\n\n    onClose = event => {\n        const { onClose } = this.props;\n        if (this.timeout) {\n            clearTimeout(this.timeout);\n        }\n        if (onClose) {\n            onClose(event);\n        }\n    };\n\n    getChildren() {\n        const { children } = this.props;\n        return typeof children === 'string' ? <span>{children}</span> : children;\n    }\n\n    timeout: TimeoutID | null;\n\n    render() {\n        const contents = this.getChildren();\n        const { intl, type, overflow, className, useV2Icons } = this.props;\n        const { formatMessage } = intl;\n        const classes = classNames('notification', type, overflow, className);\n        const iconRenderer = ICON_RENDERER[type](useV2Icons);\n        const iconColor = useV2Icons ? '#222' : '#fff';\n\n        return (\n            <div className={classes}>\n                {React.cloneElement(iconRenderer, {\n                    color: iconColor,\n                    height: 20,\n                    width: 20,\n                })}\n                {contents}\n                <button\n                    aria-label={formatMessage(messages.clearNotificationButtonText)}\n                    className=\"close-btn\"\n                    onClick={this.onClose}\n                    type=\"button\"\n                >\n                    {useV2Icons ? <XMark height={32} width={32} /> : <X16 />}\n                </button>\n            </div>\n        );\n    }\n}\n\nexport default injectIntl(Notification);\n"],"mappings":"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","ignoreList":[]}