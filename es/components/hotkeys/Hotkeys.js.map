{"version":3,"file":"Hotkeys.js","names":["Children","Component","PropTypes","HotkeyPropType","Hotkeys","componentDidMount","configs","props","context","hotkeyLayer","Error","_addHotkeys","componentDidUpdate","prevProps","newConfigs","prevConfigs","additions","filter","config","indexOf","removals","_removeHotkeys","componentWillUnmount","hotkeyConfigs","forEach","hotkeyConfig","registerHotkey","deregisterHotkey","render","children","only","_defineProperty","node","arrayOf","isRequired","object"],"sources":["../../../src/components/hotkeys/Hotkeys.js"],"sourcesContent":["import { Children, Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { HotkeyPropType } from './HotkeyRecord';\n\nclass Hotkeys extends Component {\n    /* eslint-disable no-underscore-dangle */\n\n    static propTypes = {\n        children: PropTypes.node,\n        /** Array of hotkey configs, either in the specified shape, or instances of HotkeyRecord */\n        configs: PropTypes.arrayOf(HotkeyPropType).isRequired,\n    };\n\n    static contextTypes = {\n        hotkeyLayer: PropTypes.object,\n    };\n\n    componentDidMount() {\n        const { configs } = this.props;\n\n        if (!this.context.hotkeyLayer) {\n            throw new Error('You must instantiate a HotkeyLayer before using Hotkeys');\n        }\n\n        this._addHotkeys(configs);\n    }\n\n    componentDidUpdate(prevProps) {\n        const { configs: newConfigs } = this.props;\n        const { configs: prevConfigs } = prevProps;\n\n        const additions = newConfigs.filter(config => prevConfigs.indexOf(config) === -1);\n        const removals = prevConfigs.filter(config => newConfigs.indexOf(config) === -1);\n\n        this._removeHotkeys(removals);\n        this._addHotkeys(additions);\n    }\n\n    componentWillUnmount() {\n        const { configs } = this.props;\n\n        this._removeHotkeys(configs);\n    }\n\n    _addHotkeys(hotkeyConfigs) {\n        hotkeyConfigs.forEach(hotkeyConfig => this.context.hotkeyLayer.registerHotkey(hotkeyConfig));\n    }\n\n    _removeHotkeys(hotkeyConfigs) {\n        hotkeyConfigs.forEach(hotkeyConfig => this.context.hotkeyLayer.deregisterHotkey(hotkeyConfig));\n    }\n\n    render() {\n        if (!this.props.children) {\n            return null;\n        }\n        return Children.only(this.props.children);\n    }\n}\n\nexport default Hotkeys;\n"],"mappings":";;;AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,OAAOC,SAAS,MAAM,YAAY;AAElC,SAASC,cAAc,QAAQ,gBAAgB;AAE/C,MAAMC,OAAO,SAASH,SAAS,CAAC;EAa5BI,iBAAiBA,CAAA,EAAG;IAChB,MAAM;MAAEC;IAAQ,CAAC,GAAG,IAAI,CAACC,KAAK;IAE9B,IAAI,CAAC,IAAI,CAACC,OAAO,CAACC,WAAW,EAAE;MAC3B,MAAM,IAAIC,KAAK,CAAC,yDAAyD,CAAC;IAC9E;IAEA,IAAI,CAACC,WAAW,CAACL,OAAO,CAAC;EAC7B;EAEAM,kBAAkBA,CAACC,SAAS,EAAE;IAC1B,MAAM;MAAEP,OAAO,EAAEQ;IAAW,CAAC,GAAG,IAAI,CAACP,KAAK;IAC1C,MAAM;MAAED,OAAO,EAAES;IAAY,CAAC,GAAGF,SAAS;IAE1C,MAAMG,SAAS,GAAGF,UAAU,CAACG,MAAM,CAACC,MAAM,IAAIH,WAAW,CAACI,OAAO,CAACD,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;IACjF,MAAME,QAAQ,GAAGL,WAAW,CAACE,MAAM,CAACC,MAAM,IAAIJ,UAAU,CAACK,OAAO,CAACD,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;IAEhF,IAAI,CAACG,cAAc,CAACD,QAAQ,CAAC;IAC7B,IAAI,CAACT,WAAW,CAACK,SAAS,CAAC;EAC/B;EAEAM,oBAAoBA,CAAA,EAAG;IACnB,MAAM;MAAEhB;IAAQ,CAAC,GAAG,IAAI,CAACC,KAAK;IAE9B,IAAI,CAACc,cAAc,CAACf,OAAO,CAAC;EAChC;EAEAK,WAAWA,CAACY,aAAa,EAAE;IACvBA,aAAa,CAACC,OAAO,CAACC,YAAY,IAAI,IAAI,CAACjB,OAAO,CAACC,WAAW,CAACiB,cAAc,CAACD,YAAY,CAAC,CAAC;EAChG;EAEAJ,cAAcA,CAACE,aAAa,EAAE;IAC1BA,aAAa,CAACC,OAAO,CAACC,YAAY,IAAI,IAAI,CAACjB,OAAO,CAACC,WAAW,CAACkB,gBAAgB,CAACF,YAAY,CAAC,CAAC;EAClG;EAEAG,MAAMA,CAAA,EAAG;IACL,IAAI,CAAC,IAAI,CAACrB,KAAK,CAACsB,QAAQ,EAAE;MACtB,OAAO,IAAI;IACf;IACA,OAAO7B,QAAQ,CAAC8B,IAAI,CAAC,IAAI,CAACvB,KAAK,CAACsB,QAAQ,CAAC;EAC7C;AACJ;AArDI;AAAAE,eAAA,CADE3B,OAAO,eAGU;EACfyB,QAAQ,EAAE3B,SAAS,CAAC8B,IAAI;EACxB;EACA1B,OAAO,EAAEJ,SAAS,CAAC+B,OAAO,CAAC9B,cAAc,CAAC,CAAC+B;AAC/C,CAAC;AAAAH,eAAA,CAPC3B,OAAO,kBASa;EAClBK,WAAW,EAAEP,SAAS,CAACiC;AAC3B,CAAC;AA6CL,eAAe/B,OAAO","ignoreList":[]}