{"version":3,"file":"SelectField.js","names":["React","getProp","SingleSelectPrimitive","MultiSelectPrimitive","createFakeSyntheticEvent","name","value","currentTarget","target","onSelect","onChange","options","Array","isArray","map","option","SelectField","_ref","field","form","multiple","rest","_objectWithoutProperties","_excluded","errors","touched","isTouched","error","createElement","_extends","selectedValues","selectedValue"],"sources":["../../../src/components/select-field/SelectField.js"],"sourcesContent":["// @flow\n\nimport * as React from 'react';\nimport getProp from 'lodash/get';\nimport type { FieldProps } from 'formik';\n\nimport SingleSelectPrimitive from './SingleSelectField';\nimport MultiSelectPrimitive from './MultiSelectField';\n\nimport type { SelectOptionValueProp, SelectOptionProp } from './props';\n\ntype Props = {\n    multiple?: boolean,\n    options: Array<SelectOptionProp>,\n} & FieldProps;\n\nfunction createFakeSyntheticEvent(name: string, value: SelectOptionValueProp | Array<SelectOptionValueProp>) {\n    return {\n        currentTarget: { name, value },\n        target: { name, value },\n    };\n}\n\nfunction onSelect(name: string, onChange: Function, options: SelectOptionProp | Array<SelectOptionProp>) {\n    const value = Array.isArray(options) ? options.map(option => option.value) : options.value;\n    onChange(createFakeSyntheticEvent(name, value));\n}\n\nconst SelectField = ({ field, form, multiple, ...rest }: Props) => {\n    const { onChange, name, value } = field;\n    const { errors, touched } = form;\n    const isTouched = getProp(touched, name);\n    const error = isTouched ? getProp(errors, name) : null;\n\n    if (multiple) {\n        return (\n            <MultiSelectPrimitive\n                {...field}\n                {...rest}\n                error={error}\n                onChange={options => onSelect(name, onChange, options)}\n                options={rest.options}\n                selectedValues={value || []}\n            />\n        );\n    }\n\n    return (\n        <SingleSelectPrimitive\n            {...field}\n            {...rest}\n            error={error}\n            onChange={options => onSelect(name, onChange, options)}\n            options={rest.options}\n            selectedValue={value || null}\n        />\n    );\n};\n\nexport { onSelect };\nexport default SelectField;\n"],"mappings":";;;;AAEA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,OAAOC,OAAO,MAAM,YAAY;AAGhC,OAAOC,qBAAqB,MAAM,qBAAqB;AACvD,OAAOC,oBAAoB,MAAM,oBAAoB;AASrD,SAASC,wBAAwBA,CAACC,IAAY,EAAEC,KAA2D,EAAE;EACzG,OAAO;IACHC,aAAa,EAAE;MAAEF,IAAI;MAAEC;IAAM,CAAC;IAC9BE,MAAM,EAAE;MAAEH,IAAI;MAAEC;IAAM;EAC1B,CAAC;AACL;AAEA,SAASG,QAAQA,CAACJ,IAAY,EAAEK,QAAkB,EAAEC,OAAmD,EAAE;EACrG,MAAML,KAAK,GAAGM,KAAK,CAACC,OAAO,CAACF,OAAO,CAAC,GAAGA,OAAO,CAACG,GAAG,CAACC,MAAM,IAAIA,MAAM,CAACT,KAAK,CAAC,GAAGK,OAAO,CAACL,KAAK;EAC1FI,QAAQ,CAACN,wBAAwB,CAACC,IAAI,EAAEC,KAAK,CAAC,CAAC;AACnD;AAEA,MAAMU,WAAW,GAAGC,IAAA,IAA+C;EAAA,IAA9C;MAAEC,KAAK;MAAEC,IAAI;MAAEC;IAAyB,CAAC,GAAAH,IAAA;IAAbI,IAAI,GAAAC,wBAAA,CAAAL,IAAA,EAAAM,SAAA;EACjD,MAAM;IAAEb,QAAQ;IAAEL,IAAI;IAAEC;EAAM,CAAC,GAAGY,KAAK;EACvC,MAAM;IAAEM,MAAM;IAAEC;EAAQ,CAAC,GAAGN,IAAI;EAChC,MAAMO,SAAS,GAAGzB,OAAO,CAACwB,OAAO,EAAEpB,IAAI,CAAC;EACxC,MAAMsB,KAAK,GAAGD,SAAS,GAAGzB,OAAO,CAACuB,MAAM,EAAEnB,IAAI,CAAC,GAAG,IAAI;EAEtD,IAAIe,QAAQ,EAAE;IACV,oBACIpB,KAAA,CAAA4B,aAAA,CAACzB,oBAAoB,EAAA0B,QAAA,KACbX,KAAK,EACLG,IAAI;MACRM,KAAK,EAAEA,KAAM;MACbjB,QAAQ,EAAEC,OAAO,IAAIF,QAAQ,CAACJ,IAAI,EAAEK,QAAQ,EAAEC,OAAO,CAAE;MACvDA,OAAO,EAAEU,IAAI,CAACV,OAAQ;MACtBmB,cAAc,EAAExB,KAAK,IAAI;IAAG,EAC/B,CAAC;EAEV;EAEA,oBACIN,KAAA,CAAA4B,aAAA,CAAC1B,qBAAqB,EAAA2B,QAAA,KACdX,KAAK,EACLG,IAAI;IACRM,KAAK,EAAEA,KAAM;IACbjB,QAAQ,EAAEC,OAAO,IAAIF,QAAQ,CAACJ,IAAI,EAAEK,QAAQ,EAAEC,OAAO,CAAE;IACvDA,OAAO,EAAEU,IAAI,CAACV,OAAQ;IACtBoB,aAAa,EAAEzB,KAAK,IAAI;EAAK,EAChC,CAAC;AAEV,CAAC;AAED,SAASG,QAAQ;AACjB,eAAeO,WAAW","ignoreList":[]}