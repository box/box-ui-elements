{"version":3,"file":"RadarAnimation.js","names":["React","classNames","uniqueId","TetherComponent","TetherPosition","RadarAnimationPosition","positions","BOTTOM_CENTER","attachment","TOP_CENTER","targetAttachment","BOTTOM_LEFT","TOP_LEFT","BOTTOM_RIGHT","TOP_RIGHT","MIDDLE_CENTER","MIDDLE_LEFT","MIDDLE_RIGHT","RadarAnimation","Component","constructor","args","_defineProperty","createRef","isShown","props","tetherRef","current","position","render","_this$props","children","className","targetWrapperClassName","constrainToScrollParent","constrainToWindow","offset","tetherElementClassName","rest","_objectWithoutProperties","_excluded","constraints","push","to","child","Children","only","referenceElement","cloneElement","radarAnimationID","tetherProps","classPrefix","enabled","createElement","_extends","ref","renderTarget","renderElement","id"],"sources":["../../../src/components/radar/RadarAnimation.tsx"],"sourcesContent":["import * as React from 'react';\nimport classNames from 'classnames';\nimport uniqueId from 'lodash/uniqueId';\nimport TetherComponent, { type TetherProps } from 'react-tether';\n\nimport TetherPosition from '../../common/tether-positions';\n\nimport './RadarAnimation.scss';\n\nexport enum RadarAnimationPosition {\n    BOTTOM_CENTER = 'bottom-center',\n    BOTTOM_LEFT = 'bottom-left',\n    BOTTOM_RIGHT = 'bottom-right',\n    MIDDLE_CENTER = 'middle-center',\n    MIDDLE_LEFT = 'middle-left',\n    MIDDLE_RIGHT = 'middle-right',\n    TOP_CENTER = 'top-center',\n    TOP_LEFT = 'top-left',\n    TOP_RIGHT = 'top-right',\n}\n\nconst positions = {\n    [RadarAnimationPosition.BOTTOM_CENTER]: {\n        attachment: TetherPosition.TOP_CENTER,\n        targetAttachment: TetherPosition.BOTTOM_CENTER,\n    },\n    [RadarAnimationPosition.BOTTOM_LEFT]: {\n        attachment: TetherPosition.TOP_LEFT,\n        targetAttachment: TetherPosition.BOTTOM_LEFT,\n    },\n    [RadarAnimationPosition.BOTTOM_RIGHT]: {\n        attachment: TetherPosition.TOP_RIGHT,\n        targetAttachment: TetherPosition.BOTTOM_RIGHT,\n    },\n    [RadarAnimationPosition.MIDDLE_CENTER]: {\n        attachment: TetherPosition.MIDDLE_CENTER,\n        targetAttachment: TetherPosition.MIDDLE_CENTER,\n    },\n    [RadarAnimationPosition.MIDDLE_LEFT]: {\n        attachment: TetherPosition.MIDDLE_RIGHT,\n        targetAttachment: TetherPosition.MIDDLE_LEFT,\n    },\n    [RadarAnimationPosition.MIDDLE_RIGHT]: {\n        attachment: TetherPosition.MIDDLE_LEFT,\n        targetAttachment: TetherPosition.MIDDLE_RIGHT,\n    },\n    [RadarAnimationPosition.TOP_CENTER]: {\n        attachment: TetherPosition.BOTTOM_CENTER,\n        targetAttachment: TetherPosition.TOP_CENTER,\n    },\n    [RadarAnimationPosition.TOP_LEFT]: {\n        attachment: TetherPosition.BOTTOM_LEFT,\n        targetAttachment: TetherPosition.TOP_LEFT,\n    },\n    [RadarAnimationPosition.TOP_RIGHT]: {\n        attachment: TetherPosition.BOTTOM_RIGHT,\n        targetAttachment: TetherPosition.TOP_RIGHT,\n    },\n};\n\nexport interface RadarAnimationProps {\n    /** A React element to put the radar on */\n    children: React.ReactElement;\n    /** A CSS class for the radar */\n    className?: string;\n    /** Optional class name for the target wrapper element */\n    targetWrapperClassName?: string;\n    /** Whether to constrain the radar to the element's scroll parent. Defaults to `false` */\n    constrainToScrollParent: boolean;\n    /** Whether to constrain the radar to window. Defaults to `true` */\n    constrainToWindow: boolean;\n    /** Forces the radar to be shown or hidden - defaults to true */\n    isShown: boolean;\n    /** A string of the form 'vert-offset horiz-offset' which controls positioning */\n    offset?: string;\n    /** Where to position the radar relative to the wrapped component */\n    position: RadarAnimationPosition;\n    /** A CSS class for the tether element component */\n    tetherElementClassName?: string;\n}\n\nclass RadarAnimation extends React.Component<RadarAnimationProps> {\n    tetherRef = React.createRef<TetherComponent>();\n\n    radarAnimationID = uniqueId('radarAnimation');\n\n    static defaultProps = {\n        constrainToScrollParent: false,\n        constrainToWindow: true,\n        isShown: true,\n        position: RadarAnimationPosition.MIDDLE_RIGHT,\n    };\n\n    // Instance API: Forces the radar to be repositioned\n    position = () => {\n        const { isShown } = this.props;\n        if (this.tetherRef.current && isShown) {\n            this.tetherRef.current.position();\n        }\n    };\n\n    render() {\n        const {\n            children,\n            className = '',\n            targetWrapperClassName,\n            constrainToScrollParent,\n            constrainToWindow,\n            position,\n            isShown,\n            offset,\n            tetherElementClassName,\n            ...rest\n        } = this.props;\n\n        const constraints = [];\n        if (constrainToScrollParent) {\n            constraints.push({\n                to: 'scrollParent',\n                attachment: 'together',\n            });\n        }\n        if (constrainToWindow) {\n            constraints.push({\n                to: 'window',\n                attachment: 'together',\n            });\n        }\n\n        const { attachment, targetAttachment } = positions[position];\n        const child = React.Children.only(children);\n        const referenceElement = React.cloneElement(child as React.ReactElement, {\n            'aria-describedby': this.radarAnimationID,\n        });\n\n        const tetherProps: Pick<\n            TetherProps,\n            'attachment' | 'targetAttachment' | 'constraints' | 'classPrefix' | 'enabled'\n        > & {\n            offset?: string;\n            className?: string;\n        } = {\n            attachment,\n            classPrefix: 'radar-animation',\n            constraints,\n            enabled: isShown,\n            targetAttachment,\n        };\n\n        if (tetherElementClassName) {\n            tetherProps.className = tetherElementClassName;\n        }\n\n        if (offset) {\n            tetherProps.offset = offset;\n        }\n\n        return (\n            <TetherComponent\n                ref={this.tetherRef}\n                {...tetherProps}\n                renderTarget={ref => (\n                    <div ref={ref} className={classNames('bdl-RadarAnimation-target', targetWrapperClassName)}>\n                        {referenceElement}\n                    </div>\n                )}\n                renderElement={ref => (\n                    <div ref={ref} className={`radar ${className}`} id={this.radarAnimationID} {...rest}>\n                        <div className=\"radar-dot\" />\n                        <div className=\"radar-circle\" />\n                    </div>\n                )}\n            />\n        );\n    }\n}\n\nexport default RadarAnimation;\n"],"mappings":"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","ignoreList":[]}