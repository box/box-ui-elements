{"version":3,"file":"TabViewPrimitive.js","names":["React","classNames","omit","uniqueId","IconPageBack","IconPageForward","LinkButton","TAB_KEY","TAB_PANEL_ROLE","TabViewPrimitive","Component","constructor","props","_defineProperty","tabIndex","onTabFocus","onTabSelect","tabsElements","length","lastTabElement","offsetLeft","offsetWidth","tabsContainer","tabsContainerOffsetLeft","state","viewportOffset","parseInt","isDynamic","tabElementOfInterest","lastElementsAnchorPoint","getLastElementsAnchorPoint","tabsContainerWidth","getTabsContainerWidth","setState","newOffset","Math","min","newViewportOffset","getTabsContainerOffsetLeft","focusedIndex","selectedIndex","focus","event","children","resetFocusedTab","resetActiveTab","childrenCount","Children","count","key","calculateNextIndex","preventDefault","stopPropagation","calculatePrevIndex","currentIndex","tabviewID","componentDidMount","scrollToTab","componentDidUpdate","prevProps","prevFocusedIndex","prevSelectedIndex","focusOnTabElement","renderTabs","style","left","createElement","className","role","ref","onKeyDown","handleKeyDown","map","tab","i","buttonProps","classes","ariaControls","ariaSelected","id","href","component","refProp","linkRef","to","title","_extends","onClick","onClickTab","type","renderDynamicTabs","hidden","isLeftArrowVisible","isRightArrowVisible","render","onKeyUp","toArray","child"],"sources":["../../../src/components/tab-view/TabViewPrimitive.js"],"sourcesContent":["// @flow\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport omit from 'lodash/omit';\nimport uniqueId from 'lodash/uniqueId';\n\nimport IconPageBack from '../../icons/general/IconPageBack';\nimport IconPageForward from '../../icons/general/IconPageForward';\nimport LinkButton from '../link/LinkButton';\n\nimport './Tabs.scss';\n\nexport const TAB_KEY = 'Tab';\nexport const TAB_PANEL_ROLE = 'tabpanel';\n\ntype Props = {\n    children: React.Node,\n    className?: string,\n    focusedIndex: number,\n    isDynamic?: boolean,\n    onKeyUp?: Function,\n    onTabFocus: Function,\n    onTabSelect?: Function,\n    resetActiveTab: Function,\n    resetFocusedTab: Function,\n    selectedIndex: number,\n};\n\ntype State = {\n    tabsContainerOffsetLeft: number,\n};\n\nclass TabViewPrimitive extends React.Component<Props, State> {\n    constructor(props: Props) {\n        super(props);\n\n        this.tabviewID = uniqueId('tabview');\n\n        this.state = {\n            tabsContainerOffsetLeft: 0,\n        };\n    }\n\n    componentDidMount() {\n        const { isDynamic, focusedIndex } = this.props;\n        if (isDynamic) {\n            // set initial tabsContainerOffsetLeft state after first mounting\n            this.scrollToTab(focusedIndex);\n        }\n    }\n\n    componentDidUpdate(prevProps: Props) {\n        const { focusedIndex: prevFocusedIndex, selectedIndex: prevSelectedIndex } = prevProps;\n        const { focusedIndex, selectedIndex } = this.props;\n\n        if (this.props.isDynamic) {\n            if (prevFocusedIndex !== focusedIndex) {\n                this.scrollToTab(focusedIndex);\n            }\n\n            // update tabsContainerOffsetLeft state when receiving a new prop\n            if (prevSelectedIndex !== selectedIndex) {\n                this.scrollToTab(selectedIndex);\n            }\n        }\n\n        if (prevFocusedIndex !== focusedIndex) {\n            // have to focus after render otherwise, the focus will be lost\n            this.focusOnTabElement(focusedIndex);\n        }\n    }\n\n    onClickTab = (tabIndex: number) => {\n        const { onTabFocus, onTabSelect } = this.props;\n        if (onTabSelect) {\n            onTabSelect(tabIndex);\n        }\n        onTabFocus(tabIndex);\n    };\n\n    getLastElementsAnchorPoint = () => {\n        if (this.tabsElements.length === 0) {\n            return 0;\n        }\n\n        const lastTabElement = this.tabsElements[this.tabsElements.length - 1];\n        return lastTabElement.offsetLeft + lastTabElement.offsetWidth;\n    };\n\n    getTabsContainerOffsetLeft = () => {\n        if (!this.tabsContainer) {\n            return 0;\n        }\n\n        const { tabsContainerOffsetLeft } = this.state;\n        let viewportOffset = parseInt(tabsContainerOffsetLeft, 10) * -1;\n        viewportOffset = viewportOffset || 0;\n        return viewportOffset;\n    };\n\n    getTabsContainerWidth = () => (this.tabsContainer ? parseInt(this.tabsContainer.offsetWidth, 10) : 0);\n\n    tabviewID: string;\n\n    scrollToTab = (tabIndex: number) => {\n        if (\n            !this.props.isDynamic ||\n            this.tabsContainer === null ||\n            this.tabsElements.length === 0 ||\n            tabIndex < 0 ||\n            tabIndex > this.tabsElements.length - 1\n        ) {\n            return;\n        }\n\n        const tabElementOfInterest = this.tabsElements[tabIndex];\n        const lastElementsAnchorPoint = this.getLastElementsAnchorPoint();\n\n        // if tabs don't overflow at all, no need to scroll\n        const tabsContainerWidth = this.getTabsContainerWidth();\n        if (lastElementsAnchorPoint <= tabsContainerWidth) {\n            this.setState({ tabsContainerOffsetLeft: 0 });\n            return;\n        }\n\n        // do not scroll any more if we will go past the rightmost anchor\n        const newOffset = Math.min(lastElementsAnchorPoint - tabsContainerWidth, tabElementOfInterest.offsetLeft);\n\n        // move the viewport\n        const newViewportOffset = -1 * newOffset;\n        this.setState({ tabsContainerOffsetLeft: newViewportOffset });\n    };\n\n    isRightArrowVisible = () => {\n        if (!this.tabsContainer) {\n            return false;\n        }\n\n        const tabsContainerOffsetLeft = this.getTabsContainerOffsetLeft();\n        const lastElementsAnchorPoint = this.getLastElementsAnchorPoint();\n        const tabsContainerWidth = this.getTabsContainerWidth();\n\n        return tabsContainerOffsetLeft + tabsContainerWidth < lastElementsAnchorPoint;\n    };\n\n    isLeftArrowVisible = () => {\n        const { focusedIndex, selectedIndex } = this.props;\n        const tabsContainerOffsetLeft = this.getTabsContainerOffsetLeft();\n\n        return tabsContainerOffsetLeft !== 0 && (selectedIndex !== 0 || focusedIndex !== 0);\n    };\n\n    focusOnTabElement = (focusedIndex: number) => {\n        if (focusedIndex + 1 > this.tabsElements.length || focusedIndex < 0) {\n            return;\n        }\n\n        this.tabsElements[focusedIndex].focus();\n    };\n\n    tabsElements = [];\n\n    tabsContainer = null;\n\n    handleKeyDown = (event: SyntheticKeyboardEvent<>) => {\n        const { children, focusedIndex, onTabFocus, resetFocusedTab, resetActiveTab } = this.props;\n        const childrenCount = React.Children.count(children);\n\n        switch (event.key) {\n            case 'ArrowRight':\n                onTabFocus(this.calculateNextIndex(focusedIndex, childrenCount));\n                event.preventDefault();\n                event.stopPropagation();\n                break;\n\n            case 'ArrowLeft':\n                onTabFocus(this.calculatePrevIndex(focusedIndex, childrenCount));\n                event.preventDefault();\n                event.stopPropagation();\n                break;\n\n            case 'Escape':\n                resetActiveTab();\n                break;\n\n            case TAB_KEY:\n                resetFocusedTab();\n                break;\n\n            default:\n                break;\n        }\n    };\n\n    calculateNextIndex = (currentIndex: number, childrenCount: number) => (currentIndex + 1) % childrenCount;\n\n    calculatePrevIndex = (currentIndex: number, childrenCount: number) =>\n        (currentIndex - 1 + childrenCount) % childrenCount;\n\n    /* eslint-disable jsx-a11y/no-noninteractive-element-to-interactive-role */\n    renderTabs() {\n        const { children, selectedIndex, isDynamic } = this.props;\n        const { tabsContainerOffsetLeft } = this.state;\n\n        const style = isDynamic ? { left: `${tabsContainerOffsetLeft}px` } : {};\n\n        return (\n            <div\n                className=\"tabs\"\n                role=\"tablist\"\n                tabIndex=\"0\"\n                ref={ref => {\n                    this.tabsContainer = ref;\n                }}\n                style={style}\n                onKeyDown={!isDynamic ? this.handleKeyDown : null}\n            >\n                {React.Children.map(children, (tab, i) => {\n                    const buttonProps = omit(tab.props, ['className', 'children', 'title']);\n\n                    const classes = classNames('btn-plain', 'tab', i === selectedIndex ? 'is-selected' : '');\n\n                    const ariaControls = `${this.tabviewID}-panel-${i + 1}`;\n                    const ariaSelected = i === selectedIndex;\n                    const id = `${this.tabviewID}-tab-${i + 1}`;\n                    const { href, component, refProp } = tab.props;\n\n                    const tabIndex = i === selectedIndex ? '0' : '-1';\n\n                    if (href) {\n                        return (\n                            <LinkButton\n                                className={classes}\n                                aria-controls={ariaControls}\n                                aria-selected={ariaSelected}\n                                id={id}\n                                role=\"tab\"\n                                href={href}\n                                linkRef={ref => {\n                                    this.tabsElements[i] = ref;\n                                }}\n                                refProp={refProp}\n                                tabIndex={tabIndex}\n                                to={href}\n                                component={component}\n                            >\n                                <div className=\"tab-title\">{tab.props.title}</div>\n                                <div className=\"tab-underline\" />\n                            </LinkButton>\n                        );\n                    }\n                    return (\n                        <button\n                            className={classes}\n                            aria-controls={ariaControls}\n                            aria-selected={ariaSelected}\n                            onClick={() => this.onClickTab(i)}\n                            role=\"tab\"\n                            type=\"button\"\n                            id={id}\n                            ref={ref => {\n                                this.tabsElements[i] = ref;\n                            }}\n                            tabIndex={tabIndex}\n                            {...buttonProps}\n                        >\n                            <div className=\"tab-title\">{tab.props.title}</div>\n                            <div className=\"tab-underline\" />\n                        </button>\n                    );\n                })}\n            </div>\n        );\n    }\n\n    /* eslint-enable jsx-a11y/no-noninteractive-element-to-interactive-role */\n    renderDynamicTabs() {\n        const { onTabFocus, focusedIndex } = this.props;\n        return (\n            // eslint-disable-next-line jsx-a11y/no-static-element-interactions\n            <div className=\"dynamic-tabs-bar\" onKeyDown={this.handleKeyDown}>\n                <button\n                    className={classNames('btn-plain svg-container left-arrow', {\n                        hidden: !this.isLeftArrowVisible(),\n                    })}\n                    onClick={() => onTabFocus(focusedIndex - 1)}\n                    type=\"button\"\n                    tabIndex=\"-1\"\n                >\n                    <IconPageBack />\n                </button>\n                <div className=\"dynamic-tabs-wrapper\">{this.renderTabs()}</div>\n                <button\n                    className={classNames('btn-plain svg-container right-arrow', {\n                        hidden: !this.isRightArrowVisible(),\n                    })}\n                    onClick={() => onTabFocus(focusedIndex + 1)}\n                    type=\"button\"\n                    tabIndex=\"-1\"\n                >\n                    <IconPageForward />\n                </button>\n            </div>\n        );\n    }\n\n    render() {\n        const { children, className = '', isDynamic = false, onKeyUp, selectedIndex } = this.props;\n        return (\n            // eslint-disable-next-line jsx-a11y/no-static-element-interactions\n            <div\n                className={`tab-view ${classNames(className, {\n                    'dynamic-tabs': isDynamic,\n                })}`}\n                onKeyUp={onKeyUp}\n            >\n                {!isDynamic ? this.renderTabs() : this.renderDynamicTabs()}\n                <div className=\"tab-panels\">\n                    {React.Children.toArray(children).map((child, i) => (\n                        <div\n                            key={i}\n                            id={`${this.tabviewID}-panel-${i}`}\n                            aria-labelledby={`${this.tabviewID}-tab-${i + 1}`}\n                            aria-hidden={selectedIndex !== i}\n                            className={`tab-panel ${i === selectedIndex ? 'is-selected' : ''}`}\n                            role={TAB_PANEL_ROLE}\n                        >\n                            {child.props.children}\n                        </div>\n                    ))}\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default TabViewPrimitive;\n"],"mappings":";;;;AACA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,OAAOC,UAAU,MAAM,YAAY;AACnC,OAAOC,IAAI,MAAM,aAAa;AAC9B,OAAOC,QAAQ,MAAM,iBAAiB;AAEtC,OAAOC,YAAY,MAAM,kCAAkC;AAC3D,OAAOC,eAAe,MAAM,qCAAqC;AACjE,OAAOC,UAAU,MAAM,oBAAoB;AAE3C,OAAO,aAAa;AAEpB,OAAO,MAAMC,OAAO,GAAG,KAAK;AAC5B,OAAO,MAAMC,cAAc,GAAG,UAAU;AAmBxC,MAAMC,gBAAgB,SAAST,KAAK,CAACU,SAAS,CAAe;EACzDC,WAAWA,CAACC,KAAY,EAAE;IACtB,KAAK,CAACA,KAAK,CAAC;IAACC,eAAA,qBAsCHC,QAAgB,IAAK;MAC/B,MAAM;QAAEC,UAAU;QAAEC;MAAY,CAAC,GAAG,IAAI,CAACJ,KAAK;MAC9C,IAAII,WAAW,EAAE;QACbA,WAAW,CAACF,QAAQ,CAAC;MACzB;MACAC,UAAU,CAACD,QAAQ,CAAC;IACxB,CAAC;IAAAD,eAAA,qCAE4B,MAAM;MAC/B,IAAI,IAAI,CAACI,YAAY,CAACC,MAAM,KAAK,CAAC,EAAE;QAChC,OAAO,CAAC;MACZ;MAEA,MAAMC,cAAc,GAAG,IAAI,CAACF,YAAY,CAAC,IAAI,CAACA,YAAY,CAACC,MAAM,GAAG,CAAC,CAAC;MACtE,OAAOC,cAAc,CAACC,UAAU,GAAGD,cAAc,CAACE,WAAW;IACjE,CAAC;IAAAR,eAAA,qCAE4B,MAAM;MAC/B,IAAI,CAAC,IAAI,CAACS,aAAa,EAAE;QACrB,OAAO,CAAC;MACZ;MAEA,MAAM;QAAEC;MAAwB,CAAC,GAAG,IAAI,CAACC,KAAK;MAC9C,IAAIC,cAAc,GAAGC,QAAQ,CAACH,uBAAuB,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC;MAC/DE,cAAc,GAAGA,cAAc,IAAI,CAAC;MACpC,OAAOA,cAAc;IACzB,CAAC;IAAAZ,eAAA,gCAEuB,MAAO,IAAI,CAACS,aAAa,GAAGI,QAAQ,CAAC,IAAI,CAACJ,aAAa,CAACD,WAAW,EAAE,EAAE,CAAC,GAAG,CAAE;IAAAR,eAAA,sBAItFC,QAAgB,IAAK;MAChC,IACI,CAAC,IAAI,CAACF,KAAK,CAACe,SAAS,IACrB,IAAI,CAACL,aAAa,KAAK,IAAI,IAC3B,IAAI,CAACL,YAAY,CAACC,MAAM,KAAK,CAAC,IAC9BJ,QAAQ,GAAG,CAAC,IACZA,QAAQ,GAAG,IAAI,CAACG,YAAY,CAACC,MAAM,GAAG,CAAC,EACzC;QACE;MACJ;MAEA,MAAMU,oBAAoB,GAAG,IAAI,CAACX,YAAY,CAACH,QAAQ,CAAC;MACxD,MAAMe,uBAAuB,GAAG,IAAI,CAACC,0BAA0B,CAAC,CAAC;;MAEjE;MACA,MAAMC,kBAAkB,GAAG,IAAI,CAACC,qBAAqB,CAAC,CAAC;MACvD,IAAIH,uBAAuB,IAAIE,kBAAkB,EAAE;QAC/C,IAAI,CAACE,QAAQ,CAAC;UAAEV,uBAAuB,EAAE;QAAE,CAAC,CAAC;QAC7C;MACJ;;MAEA;MACA,MAAMW,SAAS,GAAGC,IAAI,CAACC,GAAG,CAACP,uBAAuB,GAAGE,kBAAkB,EAAEH,oBAAoB,CAACR,UAAU,CAAC;;MAEzG;MACA,MAAMiB,iBAAiB,GAAG,CAAC,CAAC,GAAGH,SAAS;MACxC,IAAI,CAACD,QAAQ,CAAC;QAAEV,uBAAuB,EAAEc;MAAkB,CAAC,CAAC;IACjE,CAAC;IAAAxB,eAAA,8BAEqB,MAAM;MACxB,IAAI,CAAC,IAAI,CAACS,aAAa,EAAE;QACrB,OAAO,KAAK;MAChB;MAEA,MAAMC,uBAAuB,GAAG,IAAI,CAACe,0BAA0B,CAAC,CAAC;MACjE,MAAMT,uBAAuB,GAAG,IAAI,CAACC,0BAA0B,CAAC,CAAC;MACjE,MAAMC,kBAAkB,GAAG,IAAI,CAACC,qBAAqB,CAAC,CAAC;MAEvD,OAAOT,uBAAuB,GAAGQ,kBAAkB,GAAGF,uBAAuB;IACjF,CAAC;IAAAhB,eAAA,6BAEoB,MAAM;MACvB,MAAM;QAAE0B,YAAY;QAAEC;MAAc,CAAC,GAAG,IAAI,CAAC5B,KAAK;MAClD,MAAMW,uBAAuB,GAAG,IAAI,CAACe,0BAA0B,CAAC,CAAC;MAEjE,OAAOf,uBAAuB,KAAK,CAAC,KAAKiB,aAAa,KAAK,CAAC,IAAID,YAAY,KAAK,CAAC,CAAC;IACvF,CAAC;IAAA1B,eAAA,4BAEoB0B,YAAoB,IAAK;MAC1C,IAAIA,YAAY,GAAG,CAAC,GAAG,IAAI,CAACtB,YAAY,CAACC,MAAM,IAAIqB,YAAY,GAAG,CAAC,EAAE;QACjE;MACJ;MAEA,IAAI,CAACtB,YAAY,CAACsB,YAAY,CAAC,CAACE,KAAK,CAAC,CAAC;IAC3C,CAAC;IAAA5B,eAAA,uBAEc,EAAE;IAAAA,eAAA,wBAED,IAAI;IAAAA,eAAA,wBAEH6B,KAA+B,IAAK;MACjD,MAAM;QAAEC,QAAQ;QAAEJ,YAAY;QAAExB,UAAU;QAAE6B,eAAe;QAAEC;MAAe,CAAC,GAAG,IAAI,CAACjC,KAAK;MAC1F,MAAMkC,aAAa,GAAG9C,KAAK,CAAC+C,QAAQ,CAACC,KAAK,CAACL,QAAQ,CAAC;MAEpD,QAAQD,KAAK,CAACO,GAAG;QACb,KAAK,YAAY;UACblC,UAAU,CAAC,IAAI,CAACmC,kBAAkB,CAACX,YAAY,EAAEO,aAAa,CAAC,CAAC;UAChEJ,KAAK,CAACS,cAAc,CAAC,CAAC;UACtBT,KAAK,CAACU,eAAe,CAAC,CAAC;UACvB;QAEJ,KAAK,WAAW;UACZrC,UAAU,CAAC,IAAI,CAACsC,kBAAkB,CAACd,YAAY,EAAEO,aAAa,CAAC,CAAC;UAChEJ,KAAK,CAACS,cAAc,CAAC,CAAC;UACtBT,KAAK,CAACU,eAAe,CAAC,CAAC;UACvB;QAEJ,KAAK,QAAQ;UACTP,cAAc,CAAC,CAAC;UAChB;QAEJ,KAAKtC,OAAO;UACRqC,eAAe,CAAC,CAAC;UACjB;QAEJ;UACI;MACR;IACJ,CAAC;IAAA/B,eAAA,6BAEoB,CAACyC,YAAoB,EAAER,aAAqB,KAAK,CAACQ,YAAY,GAAG,CAAC,IAAIR,aAAa;IAAAjC,eAAA,6BAEnF,CAACyC,YAAoB,EAAER,aAAqB,KAC7D,CAACQ,YAAY,GAAG,CAAC,GAAGR,aAAa,IAAIA,aAAa;IAjKlD,IAAI,CAACS,SAAS,GAAGpD,QAAQ,CAAC,SAAS,CAAC;IAEpC,IAAI,CAACqB,KAAK,GAAG;MACTD,uBAAuB,EAAE;IAC7B,CAAC;EACL;EAEAiC,iBAAiBA,CAAA,EAAG;IAChB,MAAM;MAAE7B,SAAS;MAAEY;IAAa,CAAC,GAAG,IAAI,CAAC3B,KAAK;IAC9C,IAAIe,SAAS,EAAE;MACX;MACA,IAAI,CAAC8B,WAAW,CAAClB,YAAY,CAAC;IAClC;EACJ;EAEAmB,kBAAkBA,CAACC,SAAgB,EAAE;IACjC,MAAM;MAAEpB,YAAY,EAAEqB,gBAAgB;MAAEpB,aAAa,EAAEqB;IAAkB,CAAC,GAAGF,SAAS;IACtF,MAAM;MAAEpB,YAAY;MAAEC;IAAc,CAAC,GAAG,IAAI,CAAC5B,KAAK;IAElD,IAAI,IAAI,CAACA,KAAK,CAACe,SAAS,EAAE;MACtB,IAAIiC,gBAAgB,KAAKrB,YAAY,EAAE;QACnC,IAAI,CAACkB,WAAW,CAAClB,YAAY,CAAC;MAClC;;MAEA;MACA,IAAIsB,iBAAiB,KAAKrB,aAAa,EAAE;QACrC,IAAI,CAACiB,WAAW,CAACjB,aAAa,CAAC;MACnC;IACJ;IAEA,IAAIoB,gBAAgB,KAAKrB,YAAY,EAAE;MACnC;MACA,IAAI,CAACuB,iBAAiB,CAACvB,YAAY,CAAC;IACxC;EACJ;EAiIA;EACAwB,UAAUA,CAAA,EAAG;IACT,MAAM;MAAEpB,QAAQ;MAAEH,aAAa;MAAEb;IAAU,CAAC,GAAG,IAAI,CAACf,KAAK;IACzD,MAAM;MAAEW;IAAwB,CAAC,GAAG,IAAI,CAACC,KAAK;IAE9C,MAAMwC,KAAK,GAAGrC,SAAS,GAAG;MAAEsC,IAAI,EAAE,GAAG1C,uBAAuB;IAAK,CAAC,GAAG,CAAC,CAAC;IAEvE,oBACIvB,KAAA,CAAAkE,aAAA;MACIC,SAAS,EAAC,MAAM;MAChBC,IAAI,EAAC,SAAS;MACdtD,QAAQ,EAAC,GAAG;MACZuD,GAAG,EAAEA,GAAG,IAAI;QACR,IAAI,CAAC/C,aAAa,GAAG+C,GAAG;MAC5B,CAAE;MACFL,KAAK,EAAEA,KAAM;MACbM,SAAS,EAAE,CAAC3C,SAAS,GAAG,IAAI,CAAC4C,aAAa,GAAG;IAAK,GAEjDvE,KAAK,CAAC+C,QAAQ,CAACyB,GAAG,CAAC7B,QAAQ,EAAE,CAAC8B,GAAG,EAAEC,CAAC,KAAK;MACtC,MAAMC,WAAW,GAAGzE,IAAI,CAACuE,GAAG,CAAC7D,KAAK,EAAE,CAAC,WAAW,EAAE,UAAU,EAAE,OAAO,CAAC,CAAC;MAEvE,MAAMgE,OAAO,GAAG3E,UAAU,CAAC,WAAW,EAAE,KAAK,EAAEyE,CAAC,KAAKlC,aAAa,GAAG,aAAa,GAAG,EAAE,CAAC;MAExF,MAAMqC,YAAY,GAAG,GAAG,IAAI,CAACtB,SAAS,UAAUmB,CAAC,GAAG,CAAC,EAAE;MACvD,MAAMI,YAAY,GAAGJ,CAAC,KAAKlC,aAAa;MACxC,MAAMuC,EAAE,GAAG,GAAG,IAAI,CAACxB,SAAS,QAAQmB,CAAC,GAAG,CAAC,EAAE;MAC3C,MAAM;QAAEM,IAAI;QAAEC,SAAS;QAAEC;MAAQ,CAAC,GAAGT,GAAG,CAAC7D,KAAK;MAE9C,MAAME,QAAQ,GAAG4D,CAAC,KAAKlC,aAAa,GAAG,GAAG,GAAG,IAAI;MAEjD,IAAIwC,IAAI,EAAE;QACN,oBACIhF,KAAA,CAAAkE,aAAA,CAAC5D,UAAU;UACP6D,SAAS,EAAES,OAAQ;UACnB,iBAAeC,YAAa;UAC5B,iBAAeC,YAAa;UAC5BC,EAAE,EAAEA,EAAG;UACPX,IAAI,EAAC,KAAK;UACVY,IAAI,EAAEA,IAAK;UACXG,OAAO,EAAEd,GAAG,IAAI;YACZ,IAAI,CAACpD,YAAY,CAACyD,CAAC,CAAC,GAAGL,GAAG;UAC9B,CAAE;UACFa,OAAO,EAAEA,OAAQ;UACjBpE,QAAQ,EAAEA,QAAS;UACnBsE,EAAE,EAAEJ,IAAK;UACTC,SAAS,EAAEA;QAAU,gBAErBjF,KAAA,CAAAkE,aAAA;UAAKC,SAAS,EAAC;QAAW,GAAEM,GAAG,CAAC7D,KAAK,CAACyE,KAAW,CAAC,eAClDrF,KAAA,CAAAkE,aAAA;UAAKC,SAAS,EAAC;QAAe,CAAE,CACxB,CAAC;MAErB;MACA,oBACInE,KAAA,CAAAkE,aAAA,WAAAoB,QAAA;QACInB,SAAS,EAAES,OAAQ;QACnB,iBAAeC,YAAa;QAC5B,iBAAeC,YAAa;QAC5BS,OAAO,EAAEA,CAAA,KAAM,IAAI,CAACC,UAAU,CAACd,CAAC,CAAE;QAClCN,IAAI,EAAC,KAAK;QACVqB,IAAI,EAAC,QAAQ;QACbV,EAAE,EAAEA,EAAG;QACPV,GAAG,EAAEA,GAAG,IAAI;UACR,IAAI,CAACpD,YAAY,CAACyD,CAAC,CAAC,GAAGL,GAAG;QAC9B,CAAE;QACFvD,QAAQ,EAAEA;MAAS,GACf6D,WAAW,gBAEf3E,KAAA,CAAAkE,aAAA;QAAKC,SAAS,EAAC;MAAW,GAAEM,GAAG,CAAC7D,KAAK,CAACyE,KAAW,CAAC,eAClDrF,KAAA,CAAAkE,aAAA;QAAKC,SAAS,EAAC;MAAe,CAAE,CAC5B,CAAC;IAEjB,CAAC,CACA,CAAC;EAEd;;EAEA;EACAuB,iBAAiBA,CAAA,EAAG;IAChB,MAAM;MAAE3E,UAAU;MAAEwB;IAAa,CAAC,GAAG,IAAI,CAAC3B,KAAK;IAC/C;MAAA;MACI;MACAZ,KAAA,CAAAkE,aAAA;QAAKC,SAAS,EAAC,kBAAkB;QAACG,SAAS,EAAE,IAAI,CAACC;MAAc,gBAC5DvE,KAAA,CAAAkE,aAAA;QACIC,SAAS,EAAElE,UAAU,CAAC,oCAAoC,EAAE;UACxD0F,MAAM,EAAE,CAAC,IAAI,CAACC,kBAAkB,CAAC;QACrC,CAAC,CAAE;QACHL,OAAO,EAAEA,CAAA,KAAMxE,UAAU,CAACwB,YAAY,GAAG,CAAC,CAAE;QAC5CkD,IAAI,EAAC,QAAQ;QACb3E,QAAQ,EAAC;MAAI,gBAEbd,KAAA,CAAAkE,aAAA,CAAC9D,YAAY,MAAE,CACX,CAAC,eACTJ,KAAA,CAAAkE,aAAA;QAAKC,SAAS,EAAC;MAAsB,GAAE,IAAI,CAACJ,UAAU,CAAC,CAAO,CAAC,eAC/D/D,KAAA,CAAAkE,aAAA;QACIC,SAAS,EAAElE,UAAU,CAAC,qCAAqC,EAAE;UACzD0F,MAAM,EAAE,CAAC,IAAI,CAACE,mBAAmB,CAAC;QACtC,CAAC,CAAE;QACHN,OAAO,EAAEA,CAAA,KAAMxE,UAAU,CAACwB,YAAY,GAAG,CAAC,CAAE;QAC5CkD,IAAI,EAAC,QAAQ;QACb3E,QAAQ,EAAC;MAAI,gBAEbd,KAAA,CAAAkE,aAAA,CAAC7D,eAAe,MAAE,CACd,CACP;IAAC;EAEd;EAEAyF,MAAMA,CAAA,EAAG;IACL,MAAM;MAAEnD,QAAQ;MAAEwB,SAAS,GAAG,EAAE;MAAExC,SAAS,GAAG,KAAK;MAAEoE,OAAO;MAAEvD;IAAc,CAAC,GAAG,IAAI,CAAC5B,KAAK;IAC1F;MAAA;MACI;MACAZ,KAAA,CAAAkE,aAAA;QACIC,SAAS,EAAE,YAAYlE,UAAU,CAACkE,SAAS,EAAE;UACzC,cAAc,EAAExC;QACpB,CAAC,CAAC,EAAG;QACLoE,OAAO,EAAEA;MAAQ,GAEhB,CAACpE,SAAS,GAAG,IAAI,CAACoC,UAAU,CAAC,CAAC,GAAG,IAAI,CAAC2B,iBAAiB,CAAC,CAAC,eAC1D1F,KAAA,CAAAkE,aAAA;QAAKC,SAAS,EAAC;MAAY,GACtBnE,KAAK,CAAC+C,QAAQ,CAACiD,OAAO,CAACrD,QAAQ,CAAC,CAAC6B,GAAG,CAAC,CAACyB,KAAK,EAAEvB,CAAC,kBAC3C1E,KAAA,CAAAkE,aAAA;QACIjB,GAAG,EAAEyB,CAAE;QACPK,EAAE,EAAE,GAAG,IAAI,CAACxB,SAAS,UAAUmB,CAAC,EAAG;QACnC,mBAAiB,GAAG,IAAI,CAACnB,SAAS,QAAQmB,CAAC,GAAG,CAAC,EAAG;QAClD,eAAalC,aAAa,KAAKkC,CAAE;QACjCP,SAAS,EAAE,aAAaO,CAAC,KAAKlC,aAAa,GAAG,aAAa,GAAG,EAAE,EAAG;QACnE4B,IAAI,EAAE5D;MAAe,GAEpByF,KAAK,CAACrF,KAAK,CAAC+B,QACZ,CACR,CACA,CACJ;IAAC;EAEd;AACJ;AAEA,eAAelC,gBAAgB","ignoreList":[]}