{"version":3,"file":"ItemProperties.js","names":["React","PropTypes","uniqueid","FormattedDate","FormattedMessage","Text","ITEM_TYPE_FOLDER","EditableDescription","EditableURL","RetentionPolicy","ReadonlyDescription","messages","datetimeOptions","year","month","day","hour","minute","ItemProperties","archivedAt","createdAt","description","descriptionTextareaProps","enterpriseOwner","modifiedAt","onDescriptionChange","onValidURLChange","owner","retentionPolicyProps","size","filesCount","trashedAt","type","uploader","url","descriptionId","createElement","className","Fragment","text","id","textAreaProps","_objectSpread","value","_extends","tagName","created","Date","modified","archived","values","filesCountLabel","deleted","propTypes","oneOfType","number","string","object","func"],"sources":["../../../src/features/item-details/ItemProperties.js"],"sourcesContent":["import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport uniqueid from 'lodash/uniqueId';\nimport { FormattedDate, FormattedMessage } from 'react-intl';\nimport { Text } from '@box/blueprint-web';\nimport { ITEM_TYPE_FOLDER } from '../../common/constants';\n\nimport EditableDescription from './EditableDescription';\nimport EditableURL from './EditableURL';\nimport RetentionPolicy from './RetentionPolicy';\nimport ReadonlyDescription from './ReadonlyDescription';\nimport messages from './messages';\n\nimport './ItemProperties.scss';\n\nconst datetimeOptions = {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric',\n    hour: 'numeric',\n    minute: 'numeric',\n};\n\nconst ItemProperties = ({\n    archivedAt,\n    createdAt,\n    description,\n    descriptionTextareaProps = {},\n    enterpriseOwner,\n    modifiedAt,\n    onDescriptionChange,\n    onValidURLChange,\n    owner,\n    retentionPolicyProps = {},\n    size,\n    filesCount,\n    trashedAt,\n    type,\n    uploader,\n    url,\n}) => {\n    const descriptionId = uniqueid('description_');\n\n    return (\n        <dl className=\"item-properties\" data-testid=\"item-properties\">\n            {description || onDescriptionChange ? (\n                <>\n                    <FormattedMessage {...messages.description}>\n                        {text => <dt id={descriptionId}>{text}</dt>}\n                    </FormattedMessage>\n                    <dd>\n                        {onDescriptionChange ? (\n                            <EditableDescription\n                                onDescriptionChange={onDescriptionChange}\n                                textAreaProps={{ ...descriptionTextareaProps, 'aria-labelledby': descriptionId }}\n                                value={description}\n                            />\n                        ) : (\n                            <ReadonlyDescription value={description} />\n                        )}\n                    </dd>\n                </>\n            ) : null}\n            {!!url && (\n                <>\n                    <FormattedMessage tagName=\"dt\" {...messages.url} />\n                    <dd>{onValidURLChange ? <EditableURL onValidURLChange={onValidURLChange} value={url} /> : url}</dd>\n                </>\n            )}\n            {owner ? (\n                <>\n                    <FormattedMessage tagName=\"dt\" {...messages.owner} />\n                    <dd>{owner}</dd>\n                </>\n            ) : null}\n            {enterpriseOwner ? (\n                <>\n                    <FormattedMessage tagName=\"dt\" {...messages.enterpriseOwner} />\n                    <dd>{enterpriseOwner}</dd>\n                </>\n            ) : null}\n            {uploader ? (\n                <>\n                    <FormattedMessage tagName=\"dt\" {...messages.uploader} />\n                    <dd>{uploader}</dd>\n                </>\n            ) : null}\n            {createdAt ? (\n                <>\n                    <FormattedMessage tagName=\"dt\" {...messages.created} />\n                    <dd>\n                        <FormattedDate value={new Date(createdAt)} {...datetimeOptions} />\n                    </dd>\n                </>\n            ) : null}\n            {modifiedAt ? (\n                <>\n                    <FormattedMessage tagName=\"dt\" {...messages.modified} />\n                    <dd>\n                        <FormattedDate value={new Date(modifiedAt)} {...datetimeOptions} />\n                    </dd>\n                </>\n            ) : null}\n            {archivedAt ? (\n                <>\n                    <FormattedMessage tagName=\"dt\" {...messages.archived} />\n                    <dd>\n                        <FormattedDate value={new Date(archivedAt)} {...datetimeOptions} />\n                    </dd>\n                </>\n            ) : null}\n            {size ? (\n                <>\n                    <FormattedMessage tagName=\"dt\" {...messages.size} />\n                    <dd>\n                        <Text>{size}</Text>\n                        {typeof filesCount === 'number' && type === ITEM_TYPE_FOLDER ? (\n                            <FormattedMessage values={{ filesCount }} {...messages.filesCountLabel} />\n                        ) : null}\n                    </dd>\n                </>\n            ) : null}\n            {trashedAt ? (\n                <>\n                    <FormattedMessage tagName=\"dt\" {...messages.deleted} />\n                    <dd>\n                        <FormattedDate value={new Date(trashedAt)} {...datetimeOptions} />\n                    </dd>\n                </>\n            ) : null}\n            <RetentionPolicy {...retentionPolicyProps} />\n        </dl>\n    );\n};\n\nItemProperties.propTypes = {\n    /** the datetime this item was archived, accepts any value that can be passed to the Date() constructor */\n    archivedAt: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    /** the datetime this item was created, accepts any value that can be passed to the Date() constructor */\n    createdAt: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    /** a description for the item */\n    description: PropTypes.string,\n    /** props for the editable description textarea */\n    descriptionTextareaProps: PropTypes.object,\n    /** the name of the item's enterprise owner if the item is owned by a different enterprise */\n    enterpriseOwner: PropTypes.string,\n    /** the datetime this item was last modified, accepts any value that can be passed to the Date() constructor */\n    modifiedAt: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    /** function called on description textarea blur with the new value to save */\n    onDescriptionChange: PropTypes.func,\n    /** function called on url input blur with the new value to save */\n    onValidURLChange: PropTypes.func,\n    /** the name of the item's owner */\n    owner: PropTypes.string,\n    /** props for the retention policy of this item */\n    retentionPolicyProps: PropTypes.object,\n    /** use the getFileSize util to get a localized human-readable string from the number of bytes */\n    size: PropTypes.string,\n    /** the number of files in a folder */\n    filesCount: PropTypes.number,\n    /** the datetime this item was deleted or moved to trash, accepts any value that can be passed to the Date() constructor */\n    trashedAt: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    /** the type of the item */\n    type: PropTypes.string,\n    /** the name of the user who uploaded this item */\n    uploader: PropTypes.string,\n    /** the URL for the item when the item is a weblink */\n    url: PropTypes.string,\n};\n\nexport default ItemProperties;\n"],"mappings":"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","ignoreList":[]}