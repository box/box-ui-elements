{"version":3,"file":"CustomMetadataField.js","names":["React","injectIntl","Button","ButtonGroup","IconMinus","IconPlus","Field","messages","COLOR_999","CustomMetadataField","intl","canEdit","isLast","dataKey","dataValue","onAdd","onChange","onRemove","addBtn","createElement","formatMessage","customAdd","onClick","type","color","removeBtn","customRemove","className","displayName","key","CustomMetadataFieldBase"],"sources":["../../../src/features/metadata-instance-fields/CustomMetadataField.js"],"sourcesContent":["// @flow\nimport * as React from 'react';\nimport { injectIntl } from 'react-intl';\n\nimport Button from '../../components/button/Button';\nimport ButtonGroup from '../../components/button-group/ButtonGroup';\nimport IconMinus from '../../icons/general/IconMinusThin';\nimport IconPlus from '../../icons/general/IconPlusThin';\nimport Field from './MetadataField';\nimport messages from './messages';\nimport type { MetadataFieldValue } from '../../common/types/metadata';\nimport './CustomMetadataField.scss';\n\ntype Props = {\n    canEdit: boolean,\n    dataKey: string,\n    dataValue: MetadataFieldValue,\n    intl: any,\n    isLast: boolean,\n    onAdd: () => void,\n    onChange: (key: string, value: MetadataFieldValue) => void,\n    onRemove: (key: string) => void,\n};\n\nconst COLOR_999 = '#999';\n\nconst CustomMetadataField = ({ intl, canEdit, isLast, dataKey, dataValue, onAdd, onChange, onRemove }: Props) => {\n    const addBtn = (\n        <Button\n            aria-label={intl.formatMessage(messages.customAdd)}\n            data-resin-target=\"metadata-customfieldnew\"\n            onClick={onAdd}\n            type=\"button\"\n        >\n            <IconPlus color={COLOR_999} />\n        </Button>\n    );\n\n    const removeBtn = (\n        <Button\n            aria-label={intl.formatMessage(messages.customRemove)}\n            data-resin-target=\"metadata-customfieldremove\"\n            onClick={() => {\n                if (onRemove) {\n                    onRemove(dataKey);\n                }\n            }}\n            type=\"button\"\n        >\n            <IconMinus color={COLOR_999} />\n        </Button>\n    );\n\n    return (\n        <div className=\"bdl-CustomMetadataField\">\n            <Field\n                canEdit={canEdit}\n                dataKey={dataKey}\n                dataValue={dataValue}\n                displayName={dataKey}\n                onChange={onChange}\n                // Custom metadata doesn't allow removing of props if the value is emptied out, leave it as empty string\n                onRemove={(key: string) => onChange(key, '')}\n                type=\"string\"\n            />\n            {canEdit && (\n                <div className=\"bdl-CustomMetadataField-customActions\">\n                    {isLast ? (\n                        <ButtonGroup>\n                            {removeBtn}\n                            {addBtn}\n                        </ButtonGroup>\n                    ) : (\n                        removeBtn\n                    )}\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport { CustomMetadataField as CustomMetadataFieldBase };\nexport default injectIntl(CustomMetadataField);\n"],"mappings":"AACA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,UAAU,QAAQ,YAAY;AAEvC,OAAOC,MAAM,MAAM,gCAAgC;AACnD,OAAOC,WAAW,MAAM,2CAA2C;AACnE,OAAOC,SAAS,MAAM,mCAAmC;AACzD,OAAOC,QAAQ,MAAM,kCAAkC;AACvD,OAAOC,KAAK,MAAM,iBAAiB;AACnC,OAAOC,QAAQ,MAAM,YAAY;AAEjC,OAAO,4BAA4B;AAanC,MAAMC,SAAS,GAAG,MAAM;AAExB,MAAMC,mBAAmB,GAAGA,CAAC;EAAEC,IAAI;EAAEC,OAAO;EAAEC,MAAM;EAAEC,OAAO;EAAEC,SAAS;EAAEC,KAAK;EAAEC,QAAQ;EAAEC;AAAgB,CAAC,KAAK;EAC7G,MAAMC,MAAM,gBACRlB,KAAA,CAAAmB,aAAA,CAACjB,MAAM;IACH,cAAYQ,IAAI,CAACU,aAAa,CAACb,QAAQ,CAACc,SAAS,CAAE;IACnD,qBAAkB,yBAAyB;IAC3CC,OAAO,EAAEP,KAAM;IACfQ,IAAI,EAAC;EAAQ,gBAEbvB,KAAA,CAAAmB,aAAA,CAACd,QAAQ;IAACmB,KAAK,EAAEhB;EAAU,CAAE,CACzB,CACX;EAED,MAAMiB,SAAS,gBACXzB,KAAA,CAAAmB,aAAA,CAACjB,MAAM;IACH,cAAYQ,IAAI,CAACU,aAAa,CAACb,QAAQ,CAACmB,YAAY,CAAE;IACtD,qBAAkB,4BAA4B;IAC9CJ,OAAO,EAAEA,CAAA,KAAM;MACX,IAAIL,QAAQ,EAAE;QACVA,QAAQ,CAACJ,OAAO,CAAC;MACrB;IACJ,CAAE;IACFU,IAAI,EAAC;EAAQ,gBAEbvB,KAAA,CAAAmB,aAAA,CAACf,SAAS;IAACoB,KAAK,EAAEhB;EAAU,CAAE,CAC1B,CACX;EAED,oBACIR,KAAA,CAAAmB,aAAA;IAAKQ,SAAS,EAAC;EAAyB,gBACpC3B,KAAA,CAAAmB,aAAA,CAACb,KAAK;IACFK,OAAO,EAAEA,OAAQ;IACjBE,OAAO,EAAEA,OAAQ;IACjBC,SAAS,EAAEA,SAAU;IACrBc,WAAW,EAAEf,OAAQ;IACrBG,QAAQ,EAAEA;IACV;IAAA;IACAC,QAAQ,EAAGY,GAAW,IAAKb,QAAQ,CAACa,GAAG,EAAE,EAAE,CAAE;IAC7CN,IAAI,EAAC;EAAQ,CAChB,CAAC,EACDZ,OAAO,iBACJX,KAAA,CAAAmB,aAAA;IAAKQ,SAAS,EAAC;EAAuC,GACjDf,MAAM,gBACHZ,KAAA,CAAAmB,aAAA,CAAChB,WAAW,QACPsB,SAAS,EACTP,MACQ,CAAC,GAEdO,SAEH,CAER,CAAC;AAEd,CAAC;AAED,SAAShB,mBAAmB,IAAIqB,uBAAuB;AACvD,eAAe7B,UAAU,CAACQ,mBAAmB,CAAC","ignoreList":[]}