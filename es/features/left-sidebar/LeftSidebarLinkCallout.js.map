{"version":3,"file":"LeftSidebarLinkCallout.js","names":["React","classNames","TetherComponent","PlainButton","IconClose","TETHER_POSITIONS","LeftSidebarLinkCallout","Component","constructor","props","_defineProperty","onClose","callout","setState","isShown","isShownProp","isControlled","showTooltip","state","render","attachmentPosition","MIDDLE_LEFT","children","content","navLinkClassName","targetAttachmentPosition","MIDDLE_RIGHT","createElement","attachment","classPrefix","enabled","targetAttachment","renderTarget","ref","style","display","Children","only","renderElement","className","onClick","hideCallout","color","height","width"],"sources":["../../../src/features/left-sidebar/LeftSidebarLinkCallout.js"],"sourcesContent":["// @flow\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport TetherComponent from 'react-tether';\n\nimport PlainButton from '../../components/plain-button';\nimport IconClose from '../../icons/general/IconClose';\nimport TETHER_POSITIONS from '../../common/tether-positions';\n\nimport type { TetherPosition } from '../../common/tether-positions';\nimport type { Callout } from './Callout';\n\nimport './styles/LeftSidebarLinkCallout.scss';\n\ntype Props = {\n    attachmentPosition?: TetherPosition,\n    callout: Callout,\n    children: React.Node,\n    isShown?: boolean,\n    navLinkClassName?: string,\n    targetAttachmentPosition?: TetherPosition,\n};\n\ntype State = {\n    isShown: boolean,\n};\n\nclass LeftSidebarLinkCallout extends React.Component<Props, State> {\n    constructor(props: Props) {\n        super(props);\n        this.state = { isShown: true };\n    }\n\n    hideCallout = () => {\n        const { onClose } = this.props.callout;\n        if (onClose) {\n            onClose();\n        }\n        this.setState({ isShown: false });\n    };\n\n    isControlled = () => {\n        const { isShown: isShownProp } = this.props;\n        return typeof isShownProp !== 'undefined';\n    };\n\n    isShown = () => {\n        const { isShown: isShownProp } = this.props;\n        const isControlled = this.isControlled();\n\n        const showTooltip = isControlled ? isShownProp : this.state.isShown;\n\n        return showTooltip;\n    };\n\n    render() {\n        const {\n            attachmentPosition = TETHER_POSITIONS.MIDDLE_LEFT,\n            children,\n            callout: { content },\n            navLinkClassName,\n            targetAttachmentPosition = TETHER_POSITIONS.MIDDLE_RIGHT,\n        } = this.props;\n\n        const showTooltip = this.isShown();\n\n        return (\n            <TetherComponent\n                attachment={attachmentPosition}\n                classPrefix=\"nav-link-callout\"\n                enabled={showTooltip}\n                targetAttachment={targetAttachmentPosition}\n                renderTarget={ref => (\n                    <div ref={ref} style={{ display: 'inline-block' }}>\n                        {React.Children.only(children)}\n                    </div>\n                )}\n                renderElement={ref => {\n                    return showTooltip ? (\n                        <div className={classNames('nav-link-callout', navLinkClassName)} ref={ref}>\n                            <PlainButton className=\"nav-link-callout-close-button\" onClick={this.hideCallout}>\n                                <IconClose color=\"#fff\" height={16} width={16} />\n                            </PlainButton>\n                            {content}\n                        </div>\n                    ) : null;\n                }}\n            />\n        );\n    }\n}\n\nexport default LeftSidebarLinkCallout;\n"],"mappings":";;;AACA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,OAAOC,UAAU,MAAM,YAAY;AACnC,OAAOC,eAAe,MAAM,cAAc;AAE1C,OAAOC,WAAW,MAAM,+BAA+B;AACvD,OAAOC,SAAS,MAAM,+BAA+B;AACrD,OAAOC,gBAAgB,MAAM,+BAA+B;AAK5D,OAAO,sCAAsC;AAe7C,MAAMC,sBAAsB,SAASN,KAAK,CAACO,SAAS,CAAe;EAC/DC,WAAWA,CAACC,KAAY,EAAE;IACtB,KAAK,CAACA,KAAK,CAAC;IAACC,eAAA,sBAIH,MAAM;MAChB,MAAM;QAAEC;MAAQ,CAAC,GAAG,IAAI,CAACF,KAAK,CAACG,OAAO;MACtC,IAAID,OAAO,EAAE;QACTA,OAAO,CAAC,CAAC;MACb;MACA,IAAI,CAACE,QAAQ,CAAC;QAAEC,OAAO,EAAE;MAAM,CAAC,CAAC;IACrC,CAAC;IAAAJ,eAAA,uBAEc,MAAM;MACjB,MAAM;QAAEI,OAAO,EAAEC;MAAY,CAAC,GAAG,IAAI,CAACN,KAAK;MAC3C,OAAO,OAAOM,WAAW,KAAK,WAAW;IAC7C,CAAC;IAAAL,eAAA,kBAES,MAAM;MACZ,MAAM;QAAEI,OAAO,EAAEC;MAAY,CAAC,GAAG,IAAI,CAACN,KAAK;MAC3C,MAAMO,YAAY,GAAG,IAAI,CAACA,YAAY,CAAC,CAAC;MAExC,MAAMC,WAAW,GAAGD,YAAY,GAAGD,WAAW,GAAG,IAAI,CAACG,KAAK,CAACJ,OAAO;MAEnE,OAAOG,WAAW;IACtB,CAAC;IAvBG,IAAI,CAACC,KAAK,GAAG;MAAEJ,OAAO,EAAE;IAAK,CAAC;EAClC;EAwBAK,MAAMA,CAAA,EAAG;IACL,MAAM;MACFC,kBAAkB,GAAGf,gBAAgB,CAACgB,WAAW;MACjDC,QAAQ;MACRV,OAAO,EAAE;QAAEW;MAAQ,CAAC;MACpBC,gBAAgB;MAChBC,wBAAwB,GAAGpB,gBAAgB,CAACqB;IAChD,CAAC,GAAG,IAAI,CAACjB,KAAK;IAEd,MAAMQ,WAAW,GAAG,IAAI,CAACH,OAAO,CAAC,CAAC;IAElC,oBACId,KAAA,CAAA2B,aAAA,CAACzB,eAAe;MACZ0B,UAAU,EAAER,kBAAmB;MAC/BS,WAAW,EAAC,kBAAkB;MAC9BC,OAAO,EAAEb,WAAY;MACrBc,gBAAgB,EAAEN,wBAAyB;MAC3CO,YAAY,EAAEC,GAAG,iBACbjC,KAAA,CAAA2B,aAAA;QAAKM,GAAG,EAAEA,GAAI;QAACC,KAAK,EAAE;UAAEC,OAAO,EAAE;QAAe;MAAE,GAC7CnC,KAAK,CAACoC,QAAQ,CAACC,IAAI,CAACf,QAAQ,CAC5B,CACP;MACFgB,aAAa,EAAEL,GAAG,IAAI;QAClB,OAAOhB,WAAW,gBACdjB,KAAA,CAAA2B,aAAA;UAAKY,SAAS,EAAEtC,UAAU,CAAC,kBAAkB,EAAEuB,gBAAgB,CAAE;UAACS,GAAG,EAAEA;QAAI,gBACvEjC,KAAA,CAAA2B,aAAA,CAACxB,WAAW;UAACoC,SAAS,EAAC,+BAA+B;UAACC,OAAO,EAAE,IAAI,CAACC;QAAY,gBAC7EzC,KAAA,CAAA2B,aAAA,CAACvB,SAAS;UAACsC,KAAK,EAAC,MAAM;UAACC,MAAM,EAAE,EAAG;UAACC,KAAK,EAAE;QAAG,CAAE,CACvC,CAAC,EACbrB,OACA,CAAC,GACN,IAAI;MACZ;IAAE,CACL,CAAC;EAEV;AACJ;AAEA,eAAejB,sBAAsB","ignoreList":[]}