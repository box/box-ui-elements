{"version":3,"file":"PresenceAvatarList.js","names":["React","classNames","noop","PresenceAvatar","PresenceAvatarTooltipContent","Tooltip","TooltipPosition","PresenceAvatarList","props","ref","avatarAttributes","className","collaborators","hideAdditionalCount","hideTooltips","maxAdditionalCollaborators","maxDisplayedAvatars","onAvatarMouseEnter","onAvatarMouseLeave","rest","_objectWithoutProperties","_excluded","activeTooltip","setActiveTooltip","useState","hideTooltip","showTooltip","id","length","createElement","_extends","slice","map","collaborator","avatarUrl","name","isActive","interactedAt","interactionType","key","isShown","position","BOTTOM_CENTER","text","onBlur","onFocus","onMouseEnter","onMouseLeave","tabIndex","PresenceAvatarListComponent","forwardRef"],"sources":["../../../src/features/presence/PresenceAvatarList.tsx"],"sourcesContent":["import * as React from 'react';\nimport classNames from 'classnames';\nimport noop from 'lodash/noop';\n// @ts-ignore flow import\nimport PresenceAvatar from './PresenceAvatar';\nimport PresenceAvatarTooltipContent from './PresenceAvatarTooltipContent';\nimport Tooltip, { TooltipPosition } from '../../components/tooltip';\nimport './PresenceAvatarList.scss';\n\nexport type Collaborator = {\n    avatarUrl?: string;\n    id: string;\n    isActive: boolean;\n    interactedAt: number;\n    interactionType: string;\n    name: string;\n    profileUrl?: string;\n};\n\nexport type Props = {\n    avatarAttributes?: React.HTMLAttributes<HTMLDivElement>;\n    className?: string;\n    collaborators: Array<Collaborator>;\n    hideAdditionalCount?: boolean;\n    hideTooltips?: boolean;\n    maxAdditionalCollaborators?: number;\n    maxDisplayedAvatars?: number;\n    onAvatarMouseEnter?: (id: string) => void;\n    onAvatarMouseLeave?: () => void;\n};\n\nfunction PresenceAvatarList(props: Props, ref: React.Ref<HTMLDivElement>): JSX.Element | null {\n    const {\n        avatarAttributes,\n        className,\n        collaborators,\n        hideAdditionalCount,\n        hideTooltips,\n        maxAdditionalCollaborators = 99,\n        maxDisplayedAvatars = 3,\n        onAvatarMouseEnter = noop,\n        onAvatarMouseLeave = noop,\n        ...rest\n    } = props;\n\n    const [activeTooltip, setActiveTooltip] = React.useState<string | null>(null);\n\n    const hideTooltip = (): void => {\n        setActiveTooltip(null);\n        if (onAvatarMouseLeave) {\n            onAvatarMouseLeave();\n        }\n    };\n\n    const showTooltip = (id: string): void => {\n        setActiveTooltip(id);\n        if (onAvatarMouseEnter) {\n            onAvatarMouseEnter(id);\n        }\n    };\n\n    if (!collaborators.length) {\n        return null;\n    }\n\n    return (\n        <div ref={ref} className={classNames('bdl-PresenceAvatarList', className)} {...rest}>\n            {collaborators.slice(0, maxDisplayedAvatars).map(collaborator => {\n                const { id, avatarUrl, name, isActive, interactedAt, interactionType } = collaborator;\n                return (\n                    <Tooltip\n                        key={id}\n                        isShown={!hideTooltips && activeTooltip === id}\n                        position={TooltipPosition.BOTTOM_CENTER}\n                        text={\n                            <PresenceAvatarTooltipContent\n                                name={name}\n                                interactedAt={interactedAt}\n                                interactionType={interactionType}\n                                isActive={isActive}\n                            />\n                        }\n                    >\n                        <PresenceAvatar\n                            aria-hidden=\"true\"\n                            avatarUrl={avatarUrl}\n                            id={id}\n                            isActive={isActive}\n                            name={name}\n                            onBlur={hideTooltip}\n                            onFocus={() => showTooltip(id)}\n                            onMouseEnter={() => showTooltip(id)}\n                            onMouseLeave={hideTooltip}\n                            {...avatarAttributes}\n                        />\n                    </Tooltip>\n                );\n            })}\n\n            {!hideAdditionalCount && collaborators.length > maxDisplayedAvatars && (\n                <div\n                    className={classNames('bdl-PresenceAvatarList-count', 'avatar')}\n                    // eslint-disable-next-line jsx-a11y/no-noninteractive-tabindex\n                    tabIndex={0}\n                    {...avatarAttributes}\n                >\n                    {collaborators.length - maxDisplayedAvatars > maxAdditionalCollaborators\n                        ? `${maxAdditionalCollaborators}+`\n                        : `+${collaborators.length - maxDisplayedAvatars}`}\n                </div>\n            )}\n        </div>\n    );\n}\n\nexport { PresenceAvatarList as PresenceAvatarListComponent };\n\nexport default React.forwardRef(PresenceAvatarList);\n"],"mappings":"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","ignoreList":[]}