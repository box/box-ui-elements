{"version":3,"file":"CollaboratorList.js","names":["React","FormattedMessage","ModalActions","Button","Link","CollaborationBadge","commonMessages","CollaboratorListItem","messages","MAX_COLLABORATOR_LIST_SIZE","CollaboratorList","Component","createCollaboratorPageLink","children","trackingProp","item","props","type","id","collaboratorsPageLink","createElement","_extends","href","rel","target","render","canRemoveCollaborators","collaborators","onDoneClick","maxCollaboratorListSize","onRemoveCollaboratorClick","trackingProps","usernameProps","emailProps","manageLinkProps","viewAdditionalProps","doneButtonProps","manageAllBtn","className","manageAllLinkText","maxListSizeToRender","Math","min","slice","map","collaborator","index","collabID","key","onRemoveCollaborator","length","height","width","viewAdditionalPeopleText","onClick","done","_defineProperty"],"sources":["../../../src/features/collaborator-avatars/CollaboratorList.js"],"sourcesContent":["// @flow\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\n\nimport { ModalActions } from '../../components/modal';\nimport Button from '../../components/button';\nimport { Link } from '../../components/link';\nimport CollaborationBadge from '../../icons/badges/CollaborationBadge';\nimport type {\n    collaboratorListTrackingType,\n    item as ItemType,\n    collaboratorType,\n} from '../unified-share-modal/flowTypes';\n\nimport commonMessages from '../../common/messages';\n\nimport CollaboratorListItem from './CollaboratorListItem';\nimport messages from './messages';\nimport './CollaboratorList.scss';\n\nconst MAX_COLLABORATOR_LIST_SIZE = 90;\n\ntype Props = {\n    canRemoveCollaborators?: boolean,\n    collaborators: Array<collaboratorType>,\n    doneButtonProps?: Object,\n    item: ItemType,\n    maxCollaboratorListSize: number,\n    onDoneClick: Function,\n    onRemoveCollaboratorClick?: (collaborator: collaboratorType) => void,\n    trackingProps: collaboratorListTrackingType,\n};\n\nclass CollaboratorList extends React.Component<Props> {\n    static defaultProps = {\n        maxCollaboratorListSize: MAX_COLLABORATOR_LIST_SIZE,\n    };\n\n    createCollaboratorPageLink(children: React.Node, trackingProp: ?Object) {\n        const { item } = this.props;\n        const { type, id } = item;\n        const collaboratorsPageLink = `/${type}/${id}/collaborators/`;\n\n        return (\n            <Link href={collaboratorsPageLink} rel=\"noopener\" target=\"_blank\" {...trackingProp}>\n                {children}\n            </Link>\n        );\n    }\n\n    render() {\n        const {\n            canRemoveCollaborators,\n            collaborators,\n            onDoneClick,\n            maxCollaboratorListSize,\n            onRemoveCollaboratorClick,\n            trackingProps,\n        } = this.props;\n        const { usernameProps, emailProps, manageLinkProps, viewAdditionalProps, doneButtonProps } = trackingProps;\n        const manageAllBtn = (\n            <span className=\"manage-all-btn\">\n                <FormattedMessage {...messages.manageAllLinkText} />\n            </span>\n        );\n        const maxListSizeToRender = Math.min(maxCollaboratorListSize, MAX_COLLABORATOR_LIST_SIZE);\n\n        return (\n            <div className=\"usm-collaborator-list\">\n                <div className=\"manage-all-btn-container\">\n                    {this.createCollaboratorPageLink(manageAllBtn, manageLinkProps)}\n                </div>\n                <ul className=\"be collaborator-list\">\n                    {collaborators.slice(0, maxListSizeToRender).map((collaborator, index) => {\n                        const { collabID, type } = collaborator;\n                        return (\n                            <CollaboratorListItem\n                                key={`${collabID}-${type}`}\n                                collaborator={collaborator}\n                                index={index}\n                                trackingProps={{\n                                    usernameProps,\n                                    emailProps,\n                                }}\n                                canRemoveCollaborators={canRemoveCollaborators}\n                                onRemoveCollaborator={onRemoveCollaboratorClick}\n                            />\n                        );\n                    })}\n                    {collaborators.length > maxListSizeToRender && (\n                        <li className=\"collaborator-list-item more\">\n                            <div>\n                                <CollaborationBadge height={32} width={32} />\n                            </div>\n                            <div>\n                                {this.createCollaboratorPageLink(\n                                    <FormattedMessage {...messages.viewAdditionalPeopleText} />,\n                                    viewAdditionalProps,\n                                )}\n                            </div>\n                        </li>\n                    )}\n                </ul>\n                <ModalActions>\n                    <Button className=\"btn-done\" onClick={onDoneClick} type=\"button\" {...doneButtonProps}>\n                        <FormattedMessage {...commonMessages.done} />\n                    </Button>\n                </ModalActions>\n            </div>\n        );\n    }\n}\n\nexport default CollaboratorList;\n"],"mappings":"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","ignoreList":[]}