{"version":3,"file":"CollaboratorAvatars.js","names":["React","Component","FormattedMessage","classNames","CollaboratorAvatarItem","PlainButton","messages","MAX_ADDITIONAL_COLLABORATOR_NUM_CAP","CollaboratorAvatars","isVisible","props","collaborators","length","hasAdditionalCollaborators","maxDisplayedUserAvatars","collaboratorsOverMaxCount","maxAdditionalCollaboratorsNum","remainingCollabCount","formatAdditionalCollaboratorCount","render","containerAttributes","onClick","createElement","_extends","className","type","collaboratorAvatarsLabel","slice","map","collaborator","index","collabID","imageURL","hasCustomAvatar","name","key","avatarUrl","id","_defineProperty"],"sources":["../../../src/features/collaborator-avatars/CollaboratorAvatars.js"],"sourcesContent":["// @flow\nimport React, { Component } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport classNames from 'classnames';\n\nimport type { collaboratorType } from '../unified-share-modal/flowTypes';\n\nimport CollaboratorAvatarItem from './CollaboratorAvatarItem';\nimport PlainButton from '../../components/plain-button';\nimport messages from './messages';\n\nimport './CollaboratorAvatars.scss';\n\nconst MAX_ADDITIONAL_COLLABORATOR_NUM_CAP = 99;\n\ntype Props = {\n    collaborators: Array<collaboratorType>,\n    containerAttributes: Object,\n    maxAdditionalCollaboratorsNum: number,\n    maxDisplayedUserAvatars: number,\n    onClick: Function,\n};\n\nclass CollaboratorAvatars extends Component<Props> {\n    static defaultProps = {\n        /** Maximum number of avatars to display before showing a +{n} avatar */\n        maxDisplayedUserAvatars: 3,\n        /** Maximum number of collaborators before displaying a {maxAdditionalCollaboratorsNum}+ avatar */\n        maxAdditionalCollaboratorsNum: MAX_ADDITIONAL_COLLABORATOR_NUM_CAP,\n        containerAttributes: {},\n    };\n\n    isVisible() {\n        return this.props.collaborators.length > 0;\n    }\n\n    hasAdditionalCollaborators() {\n        const { collaborators, maxDisplayedUserAvatars } = this.props;\n\n        return collaborators.length > maxDisplayedUserAvatars;\n    }\n\n    collaboratorsOverMaxCount() {\n        const { collaborators, maxDisplayedUserAvatars, maxAdditionalCollaboratorsNum } = this.props;\n\n        const remainingCollabCount = collaborators.length - maxDisplayedUserAvatars;\n\n        return remainingCollabCount > maxAdditionalCollaboratorsNum;\n    }\n\n    formatAdditionalCollaboratorCount() {\n        const { maxAdditionalCollaboratorsNum, maxDisplayedUserAvatars, collaborators } = this.props;\n\n        return this.collaboratorsOverMaxCount()\n            ? `${maxAdditionalCollaboratorsNum}+`\n            : `+${collaborators.length - maxDisplayedUserAvatars}`;\n    }\n\n    render() {\n        const { collaborators, maxDisplayedUserAvatars, containerAttributes, onClick } = this.props;\n\n        return (\n            <PlainButton\n                className={classNames('collaborator-avatar-container', {\n                    'are-avatars-hidden': !this.isVisible(),\n                })}\n                onClick={onClick}\n                {...containerAttributes}\n                aria-hidden={this.isVisible() ? 'false' : 'true'}\n                type=\"button\"\n            >\n                <div className=\"avatars-label\">\n                    <FormattedMessage {...messages.collaboratorAvatarsLabel} />\n                </div>\n                <div className=\"avatars\">\n                    {this.isVisible() &&\n                        collaborators.slice(0, maxDisplayedUserAvatars).map((collaborator, index) => {\n                            const { collabID, imageURL, hasCustomAvatar, name } = collaborator;\n\n                            return (\n                                <CollaboratorAvatarItem\n                                    key={`collab-avatar-${collabID}`}\n                                    avatarUrl={imageURL}\n                                    hasCustomAvatar={hasCustomAvatar}\n                                    id={index}\n                                    name={name}\n                                />\n                            );\n                        })}\n                </div>\n                {this.isVisible() && this.hasAdditionalCollaborators() && (\n                    <div className=\"avatars-count\">{this.formatAdditionalCollaboratorCount()}</div>\n                )}\n            </PlainButton>\n        );\n    }\n}\n\nexport default CollaboratorAvatars;\n"],"mappings":"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","ignoreList":[]}