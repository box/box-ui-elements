{"version":3,"file":"OffsetBasedPagination.js","names":["React","noop","PaginationControls","DEFAULT_PAGE_SIZE","OffsetBasedPagination","offset","onOffsetChange","pageSize","totalCount","pageCount","Math","ceil","pageByOffset","floor","pageNumber","min","hasNextPage","hasPreviousPage","updateOffset","newPageNumber","newOffset","handleNextClick","handlePreviousClick","createElement","isOffsetBasedPagination","onPageClick"],"sources":["../../../src/features/pagination/OffsetBasedPagination.js"],"sourcesContent":["/**\n * @flow\n * @file Offset Based Pagination component\n * @author Box\n */\n\nimport * as React from 'react';\nimport noop from 'lodash/noop';\nimport PaginationControls from './PaginationControls';\nimport { DEFAULT_PAGE_SIZE } from '../../constants';\n\ntype Props = {\n    offset?: number,\n    onOffsetChange?: Function,\n    pageSize?: number,\n    totalCount?: number,\n};\n\nconst OffsetBasedPagination = ({\n    offset = 0,\n    onOffsetChange = noop,\n    pageSize = DEFAULT_PAGE_SIZE,\n    totalCount = 0,\n}: Props) => {\n    const pageCount = Math.ceil(totalCount / pageSize);\n    if (pageCount <= 1) return null;\n\n    const pageByOffset = Math.floor(offset / pageSize) + 1;\n    const pageNumber = pageByOffset > 0 ? Math.min(pageCount, pageByOffset) : 1;\n    const hasNextPage = pageNumber < pageCount;\n    const hasPreviousPage = pageNumber > 1;\n\n    const updateOffset = (newPageNumber: number) => {\n        let newOffset = (newPageNumber - 1) * pageSize;\n\n        if (newOffset <= 0) {\n            newOffset = 0;\n        }\n\n        if (newOffset >= totalCount) {\n            newOffset = totalCount - pageSize;\n        }\n\n        onOffsetChange(newOffset);\n    };\n\n    const handleNextClick = () => {\n        updateOffset(pageNumber + 1);\n    };\n\n    const handlePreviousClick = () => {\n        updateOffset(pageNumber - 1);\n    };\n\n    return (\n        <PaginationControls\n            handleNextClick={handleNextClick}\n            handlePreviousClick={handlePreviousClick}\n            hasNextPage={hasNextPage}\n            hasPreviousPage={hasPreviousPage}\n            isOffsetBasedPagination\n            onPageClick={updateOffset}\n            pageCount={pageCount}\n            pageNumber={pageNumber}\n        />\n    );\n};\n\nexport default OffsetBasedPagination;\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;;AAEA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,OAAOC,IAAI,MAAM,aAAa;AAC9B,OAAOC,kBAAkB,MAAM,sBAAsB;AACrD,SAASC,iBAAiB,QAAQ,iBAAiB;AASnD,MAAMC,qBAAqB,GAAGA,CAAC;EAC3BC,MAAM,GAAG,CAAC;EACVC,cAAc,GAAGL,IAAI;EACrBM,QAAQ,GAAGJ,iBAAiB;EAC5BK,UAAU,GAAG;AACV,CAAC,KAAK;EACT,MAAMC,SAAS,GAAGC,IAAI,CAACC,IAAI,CAACH,UAAU,GAAGD,QAAQ,CAAC;EAClD,IAAIE,SAAS,IAAI,CAAC,EAAE,OAAO,IAAI;EAE/B,MAAMG,YAAY,GAAGF,IAAI,CAACG,KAAK,CAACR,MAAM,GAAGE,QAAQ,CAAC,GAAG,CAAC;EACtD,MAAMO,UAAU,GAAGF,YAAY,GAAG,CAAC,GAAGF,IAAI,CAACK,GAAG,CAACN,SAAS,EAAEG,YAAY,CAAC,GAAG,CAAC;EAC3E,MAAMI,WAAW,GAAGF,UAAU,GAAGL,SAAS;EAC1C,MAAMQ,eAAe,GAAGH,UAAU,GAAG,CAAC;EAEtC,MAAMI,YAAY,GAAIC,aAAqB,IAAK;IAC5C,IAAIC,SAAS,GAAG,CAACD,aAAa,GAAG,CAAC,IAAIZ,QAAQ;IAE9C,IAAIa,SAAS,IAAI,CAAC,EAAE;MAChBA,SAAS,GAAG,CAAC;IACjB;IAEA,IAAIA,SAAS,IAAIZ,UAAU,EAAE;MACzBY,SAAS,GAAGZ,UAAU,GAAGD,QAAQ;IACrC;IAEAD,cAAc,CAACc,SAAS,CAAC;EAC7B,CAAC;EAED,MAAMC,eAAe,GAAGA,CAAA,KAAM;IAC1BH,YAAY,CAACJ,UAAU,GAAG,CAAC,CAAC;EAChC,CAAC;EAED,MAAMQ,mBAAmB,GAAGA,CAAA,KAAM;IAC9BJ,YAAY,CAACJ,UAAU,GAAG,CAAC,CAAC;EAChC,CAAC;EAED,oBACId,KAAA,CAAAuB,aAAA,CAACrB,kBAAkB;IACfmB,eAAe,EAAEA,eAAgB;IACjCC,mBAAmB,EAAEA,mBAAoB;IACzCN,WAAW,EAAEA,WAAY;IACzBC,eAAe,EAAEA,eAAgB;IACjCO,uBAAuB;IACvBC,WAAW,EAAEP,YAAa;IAC1BT,SAAS,EAAEA,SAAU;IACrBK,UAAU,EAAEA;EAAW,CAC1B,CAAC;AAEV,CAAC;AAED,eAAeV,qBAAqB","ignoreList":[]}