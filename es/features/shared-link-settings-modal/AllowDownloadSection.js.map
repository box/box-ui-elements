{"version":3,"file":"AllowDownloadSection.js","names":["React","PropTypes","FormattedMessage","classNames","Checkbox","TextInputWithCopyButton","Fieldset","Tooltip","messages","AllowDownloadSection","canChangeDownload","classification","directLink","directLinkInputProps","downloadCheckboxProps","isDirectLinkAvailable","isDirectLinkUnavailableDueToDownloadSettings","isDirectLinkUnavailableDueToAccessPolicy","isDirectLinkUnavailableDueToMaliciousContent","isDownloadAvailable","isDownloadEnabled","onChange","directLinkSection","createElement","_extends","className","label","directLinkLabel","type","value","isDirectLinkUnavailable","allowDownloadSectionClass","isDirectLinkSectionVisible","tooltipMessage","_objectSpread","directDownloadBlockedByMaliciousContent","directDownloadBlockedByAccessPolicyWithClassification","directDownloadBlockedByAccessPolicyWithoutClassification","isDisabled","text","position","disabled","title","allowDownloadTitle","isChecked","allowDownloadLabel","name","propTypes","bool","isRequired","string","object","func"],"sources":["../../../src/features/shared-link-settings-modal/AllowDownloadSection.js"],"sourcesContent":["import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\nimport classNames from 'classnames';\n\nimport Checkbox from '../../components/checkbox';\nimport TextInputWithCopyButton from '../../components/text-input-with-copy-button';\nimport Fieldset from '../../components/fieldset';\nimport Tooltip from '../../components/tooltip';\n\nimport messages from './messages';\n\nimport './AllowDownloadSection.scss';\n\nconst AllowDownloadSection = ({\n    canChangeDownload,\n    classification,\n    directLink,\n    directLinkInputProps = {},\n    downloadCheckboxProps = {},\n    isDirectLinkAvailable,\n    isDirectLinkUnavailableDueToDownloadSettings,\n    isDirectLinkUnavailableDueToAccessPolicy,\n    isDirectLinkUnavailableDueToMaliciousContent,\n    isDownloadAvailable,\n    isDownloadEnabled,\n    onChange,\n}) => {\n    if (!isDownloadAvailable && !isDirectLinkAvailable) {\n        return null;\n    }\n\n    const directLinkSection = (\n        <div>\n            <TextInputWithCopyButton\n                className=\"direct-link-input\"\n                label={<FormattedMessage {...messages.directLinkLabel} />}\n                type=\"url\"\n                value={directLink}\n                {...directLinkInputProps}\n            />\n        </div>\n    );\n    const isDirectLinkUnavailable =\n        isDirectLinkUnavailableDueToAccessPolicy || isDirectLinkUnavailableDueToMaliciousContent;\n    const allowDownloadSectionClass = classNames('bdl-AllowDownloadSection', {\n        'bdl-is-disabled': isDirectLinkUnavailable,\n    });\n    const isDirectLinkSectionVisible =\n        (isDirectLinkAvailable || isDirectLinkUnavailableDueToDownloadSettings) && isDownloadEnabled;\n\n    let tooltipMessage = null;\n\n    if (isDirectLinkUnavailableDueToMaliciousContent) {\n        tooltipMessage = { ...messages.directDownloadBlockedByMaliciousContent };\n    } else if (classification) {\n        tooltipMessage = { ...messages.directDownloadBlockedByAccessPolicyWithClassification };\n    } else {\n        tooltipMessage = { ...messages.directDownloadBlockedByAccessPolicyWithoutClassification };\n    }\n\n    if (isDownloadAvailable) {\n        return (\n            <div className={allowDownloadSectionClass}>\n                <hr />\n                <Tooltip\n                    isDisabled={!isDirectLinkUnavailable}\n                    text={<FormattedMessage {...tooltipMessage} />}\n                    position=\"middle-left\"\n                >\n                    <Fieldset\n                        className=\"be\"\n                        disabled={isDirectLinkUnavailable}\n                        title={<FormattedMessage {...messages.allowDownloadTitle} />}\n                    >\n                        <Checkbox\n                            isChecked={isDownloadEnabled}\n                            isDisabled={!canChangeDownload || isDirectLinkUnavailable}\n                            label={<FormattedMessage {...messages.allowDownloadLabel} />}\n                            name=\"isDownloadEnabled\"\n                            onChange={onChange}\n                            {...downloadCheckboxProps}\n                        />\n                        {isDirectLinkSectionVisible && directLinkSection}\n                    </Fieldset>\n                </Tooltip>\n            </div>\n        );\n    }\n\n    // When download section not available but direct link is available\n    return (\n        <div>\n            <hr />\n            {directLinkSection}\n        </div>\n    );\n};\n\nAllowDownloadSection.propTypes = {\n    canChangeDownload: PropTypes.bool.isRequired,\n    classification: PropTypes.string,\n    directLink: PropTypes.string.isRequired,\n    directLinkInputProps: PropTypes.object,\n    downloadCheckboxProps: PropTypes.object,\n    isDirectLinkAvailable: PropTypes.bool.isRequired,\n    isDirectLinkUnavailableDueToMaliciousContent: PropTypes.bool,\n    isDirectLinkUnavailableDueToAccessPolicy: PropTypes.bool,\n    isDirectLinkUnavailableDueToDownloadSettings: PropTypes.bool.isRequired,\n    isDownloadAvailable: PropTypes.bool.isRequired,\n    isDownloadEnabled: PropTypes.bool.isRequired,\n    onChange: PropTypes.func.isRequired,\n};\n\nexport default AllowDownloadSection;\n"],"mappings":"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","ignoreList":[]}