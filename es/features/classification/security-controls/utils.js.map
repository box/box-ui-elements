{"version":3,"file":"utils.js","names":["getProp","isNil","appRestrictionsMessageMap","integrationRestrictionsMessageMap","downloadRestrictionsMessageMap","messages","ACCESS_POLICY_RESTRICTION","APP_RESTRICTION_MESSAGE_TYPE","DOWNLOAD_CONTROL","LIST_ACCESS_LEVEL","SHARED_LINK_ACCESS_LEVEL","APP","BOX_SIGN_REQUEST","DOWNLOAD","EXTERNAL_COLLAB","SHARED_LINK","WATERMARK","DEFAULT","WITH_APP_LIST","WITH_OVERFLOWN_APP_LIST","DESKTOP","MOBILE","WEB","BLOCK","WHITELIST","BLACKLIST","COLLAB_ONLY","COLLAB_AND_COMPANY_ONLY","PUBLIC","getShortSecurityControlsMessage","controls","shouldDisplayAppsAsIntegrations","items","app","boxSignRequest","download","externalCollab","sharedLink","watermark","sharing","accessLevel","push","message","shortSharingDownloadIntegrationSign","shortSharingDownloadAppSign","shortSharingDownloadIntegration","shortSharingDownloadApp","shortDownloadIntegrationSign","shortDownloadAppSign","shortSharingIntegrationSign","shortSharingAppSign","shortSharingDownloadSign","shortSharingSign","shortDownloadSign","shortIntegrationSign","shortAppSign","shortSharingDownload","shortSharingIntegration","shortSharingApp","shortDownloadIntegration","shortDownloadApp","shortSign","shortSharing","shortDownload","shortIntegration","shortApp","shortWatermarking","getSharedLinkMessages","sharingCollabOnly","sharingCollabAndCompanyOnly","getWatermarkingMessages","isWatermarkEnabled","watermarkingApplied","getExternalCollabMessages","externalCollabBlock","externalCollabDomainList","getAppDownloadMessages","maxAppCount","integrationDownloadRestricted","appDownloadRestricted","apps","length","appsToDisplay","slice","remainingAppCount","appNames","map","displayText","join","appsList","_objectSpread","values","tooltipMessage","allIntegrationNames","allAppNames","messageType","getDownloadMessages","web","mobile","desktop","downloadRestrictions","platform","restrictions","Object","keys","forEach","platformKey","restrictExternalUsers","restrictManagedUsers","externalRestricted","externalAllowed","default","getBoxSignRequestMessages","isBoxSignRequestRestrictionEnabled","boxSignRequestRestricted","getFullSecurityControlsMessages"],"sources":["../../../../src/features/classification/security-controls/utils.js"],"sourcesContent":["// @flow\nimport getProp from 'lodash/get';\nimport isNil from 'lodash/isNil';\n\nimport type { Controls, MessageItem } from '../flowTypes';\n\nimport appRestrictionsMessageMap from './appRestrictionsMessageMap';\nimport integrationRestrictionsMessageMap from './integrationRestrictionsMessageMap';\nimport downloadRestrictionsMessageMap from './downloadRestrictionsMessageMap';\nimport messages from './messages';\nimport {\n    ACCESS_POLICY_RESTRICTION,\n    APP_RESTRICTION_MESSAGE_TYPE,\n    DOWNLOAD_CONTROL,\n    LIST_ACCESS_LEVEL,\n    SHARED_LINK_ACCESS_LEVEL,\n} from '../constants';\n\nconst { APP, BOX_SIGN_REQUEST, DOWNLOAD, EXTERNAL_COLLAB, SHARED_LINK, WATERMARK } = ACCESS_POLICY_RESTRICTION;\nconst { DEFAULT, WITH_APP_LIST, WITH_OVERFLOWN_APP_LIST } = APP_RESTRICTION_MESSAGE_TYPE;\nconst { DESKTOP, MOBILE, WEB } = DOWNLOAD_CONTROL;\nconst { BLOCK, WHITELIST, BLACKLIST } = LIST_ACCESS_LEVEL;\nconst { COLLAB_ONLY, COLLAB_AND_COMPANY_ONLY, PUBLIC } = SHARED_LINK_ACCESS_LEVEL;\n\nconst getShortSecurityControlsMessage = (\n    controls: Controls,\n    shouldDisplayAppsAsIntegrations?: boolean,\n): Array<MessageItem> => {\n    const items = [];\n    const { app, boxSignRequest, download, externalCollab, sharedLink, watermark } = controls;\n\n    // Shared link and external collab restrictions are grouped\n    // together as generic \"sharing\" restrictions\n    const sharing = (sharedLink && sharedLink.accessLevel !== PUBLIC) || externalCollab;\n\n    // 4 restriction combinations\n    if (sharing && download && app && boxSignRequest) {\n        items.push({\n            message: shouldDisplayAppsAsIntegrations\n                ? messages.shortSharingDownloadIntegrationSign\n                : messages.shortSharingDownloadAppSign,\n        });\n    }\n    // 3 restriction combinations\n    else if (sharing && download && app) {\n        items.push({\n            message: shouldDisplayAppsAsIntegrations\n                ? messages.shortSharingDownloadIntegration\n                : messages.shortSharingDownloadApp,\n        });\n    } else if (download && app && boxSignRequest) {\n        items.push({\n            message: shouldDisplayAppsAsIntegrations\n                ? messages.shortDownloadIntegrationSign\n                : messages.shortDownloadAppSign,\n        });\n    } else if (sharing && app && boxSignRequest) {\n        items.push({\n            message: shouldDisplayAppsAsIntegrations\n                ? messages.shortSharingIntegrationSign\n                : messages.shortSharingAppSign,\n        });\n    } else if (sharing && download && boxSignRequest) {\n        items.push({ message: messages.shortSharingDownloadSign });\n    }\n    // 2 restriction combinations\n    else if (sharing && boxSignRequest) {\n        items.push({ message: messages.shortSharingSign });\n    } else if (download && boxSignRequest) {\n        items.push({ message: messages.shortDownloadSign });\n    } else if (app && boxSignRequest) {\n        items.push({\n            message: shouldDisplayAppsAsIntegrations ? messages.shortIntegrationSign : messages.shortAppSign,\n        });\n    } else if (sharing && download) {\n        items.push({ message: messages.shortSharingDownload });\n    } else if (sharing && app) {\n        items.push({\n            message: shouldDisplayAppsAsIntegrations ? messages.shortSharingIntegration : messages.shortSharingApp,\n        });\n    } else if (download && app) {\n        items.push({\n            message: shouldDisplayAppsAsIntegrations ? messages.shortDownloadIntegration : messages.shortDownloadApp,\n        });\n    }\n    // 1 restriction combinations\n    else if (boxSignRequest) {\n        items.push({ message: messages.shortSign });\n    } else if (sharing) {\n        items.push({ message: messages.shortSharing });\n    } else if (download) {\n        items.push({ message: messages.shortDownload });\n    } else if (app) {\n        items.push({ message: shouldDisplayAppsAsIntegrations ? messages.shortIntegration : messages.shortApp });\n    }\n\n    if (watermark) {\n        items.push({ message: messages.shortWatermarking });\n    }\n\n    return items;\n};\n\nconst getSharedLinkMessages = (controls: Controls): Array<MessageItem> => {\n    const items = [];\n    const accessLevel = getProp(controls, `${SHARED_LINK}.accessLevel`);\n\n    switch (accessLevel) {\n        case COLLAB_ONLY:\n            items.push({ message: messages.sharingCollabOnly });\n            break;\n        case COLLAB_AND_COMPANY_ONLY:\n            items.push({ message: messages.sharingCollabAndCompanyOnly });\n            break;\n        default:\n            // no-op\n            break;\n    }\n    return items;\n};\n\nconst getWatermarkingMessages = (controls: Controls): Array<MessageItem> => {\n    const items = [];\n    const isWatermarkEnabled = getProp(controls, `${WATERMARK}.enabled`, false);\n\n    if (isWatermarkEnabled) {\n        items.push({ message: messages.watermarkingApplied });\n    }\n\n    return items;\n};\n\nconst getExternalCollabMessages = (controls: Controls): Array<MessageItem> => {\n    const items = [];\n    const accessLevel = getProp(controls, `${EXTERNAL_COLLAB}.accessLevel`);\n\n    switch (accessLevel) {\n        case BLOCK:\n            items.push({ message: messages.externalCollabBlock });\n            break;\n        case WHITELIST:\n        case BLACKLIST:\n            items.push({ message: messages.externalCollabDomainList });\n            break;\n        default:\n            // no-op\n            break;\n    }\n    return items;\n};\n\nconst getAppDownloadMessages = (\n    controls: Controls,\n    maxAppCount?: number,\n    shouldDisplayAppsAsIntegrations?: boolean,\n): Array<MessageItem> => {\n    const items = [];\n    const accessLevel = getProp(controls, `${APP}.accessLevel`);\n\n    switch (accessLevel) {\n        case BLOCK:\n            items.push({\n                message: shouldDisplayAppsAsIntegrations\n                    ? messages.integrationDownloadRestricted\n                    : messages.appDownloadRestricted,\n            });\n            break;\n        case WHITELIST:\n        case BLACKLIST: {\n            const apps = getProp(controls, `${APP}.apps`, []);\n\n            maxAppCount = isNil(maxAppCount) ? apps.length : maxAppCount;\n            const appsToDisplay = apps.slice(0, maxAppCount);\n            const remainingAppCount = apps.slice(maxAppCount).length;\n            const appNames = appsToDisplay.map(({ displayText }) => displayText).join(', ');\n\n            if (remainingAppCount) {\n                const appsList = apps.map(({ displayText }) => displayText).join(', ');\n\n                items.push({\n                    message: {\n                        ...(shouldDisplayAppsAsIntegrations\n                            ? integrationRestrictionsMessageMap[accessLevel][WITH_OVERFLOWN_APP_LIST]\n                            : appRestrictionsMessageMap[accessLevel][WITH_OVERFLOWN_APP_LIST]),\n                        values: { appNames, remainingAppCount },\n                    },\n                    tooltipMessage: {\n                        ...(shouldDisplayAppsAsIntegrations ? messages.allIntegrationNames : messages.allAppNames),\n                        values: { appsList },\n                    },\n                });\n            } else {\n                // Display list of apps if available, otherwise use generic\n                // app restriction copy\n                const messageType = apps.length ? WITH_APP_LIST : DEFAULT;\n\n                items.push({\n                    message: {\n                        ...(shouldDisplayAppsAsIntegrations\n                            ? integrationRestrictionsMessageMap[accessLevel][messageType]\n                            : appRestrictionsMessageMap[accessLevel][messageType]),\n                        values: { appNames },\n                    },\n                });\n            }\n            break;\n        }\n        default:\n            // no-op\n            break;\n    }\n    return items;\n};\n\nconst getDownloadMessages = (controls: Controls): Array<MessageItem> => {\n    const items = [];\n    const { web, mobile, desktop } = getProp(controls, DOWNLOAD, {});\n\n    const downloadRestrictions = {\n        [WEB]: {\n            platform: WEB,\n            restrictions: web,\n        },\n        [MOBILE]: {\n            platform: MOBILE,\n            restrictions: mobile,\n        },\n        [DESKTOP]: {\n            platform: DESKTOP,\n            restrictions: desktop,\n        },\n    };\n\n    Object.keys(downloadRestrictions).forEach(platformKey => {\n        const { platform, restrictions } = downloadRestrictions[platformKey];\n\n        if (!restrictions) {\n            return;\n        }\n        const { restrictExternalUsers, restrictManagedUsers } = restrictions;\n\n        if (restrictManagedUsers && restrictExternalUsers) {\n            items.push({ message: downloadRestrictionsMessageMap[platform].externalRestricted[restrictManagedUsers] });\n        } else if (restrictManagedUsers) {\n            items.push({ message: downloadRestrictionsMessageMap[platform].externalAllowed[restrictManagedUsers] });\n        } else if (restrictExternalUsers) {\n            items.push({ message: downloadRestrictionsMessageMap[platform].externalRestricted.default });\n        }\n    });\n\n    return items;\n};\n\nconst getBoxSignRequestMessages = (controls: Controls): Array<MessageItem> => {\n    const isBoxSignRequestRestrictionEnabled = getProp(controls, `${BOX_SIGN_REQUEST}.enabled`, false);\n    const items = isBoxSignRequestRestrictionEnabled ? [{ message: messages.boxSignRequestRestricted }] : [];\n\n    return items;\n};\n\nconst getFullSecurityControlsMessages = (\n    controls: Controls,\n    maxAppCount?: number,\n    shouldDisplayAppsAsIntegrations?: boolean,\n): Array<MessageItem> => {\n    const items = [\n        ...getSharedLinkMessages(controls),\n        ...getExternalCollabMessages(controls),\n        ...getDownloadMessages(controls),\n        ...getAppDownloadMessages(controls, maxAppCount, shouldDisplayAppsAsIntegrations),\n        ...getWatermarkingMessages(controls),\n        ...getBoxSignRequestMessages(controls),\n    ];\n    return items;\n};\n\nexport { getShortSecurityControlsMessage, getFullSecurityControlsMessages };\n"],"mappings":"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","ignoreList":[]}