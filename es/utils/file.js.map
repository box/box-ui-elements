{"version":3,"file":"file.js","names":["getProp","TYPED_ID_FILE_PREFIX","TYPED_ID_FOLDER_PREFIX","FILE_EXTENSION_BOX_CANVAS","FILE_EXTENSION_BOX_NOTE","FILE_EXTENSION_GOOGLE_DOC","FILE_EXTENSION_GOOGLE_SHEET","FILE_EXTENSION_GOOGLE_SLIDE","FILE_EXTENSION_GOOGLE_SLIDE_LEGACY","FILE_EXT_REGEX","getTypedFileId","id","getTypedFolderId","isBoxNote","file","extension","isBoxCanvas","isGSuiteExtension","getFileExtension","filename","result","exec"],"sources":["../../src/utils/file.js"],"sourcesContent":["/**\n * @flow strict\n * @file Helper for throwing errors\n * @author Box\n */\n\nimport getProp from 'lodash/get';\nimport {\n    TYPED_ID_FILE_PREFIX,\n    TYPED_ID_FOLDER_PREFIX,\n    FILE_EXTENSION_BOX_CANVAS,\n    FILE_EXTENSION_BOX_NOTE,\n    FILE_EXTENSION_GOOGLE_DOC,\n    FILE_EXTENSION_GOOGLE_SHEET,\n    FILE_EXTENSION_GOOGLE_SLIDE,\n    FILE_EXTENSION_GOOGLE_SLIDE_LEGACY,\n} from '../constants';\nimport type { BoxItem } from '../common/types/core';\n\nconst FILE_EXT_REGEX = /\\.([0-9a-z]+)$/i; // Case insensitive regex to extract file extension without \".\"\n\n/**\n * Returns typed id for file. Useful for when\n * making file based XHRs where auth token\n * can be per file as used by Preview.\n * @param {id} id the file id\n * @return {string} typed id for file\n */\nexport function getTypedFileId(id: string): string {\n    return `${TYPED_ID_FILE_PREFIX}${id}`;\n}\n\n/**\n * Returns typed id for folder.\n * @param {id} id the folder id\n * @return {string} typed id for folder\n */\nexport function getTypedFolderId(id: string): string {\n    return `${TYPED_ID_FOLDER_PREFIX}${id}`;\n}\n\n/**\n * Determines if the file is a box note\n * @param {Object} file a box file\n * @return boolean true if it is a box note\n */\nexport function isBoxNote(file: BoxItem): boolean {\n    return file.extension === FILE_EXTENSION_BOX_NOTE;\n}\n\n/**\n * Determines if the file is box canvas\n * @param {Object} file a box file\n * @return boolean true if it is box canvas\n */\nexport function isBoxCanvas(file: BoxItem): boolean {\n    return file.extension === FILE_EXTENSION_BOX_CANVAS;\n}\n\n/**\n * Determines whether a file extension is associated with a G Suite file.\n * @param {string} extension\n * @return boolean true if the extension is a valid G Suite extension\n */\nexport function isGSuiteExtension(extension: string): boolean {\n    return (\n        extension === FILE_EXTENSION_GOOGLE_DOC ||\n        extension === FILE_EXTENSION_GOOGLE_SHEET ||\n        extension === FILE_EXTENSION_GOOGLE_SLIDE ||\n        extension === FILE_EXTENSION_GOOGLE_SLIDE_LEGACY\n    );\n}\n\n/**\n * Returns the extension from the file name\n * @param {string} filename a Box file\n * @return {string} typed id for file\n */\nexport function getFileExtension(filename: string | void): string {\n    if (typeof filename !== 'string') {\n        return '';\n    }\n\n    const result = FILE_EXT_REGEX.exec(filename);\n    return getProp(result, '[1]', '');\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;;AAEA,OAAOA,OAAO,MAAM,YAAY;AAChC,SACIC,oBAAoB,EACpBC,sBAAsB,EACtBC,yBAAyB,EACzBC,uBAAuB,EACvBC,yBAAyB,EACzBC,2BAA2B,EAC3BC,2BAA2B,EAC3BC,kCAAkC,QAC/B,cAAc;AAGrB,MAAMC,cAAc,GAAG,iBAAiB,CAAC,CAAC;;AAE1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,cAAcA,CAACC,EAAU,EAAU;EAC/C,OAAO,GAAGV,oBAAoB,GAAGU,EAAE,EAAE;AACzC;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,gBAAgBA,CAACD,EAAU,EAAU;EACjD,OAAO,GAAGT,sBAAsB,GAAGS,EAAE,EAAE;AAC3C;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASE,SAASA,CAACC,IAAa,EAAW;EAC9C,OAAOA,IAAI,CAACC,SAAS,KAAKX,uBAAuB;AACrD;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASY,WAAWA,CAACF,IAAa,EAAW;EAChD,OAAOA,IAAI,CAACC,SAAS,KAAKZ,yBAAyB;AACvD;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASc,iBAAiBA,CAACF,SAAiB,EAAW;EAC1D,OACIA,SAAS,KAAKV,yBAAyB,IACvCU,SAAS,KAAKT,2BAA2B,IACzCS,SAAS,KAAKR,2BAA2B,IACzCQ,SAAS,KAAKP,kCAAkC;AAExD;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASU,gBAAgBA,CAACC,QAAuB,EAAU;EAC9D,IAAI,OAAOA,QAAQ,KAAK,QAAQ,EAAE;IAC9B,OAAO,EAAE;EACb;EAEA,MAAMC,MAAM,GAAGX,cAAc,CAACY,IAAI,CAACF,QAAQ,CAAC;EAC5C,OAAOnB,OAAO,CAACoB,MAAM,EAAE,KAAK,EAAE,EAAE,CAAC;AACrC","ignoreList":[]}