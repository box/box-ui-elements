{"version":3,"file":"validators.js","names":["Address","tldsHapi","hostnameValidator","value","regex","test","ipv4AddressValidator","domainNameValidator","domain","isValid","tldSupplements","emailValidator","email","tlds","allow","Set","map","tld","toLowerCase"],"sources":["../../src/utils/validators.js"],"sourcesContent":["// @flow\nimport Address from '@hapi/address';\nimport tldsHapi from '@hapi/address/lib/tlds';\n\nfunction hostnameValidator(value: string): boolean {\n    // @see https://github.com/hapijs/joi/blame/3516cf0b995c9fe415634c4612c0ac2f8792f0b4/lib/types/string/index.js#L530\n    const regex = /^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]*[a-zA-Z0-9])\\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9-]*[A-Za-z0-9])$/;\n    return regex.test(value);\n}\n\nfunction ipv4AddressValidator(value: string): boolean {\n    // @see https://www.oreilly.com/library/view/regular-expressions-cookbook/9780596802837/ch07s16.html\n    const regex = /^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;\n    return regex.test(value);\n}\n\nfunction domainNameValidator(value: string): boolean {\n    return Address.domain.isValid(value);\n}\n\n// @sideway/address ^4 has exhaustive TLDs, but upgrading requires a TextEncoder polyfill (such as fast-text-encoder) for IE11 support.\n// We can freely upgrade and remove manual TLD supplementation after IE11 EOL.\n\n// Diff of '@hapi/address/lib/tlds' and:\n// https://data.iana.org/TLD/tlds-alpha-by-domain.txt\n// Version 2022020100, Last Updated Tue Feb  1 07:07:01 2022 UTC,\nconst tldSupplements = [\n    'AMAZON',\n    'CPA',\n    'LLP',\n    'MUSIC',\n    'SPA',\n    'XN--4DBRK0CE',\n    'XN--CCKWCXETD',\n    'XN--JLQ480N2RG',\n    'XN--MGBCPQ6GPA1A',\n    'XN--Q7CE6A',\n    'ZW',\n];\n\nconst emailValidator = (value: string): boolean =>\n    Address.email.isValid(value, {\n        tlds: { allow: new Set([...tldsHapi, ...tldSupplements.map(tld => tld.toLowerCase())]) },\n    });\n\nexport { domainNameValidator, emailValidator, hostnameValidator, ipv4AddressValidator };\n"],"mappings":"AACA,OAAOA,OAAO,MAAM,eAAe;AACnC,OAAOC,QAAQ,MAAM,wBAAwB;AAE7C,SAASC,iBAAiBA,CAACC,KAAa,EAAW;EAC/C;EACA,MAAMC,KAAK,GAAG,2GAA2G;EACzH,OAAOA,KAAK,CAACC,IAAI,CAACF,KAAK,CAAC;AAC5B;AAEA,SAASG,oBAAoBA,CAACH,KAAa,EAAW;EAClD;EACA,MAAMC,KAAK,GAAG,6FAA6F;EAC3G,OAAOA,KAAK,CAACC,IAAI,CAACF,KAAK,CAAC;AAC5B;AAEA,SAASI,mBAAmBA,CAACJ,KAAa,EAAW;EACjD,OAAOH,OAAO,CAACQ,MAAM,CAACC,OAAO,CAACN,KAAK,CAAC;AACxC;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAMO,cAAc,GAAG,CACnB,QAAQ,EACR,KAAK,EACL,KAAK,EACL,OAAO,EACP,KAAK,EACL,cAAc,EACd,eAAe,EACf,gBAAgB,EAChB,kBAAkB,EAClB,YAAY,EACZ,IAAI,CACP;AAED,MAAMC,cAAc,GAAIR,KAAa,IACjCH,OAAO,CAACY,KAAK,CAACH,OAAO,CAACN,KAAK,EAAE;EACzBU,IAAI,EAAE;IAAEC,KAAK,EAAE,IAAIC,GAAG,CAAC,CAAC,GAAGd,QAAQ,EAAE,GAAGS,cAAc,CAACM,GAAG,CAACC,GAAG,IAAIA,GAAG,CAACC,WAAW,CAAC,CAAC,CAAC,CAAC;EAAE;AAC3F,CAAC,CAAC;AAEN,SAASX,mBAAmB,EAAEI,cAAc,EAAET,iBAAiB,EAAEI,oBAAoB","ignoreList":[]}