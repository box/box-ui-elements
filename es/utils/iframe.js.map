{"version":3,"file":"iframe.js","names":["createDownloadIframe","iframe","document","querySelector","createElement","setAttribute","style","display","body","appendChild","contentDocument","write","openUrlInsideIframe","url","src"],"sources":["../../src/utils/iframe.js"],"sourcesContent":["/**\n * @flow\n * @file Function to create iframe and downloading\n * @author Box\n */\n\n/**\n * Creates an empty iframe or uses an existing one\n * for the purposes of downloading or printing\n *\n * @private\n * @return {HTMLIFrameElement} Iframe\n */\nfunction createDownloadIframe(): HTMLIFrameElement {\n    let iframe: HTMLIFrameElement = ((document.querySelector('#boxdownloadiframe'): any): HTMLIFrameElement);\n    if (!iframe) {\n        // if no existing iframe create a new one\n        iframe = document.createElement('iframe');\n        iframe.setAttribute('id', 'boxdownloadiframe');\n        iframe.style.display = 'none';\n        if (document.body) {\n            document.body.appendChild(iframe);\n        }\n    }\n\n    // If the iframe previously failed to load contentDocument will be null\n    if (iframe.contentDocument) {\n        // Clean the iframe up\n        iframe.contentDocument.write('<head></head><body></body>');\n    }\n    return iframe;\n}\n\n/**\n * Opens url in an iframe\n * Used for downloads\n *\n * @param {string} url - URL to open\n * @return {HTMLIFrameElement}\n */\nexport default function openUrlInsideIframe(url: string): HTMLIFrameElement {\n    const iframe: HTMLIFrameElement = createDownloadIframe();\n    iframe.src = url;\n    return iframe;\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASA,oBAAoBA,CAAA,EAAsB;EAC/C,IAAIC,MAAyB,GAAKC,QAAQ,CAACC,aAAa,CAAC,oBAAoB,CAA2B;EACxG,IAAI,CAACF,MAAM,EAAE;IACT;IACAA,MAAM,GAAGC,QAAQ,CAACE,aAAa,CAAC,QAAQ,CAAC;IACzCH,MAAM,CAACI,YAAY,CAAC,IAAI,EAAE,mBAAmB,CAAC;IAC9CJ,MAAM,CAACK,KAAK,CAACC,OAAO,GAAG,MAAM;IAC7B,IAAIL,QAAQ,CAACM,IAAI,EAAE;MACfN,QAAQ,CAACM,IAAI,CAACC,WAAW,CAACR,MAAM,CAAC;IACrC;EACJ;;EAEA;EACA,IAAIA,MAAM,CAACS,eAAe,EAAE;IACxB;IACAT,MAAM,CAACS,eAAe,CAACC,KAAK,CAAC,4BAA4B,CAAC;EAC9D;EACA,OAAOV,MAAM;AACjB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASW,mBAAmBA,CAACC,GAAW,EAAqB;EACxE,MAAMZ,MAAyB,GAAGD,oBAAoB,CAAC,CAAC;EACxDC,MAAM,CAACa,GAAG,GAAGD,GAAG;EAChB,OAAOZ,MAAM;AACjB","ignoreList":[]}