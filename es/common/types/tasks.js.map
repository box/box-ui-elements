{"version":3,"file":"tasks.js","names":[],"sources":["../../../src/common/types/tasks.js"],"sourcesContent":["// @flow\nimport type {\n    FileMini,\n    FolderMini,\n    ISODate,\n    UserMini,\n    GroupMini,\n    MarkerPaginatedCollection,\n    SelectorItems,\n} from './core';\n\ntype ID = string;\n\ntype TaskCollabStatus = 'APPROVED' | 'REJECTED' | 'COMPLETED' | 'NOT_STARTED';\n\ntype TaskStatus = TaskCollabStatus | 'IN_PROGRESS';\n\ntype TaskCompletionRule = 'ALL_ASSIGNEES' | 'ANY_ASSIGNEE';\n\ntype TaskMini = {|\n    created_at: ISODate,\n    id: ID,\n    modified_at: ISODate,\n    status: TaskStatus,\n    type: 'task',\n|};\n\ntype TaskCollab<R> = {|\n    completed_at?: ?ISODate,\n    id: ID,\n    role: R,\n    status: TaskCollabStatus,\n    target: UserMini,\n    task?: TaskMini,\n    type: 'task_collaborator',\n|};\n\ntype TaskCollabCreator = TaskCollab<'CREATOR'>;\n\ntype TaskCollabAssignee = {|\n    ...TaskCollab<'ASSIGNEE'>,\n    permissions: {|\n        can_delete: boolean,\n        can_update: boolean,\n    |},\n|};\n\ntype TaskLink = {|\n    description?: string,\n    id: ID,\n    permissions: {|\n        can_delete: boolean,\n        can_update: boolean,\n    |},\n    target?: ?FileMini | ?FolderMini | ?UserMini,\n    task?: TaskMini,\n    type: 'task_link',\n|};\n\ntype TaskAssigneeCollection = MarkerPaginatedCollection<TaskCollabAssignee>;\n\ntype TaskLinkCollection = MarkerPaginatedCollection<TaskLink>;\n\ntype TaskType = 'GENERAL' | 'APPROVAL';\ntype TaskEditMode = 'CREATE' | 'EDIT';\n\ntype TaskNew = {|\n    assigned_to: TaskAssigneeCollection,\n    completed_at?: ?ISODate,\n    completion_rule: TaskCompletionRule,\n    created_at: ISODate,\n    created_by: TaskCollabCreator,\n    description: string,\n    due_at?: ?ISODate,\n    id: ID,\n    modified_at?: ISODate,\n    permissions: {|\n        can_create_task_collaborator: boolean,\n        can_create_task_link: boolean,\n        can_delete: boolean,\n        can_update: boolean,\n    |},\n    progress_at?: ?ISODate,\n    status: TaskStatus,\n    task_links: TaskLinkCollection,\n    task_type: TaskType,\n    type: 'task',\n|};\n\ntype TaskPayload = {\n    description: string,\n    due_at?: ?string,\n    task_type: TaskType,\n};\n\ntype TaskUpdatePayload = {\n    addedAssignees: SelectorItems<UserMini | GroupMini>,\n    completion_rule: TaskCompletionRule,\n    description: string,\n    due_at?: ?string,\n    id: string,\n    removedAssignees: Array<TaskCollabAssignee>,\n};\n\nexport type {\n    TaskCollabStatus,\n    TaskCompletionRule,\n    TaskStatus,\n    TaskCollabAssignee,\n    TaskLink,\n    TaskAssigneeCollection,\n    TaskType,\n    TaskEditMode,\n    TaskNew,\n    TaskPayload,\n    TaskUpdatePayload,\n};\n"],"mappings":"","ignoreList":[]}