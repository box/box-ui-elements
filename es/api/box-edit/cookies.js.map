{"version":3,"file":"cookies.js","names":["get","name","document","window","cookies","cookie","split","len","length","pair","i","decodeURIComponent","set","value","expires","path","domain","expiresDate","Date","getTime","setTime","push","encodeURIComponent","toUTCString","join","remove","isEnabled","theCookie"],"sources":["../../../src/api/box-edit/cookies.js"],"sourcesContent":["// @flow\n\n/**\n * Gets a cookie by name\n *\n * @param {string} name Cookie name.\n * @returns {string} Cookie value\n */\n\nfunction get(name: string): string {\n    const { document } = window;\n    const cookies = document.cookie.split('; ');\n    const len = cookies.length;\n\n    let pair;\n    let i;\n\n    for (i = 0; i < len; i += 1) {\n        pair = cookies[i].split('=');\n\n        if (pair[0] === name) {\n            if (pair[1]) {\n                // Internet Explorer doesn't set a = on empty cookie values, therefore pair[1] is undefined\n                return decodeURIComponent(pair[1]);\n            }\n            return '';\n        }\n    }\n\n    return '';\n}\n\n/**\n * Sets a cookie. The name and value are required, and all other params have default values.\n * It is recommended to use the default values unless you have a specific reason to override them.\n *\n * @param {string} name - Cookie name.\n * @param {mixed} value - Cookie value.\n * @param {int} expires - (Optional) Expiration date in UNIX time. Defaults to 2 months in the future. 0 for session cookies.\n * @param {string} path - (Optional) Cookie path. Defaults to the root path '/'.\n * @param {string} domain - (Optional) Cookie domain. Defaults to the cookie_domain used server-side.\n * @returns {void}\n */\nfunction set(name: string, value: any, expires: number, path: string = '/', domain: string = '') {\n    const { document } = window;\n    const expiresDate = new Date();\n    const cookie = [];\n\n    if (typeof expires === 'undefined') {\n        expires = expiresDate.getTime() + 1000 * 3600 * 24 * 60; // two months;\n    }\n    expiresDate.setTime(expires);\n\n    cookie.push(`${name}=${encodeURIComponent(value)}`);\n    if (expires !== 0) {\n        // do not add \"expires\" when creating a session cookie\n        cookie.push(`; expires=${expiresDate.toUTCString()}`);\n    }\n    cookie.push(`; path=${path}`);\n\n    if (domain) {\n        cookie.push(`; domain=${domain}`);\n    }\n\n    cookie.push('; secure');\n\n    document.cookie = cookie.join('');\n}\n\n/**\n * Deletes a cookie by name.\n *\n * @param {string} name Cookie name.\n * @returns {void}\n */\nfunction remove(name: string): void {\n    set(name, '', new Date(0).getTime());\n}\n\n/**\n * Checks if cookies are enabled for this browser\n * This is useful when treating Box as a 3rd party (iframed)\n * @returns {boolean} True if cookies are enabled, false if not.\n */\nfunction isEnabled(): boolean {\n    const { document } = window;\n    const theCookie = document.cookie;\n    return !!(theCookie && theCookie.length > 0);\n}\n\nexport { get, isEnabled, remove, set };\n"],"mappings":"AAEA;AACA;AACA;AACA;AACA;AACA;AAEA,SAASA,GAAGA,CAACC,IAAY,EAAU;EAC/B,MAAM;IAAEC;EAAS,CAAC,GAAGC,MAAM;EAC3B,MAAMC,OAAO,GAAGF,QAAQ,CAACG,MAAM,CAACC,KAAK,CAAC,IAAI,CAAC;EAC3C,MAAMC,GAAG,GAAGH,OAAO,CAACI,MAAM;EAE1B,IAAIC,IAAI;EACR,IAAIC,CAAC;EAEL,KAAKA,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,GAAG,EAAEG,CAAC,IAAI,CAAC,EAAE;IACzBD,IAAI,GAAGL,OAAO,CAACM,CAAC,CAAC,CAACJ,KAAK,CAAC,GAAG,CAAC;IAE5B,IAAIG,IAAI,CAAC,CAAC,CAAC,KAAKR,IAAI,EAAE;MAClB,IAAIQ,IAAI,CAAC,CAAC,CAAC,EAAE;QACT;QACA,OAAOE,kBAAkB,CAACF,IAAI,CAAC,CAAC,CAAC,CAAC;MACtC;MACA,OAAO,EAAE;IACb;EACJ;EAEA,OAAO,EAAE;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASG,GAAGA,CAACX,IAAY,EAAEY,KAAU,EAAEC,OAAe,EAAEC,IAAY,GAAG,GAAG,EAAEC,MAAc,GAAG,EAAE,EAAE;EAC7F,MAAM;IAAEd;EAAS,CAAC,GAAGC,MAAM;EAC3B,MAAMc,WAAW,GAAG,IAAIC,IAAI,CAAC,CAAC;EAC9B,MAAMb,MAAM,GAAG,EAAE;EAEjB,IAAI,OAAOS,OAAO,KAAK,WAAW,EAAE;IAChCA,OAAO,GAAGG,WAAW,CAACE,OAAO,CAAC,CAAC,GAAG,IAAI,GAAG,IAAI,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;EAC7D;EACAF,WAAW,CAACG,OAAO,CAACN,OAAO,CAAC;EAE5BT,MAAM,CAACgB,IAAI,CAAC,GAAGpB,IAAI,IAAIqB,kBAAkB,CAACT,KAAK,CAAC,EAAE,CAAC;EACnD,IAAIC,OAAO,KAAK,CAAC,EAAE;IACf;IACAT,MAAM,CAACgB,IAAI,CAAC,aAAaJ,WAAW,CAACM,WAAW,CAAC,CAAC,EAAE,CAAC;EACzD;EACAlB,MAAM,CAACgB,IAAI,CAAC,UAAUN,IAAI,EAAE,CAAC;EAE7B,IAAIC,MAAM,EAAE;IACRX,MAAM,CAACgB,IAAI,CAAC,YAAYL,MAAM,EAAE,CAAC;EACrC;EAEAX,MAAM,CAACgB,IAAI,CAAC,UAAU,CAAC;EAEvBnB,QAAQ,CAACG,MAAM,GAAGA,MAAM,CAACmB,IAAI,CAAC,EAAE,CAAC;AACrC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,MAAMA,CAACxB,IAAY,EAAQ;EAChCW,GAAG,CAACX,IAAI,EAAE,EAAE,EAAE,IAAIiB,IAAI,CAAC,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC,CAAC;AACxC;;AAEA;AACA;AACA;AACA;AACA;AACA,SAASO,SAASA,CAAA,EAAY;EAC1B,MAAM;IAAExB;EAAS,CAAC,GAAGC,MAAM;EAC3B,MAAMwB,SAAS,GAAGzB,QAAQ,CAACG,MAAM;EACjC,OAAO,CAAC,EAAEsB,SAAS,IAAIA,SAAS,CAACnB,MAAM,GAAG,CAAC,CAAC;AAChD;AAEA,SAASR,GAAG,EAAE0B,SAAS,EAAED,MAAM,EAAEb,GAAG","ignoreList":[]}