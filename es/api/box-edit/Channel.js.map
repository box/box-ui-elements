{"version":3,"file":"Channel.js","names":["CONSTANTS","Channel","constructor","appName","_defineProperty","REQUEST_ID_PRE","window","performance","now","operationType","data","comServerToApplicationTimeoutSec","timeoutSecString","toString","details","undefined","operation","properties","application","timeout","req_id","buildNextRequestID","OPERATION_STATUS","TypeError","sendCommand","requestData","browserToComServerTimeoutMS","Promise","resolve","sendRequest","getComServerStatus","destroy"],"sources":["../../../src/api/box-edit/Channel.js"],"sourcesContent":["// @flow\nimport CONSTANTS from './constants';\n\n/* eslint-disable*/\nclass Channel {\n    channelName: string;\n    appName: string;\n    window: any;\n\n    constructor(appName: string) {\n        this.appName = appName;\n        this.window = window;\n    }\n\n    buildNextRequestID = () => `${CONSTANTS.REQUEST_ID_PRE}${this.window.performance.now()}`;\n\n    buildDetailsObj = (operationType: string, data: ?Object, comServerToApplicationTimeoutSec: number) => {\n        const timeoutSecString = comServerToApplicationTimeoutSec.toString();\n        const details = {\n            data: undefined,\n            operation: operationType,\n            properties: {\n                application: this.appName,\n                timeout: timeoutSecString,\n            },\n            // eslint-disable-next-line camelcase\n            req_id: this.buildNextRequestID(),\n        };\n\n        if (operationType !== CONSTANTS.OPERATION_STATUS) {\n            if (!data) {\n                throw new TypeError(`Data cannot be undefined for ${operationType}`);\n            }\n\n            details.data = data;\n        }\n\n        return details;\n    };\n\n    sendCommand(\n        requestData: any,\n        browserToComServerTimeoutMS: number,\n        comServerToApplicationTimeoutSec: number,\n    ): Promise<any> {\n        return Promise.resolve('TODO');\n    }\n\n    sendRequest(\n        requestData: any,\n        browserToComServerTimeoutMS: number,\n        comServerToApplicationTimeoutSec: number,\n    ): Promise<any> {\n        return Promise.resolve('TODO');\n    }\n\n    getComServerStatus(browserToComServerTimeoutMS: number, comServerToApplicationTimeoutSec: number): Promise<any> {\n        return Promise.resolve('TODO');\n    }\n\n    destroy(): void {}\n}\n\nexport default Channel;\n"],"mappings":";;;AACA,OAAOA,SAAS,MAAM,aAAa;;AAEnC;AACA,MAAMC,OAAO,CAAC;EAKVC,WAAWA,CAACC,OAAe,EAAE;IAAAC,eAAA,6BAKR,MAAM,GAAGJ,SAAS,CAACK,cAAc,GAAG,IAAI,CAACC,MAAM,CAACC,WAAW,CAACC,GAAG,CAAC,CAAC,EAAE;IAAAJ,eAAA,0BAEtE,CAACK,aAAqB,EAAEC,IAAa,EAAEC,gCAAwC,KAAK;MAClG,MAAMC,gBAAgB,GAAGD,gCAAgC,CAACE,QAAQ,CAAC,CAAC;MACpE,MAAMC,OAAO,GAAG;QACZJ,IAAI,EAAEK,SAAS;QACfC,SAAS,EAAEP,aAAa;QACxBQ,UAAU,EAAE;UACRC,WAAW,EAAE,IAAI,CAACf,OAAO;UACzBgB,OAAO,EAAEP;QACb,CAAC;QACD;QACAQ,MAAM,EAAE,IAAI,CAACC,kBAAkB,CAAC;MACpC,CAAC;MAED,IAAIZ,aAAa,KAAKT,SAAS,CAACsB,gBAAgB,EAAE;QAC9C,IAAI,CAACZ,IAAI,EAAE;UACP,MAAM,IAAIa,SAAS,CAAC,gCAAgCd,aAAa,EAAE,CAAC;QACxE;QAEAK,OAAO,CAACJ,IAAI,GAAGA,IAAI;MACvB;MAEA,OAAOI,OAAO;IAClB,CAAC;IA5BG,IAAI,CAACX,OAAO,GAAGA,OAAO;IACtB,IAAI,CAACG,MAAM,GAAGA,MAAM;EACxB;EA4BAkB,WAAWA,CACPC,WAAgB,EAChBC,2BAAmC,EACnCf,gCAAwC,EAC5B;IACZ,OAAOgB,OAAO,CAACC,OAAO,CAAC,MAAM,CAAC;EAClC;EAEAC,WAAWA,CACPJ,WAAgB,EAChBC,2BAAmC,EACnCf,gCAAwC,EAC5B;IACZ,OAAOgB,OAAO,CAACC,OAAO,CAAC,MAAM,CAAC;EAClC;EAEAE,kBAAkBA,CAACJ,2BAAmC,EAAEf,gCAAwC,EAAgB;IAC5G,OAAOgB,OAAO,CAACC,OAAO,CAAC,MAAM,CAAC;EAClC;EAEAG,OAAOA,CAAA,EAAS,CAAC;AACrB;AAEA,eAAe9B,OAAO","ignoreList":[]}