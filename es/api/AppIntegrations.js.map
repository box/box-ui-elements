{"version":3,"file":"AppIntegrations.js","names":["Base","TYPE_FILE","ERROR_CODE_EXECUTE_INTEGRATION","AppIntegrations","getUrl","integrationId","Error","getBaseApiUrl","execute","fileId","successCallback","errorCallback","errorCode","executeURL","body","data","item","id","type","post","url"],"sources":["../../src/api/AppIntegrations.js"],"sourcesContent":["/**\n * @flow\n * @file Helper for the app_integrations API endpoint\n * @author Box\n */\n\nimport Base from './Base';\nimport { TYPE_FILE, ERROR_CODE_EXECUTE_INTEGRATION } from '../constants';\nimport type { ElementsErrorCallback } from '../common/types/api';\n\nclass AppIntegrations extends Base {\n    /**\n     * API URL for Open With\n     *\n     * @param {string} [integrationId] - a box integration app ID\n     * @return {string} base url for app integrations\n     */\n    getUrl(integrationId: string): string {\n        if (!integrationId) {\n            throw new Error('Missing app integration id!');\n        }\n\n        return `${this.getBaseApiUrl()}/app_integrations/${integrationId}`;\n    }\n\n    /**\n     * API endpoint to execute an integration, given an ID\n     *\n     * @param {string} integrationID - An app integration ID\n     * @param {string} fileID - A file ID\n     * @return {string} base url for files\n     */\n    execute(\n        integrationId: ?string,\n        fileId: ?string,\n        successCallback: Function,\n        errorCallback: ElementsErrorCallback,\n    ): void {\n        if (!integrationId) {\n            throw new Error('Missing integration id!');\n        }\n\n        if (!fileId) {\n            throw new Error('Missing file id!');\n        }\n\n        this.errorCode = ERROR_CODE_EXECUTE_INTEGRATION;\n        const executeURL = `${this.getUrl(integrationId)}/execute`;\n        const body = {\n            data: {\n                item: {\n                    id: fileId,\n                    type: TYPE_FILE,\n                },\n            },\n        };\n\n        this.post({\n            id: fileId,\n            url: executeURL,\n            data: body,\n            successCallback,\n            errorCallback,\n        });\n    }\n}\n\nexport default AppIntegrations;\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;;AAEA,OAAOA,IAAI,MAAM,QAAQ;AACzB,SAASC,SAAS,EAAEC,8BAA8B,QAAQ,cAAc;AAGxE,MAAMC,eAAe,SAASH,IAAI,CAAC;EAC/B;AACJ;AACA;AACA;AACA;AACA;EACII,MAAMA,CAACC,aAAqB,EAAU;IAClC,IAAI,CAACA,aAAa,EAAE;MAChB,MAAM,IAAIC,KAAK,CAAC,6BAA6B,CAAC;IAClD;IAEA,OAAO,GAAG,IAAI,CAACC,aAAa,CAAC,CAAC,qBAAqBF,aAAa,EAAE;EACtE;;EAEA;AACJ;AACA;AACA;AACA;AACA;AACA;EACIG,OAAOA,CACHH,aAAsB,EACtBI,MAAe,EACfC,eAAyB,EACzBC,aAAoC,EAChC;IACJ,IAAI,CAACN,aAAa,EAAE;MAChB,MAAM,IAAIC,KAAK,CAAC,yBAAyB,CAAC;IAC9C;IAEA,IAAI,CAACG,MAAM,EAAE;MACT,MAAM,IAAIH,KAAK,CAAC,kBAAkB,CAAC;IACvC;IAEA,IAAI,CAACM,SAAS,GAAGV,8BAA8B;IAC/C,MAAMW,UAAU,GAAG,GAAG,IAAI,CAACT,MAAM,CAACC,aAAa,CAAC,UAAU;IAC1D,MAAMS,IAAI,GAAG;MACTC,IAAI,EAAE;QACFC,IAAI,EAAE;UACFC,EAAE,EAAER,MAAM;UACVS,IAAI,EAAEjB;QACV;MACJ;IACJ,CAAC;IAED,IAAI,CAACkB,IAAI,CAAC;MACNF,EAAE,EAAER,MAAM;MACVW,GAAG,EAAEP,UAAU;MACfE,IAAI,EAAED,IAAI;MACVJ,eAAe;MACfC;IACJ,CAAC,CAAC;EACN;AACJ;AAEA,eAAeR,eAAe","ignoreList":[]}