{"version":3,"file":"TaskCollaborators.js","names":["omit","TasksBase","ERROR_CODE_FETCH_TASK_COLLABORATOR","ERROR_CODE_CREATE_TASK_COLLABORATOR","ERROR_CODE_UPDATE_TASK_COLLABORATOR","ERROR_CODE_DELETE_TASK_COLLABORATOR","API_PAGE_LIMIT","TaskCollaborators","getUrlForTaskCollaborators","taskId","getBaseApiUrl","getUrlForTaskCollaboratorCreate","getUrlForTaskCollaborator","id","getUrlForTaskGroupCreate","createTaskCollaborator","errorCallback","file","successCallback","task","user","errorCode","requestData","data","type","target","post","url","_objectSpread","createTaskCollaboratorsforGroup","group","getTaskCollaborators","get","updateTaskCollaborator","taskCollaborator","put","deleteTaskCollaborator","delete"],"sources":["../../../src/api/tasks/TaskCollaborators.js"],"sourcesContent":["/**\n * @flow\n * @file Helper for the box Task Collaborators API\n * @author Box\n */\nimport omit from 'lodash/omit';\n\nimport TasksBase from './TasksBase';\nimport {\n    ERROR_CODE_FETCH_TASK_COLLABORATOR,\n    ERROR_CODE_CREATE_TASK_COLLABORATOR,\n    ERROR_CODE_UPDATE_TASK_COLLABORATOR,\n    ERROR_CODE_DELETE_TASK_COLLABORATOR,\n    API_PAGE_LIMIT,\n} from '../../constants';\nimport type { ElementsErrorCallback } from '../../common/types/api';\nimport type { BoxItem } from '../../common/types/core';\n\nclass TaskCollaborators extends TasksBase {\n    getUrlForTaskCollaborators(taskId: string): string {\n        return `${this.getBaseApiUrl()}/undoc/tasks/${taskId}/task_collaborators?role=ASSIGNEE&limit=${API_PAGE_LIMIT}`;\n    }\n\n    getUrlForTaskCollaboratorCreate(): string {\n        return `${this.getBaseApiUrl()}/undoc/task_collaborators`;\n    }\n\n    getUrlForTaskCollaborator(id: string): string {\n        return `${this.getBaseApiUrl()}/undoc/task_collaborators/${id}`;\n    }\n\n    getUrlForTaskGroupCreate(): string {\n        return `${this.getBaseApiUrl()}/undoc/task_collaborators/expand_group`;\n    }\n\n    createTaskCollaborator({\n        errorCallback,\n        file,\n        successCallback,\n        task,\n        user,\n    }: {\n        errorCallback: ElementsErrorCallback,\n        file: BoxItem,\n        successCallback: Function,\n        task: { id: string },\n        user: { id: string },\n    }): void {\n        this.errorCode = ERROR_CODE_CREATE_TASK_COLLABORATOR;\n\n        const requestData = {\n            data: {\n                task: {\n                    type: 'task',\n                    id: task.id,\n                },\n                target: {\n                    type: 'user',\n                    id: user.id,\n                },\n            },\n        };\n\n        this.post({\n            id: file.id,\n            url: this.getUrlForTaskCollaboratorCreate(),\n            data: { ...requestData },\n            successCallback,\n            errorCallback,\n        });\n    }\n\n    createTaskCollaboratorsforGroup({\n        errorCallback,\n        file,\n        successCallback,\n        task,\n        group,\n    }: {\n        errorCallback: ElementsErrorCallback,\n        file: BoxItem,\n        group: { id: string },\n        successCallback: Function,\n        task: { id: string },\n    }): void {\n        this.errorCode = ERROR_CODE_CREATE_TASK_COLLABORATOR;\n\n        const requestData = {\n            data: {\n                task: {\n                    type: 'task',\n                    id: task.id,\n                },\n                target: {\n                    type: 'group',\n                    id: group.id,\n                },\n            },\n        };\n\n        this.post({\n            id: file.id,\n            url: this.getUrlForTaskGroupCreate(),\n            data: { ...requestData },\n            successCallback,\n            errorCallback,\n        });\n    }\n\n    getTaskCollaborators({\n        errorCallback,\n        file,\n        successCallback,\n        task,\n    }: {\n        errorCallback: ElementsErrorCallback,\n        file: { id: string },\n        successCallback: Function,\n        task: { id: string },\n    }): void {\n        this.errorCode = ERROR_CODE_FETCH_TASK_COLLABORATOR;\n        const url = this.getUrlForTaskCollaborators(task.id);\n        this.get({ id: file.id, successCallback, errorCallback, url });\n    }\n\n    updateTaskCollaborator({\n        errorCallback,\n        file,\n        successCallback,\n        taskCollaborator,\n    }: {\n        errorCallback: ElementsErrorCallback,\n        file: BoxItem,\n        successCallback: Function,\n        taskCollaborator: { id: string },\n    }): void {\n        this.errorCode = ERROR_CODE_UPDATE_TASK_COLLABORATOR;\n\n        const requestData = {\n            data: omit(taskCollaborator, 'id'),\n        };\n\n        this.put({\n            id: file.id,\n            url: this.getUrlForTaskCollaborator(taskCollaborator.id),\n            data: { ...requestData },\n            successCallback,\n            errorCallback,\n        });\n    }\n\n    deleteTaskCollaborator({\n        errorCallback,\n        file,\n        successCallback,\n        taskCollaborator,\n    }: {\n        errorCallback: ElementsErrorCallback,\n        file: BoxItem,\n        successCallback: Function,\n        taskCollaborator: { id: string },\n    }): void {\n        this.errorCode = ERROR_CODE_DELETE_TASK_COLLABORATOR;\n\n        this.delete({\n            id: file.id,\n            url: this.getUrlForTaskCollaborator(taskCollaborator.id),\n            successCallback,\n            errorCallback,\n        });\n    }\n}\n\nexport default TaskCollaborators;\n"],"mappings":"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","ignoreList":[]}